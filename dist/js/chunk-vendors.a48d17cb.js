(self["webpackChunkclassroom"]=self["webpackChunkclassroom"]||[]).push([[998],{9662:(e,t,n)=>{var r=n(7854),i=n(614),a=n(6330),o=r.TypeError;e.exports=function(e){if(i(e))return e;throw o(a(e)+" is not a function")}},9483:(e,t,n)=>{var r=n(7854),i=n(4411),a=n(6330),o=r.TypeError;e.exports=function(e){if(i(e))return e;throw o(a(e)+" is not a constructor")}},6077:(e,t,n)=>{var r=n(7854),i=n(614),a=r.String,o=r.TypeError;e.exports=function(e){if("object"==typeof e||i(e))return e;throw o("Can't set "+a(e)+" as a prototype")}},1223:(e,t,n)=>{var r=n(5112),i=n(30),a=n(3070).f,o=r("unscopables"),u=Array.prototype;void 0==u[o]&&a(u,o,{configurable:!0,value:i(null)}),e.exports=function(e){u[o][e]=!0}},1530:(e,t,n)=>{"use strict";var r=n(8710).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},5787:(e,t,n)=>{var r=n(7854),i=n(7976),a=r.TypeError;e.exports=function(e,t){if(i(t,e))return e;throw a("Incorrect invocation")}},9670:(e,t,n)=>{var r=n(7854),i=n(111),a=r.String,o=r.TypeError;e.exports=function(e){if(i(e))return e;throw o(a(e)+" is not an object")}},4019:e=>{e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},7556:(e,t,n)=>{var r=n(7293);e.exports=r((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},260:(e,t,n)=>{"use strict";var r,i,a,o=n(4019),u=n(9781),s=n(7854),c=n(614),l=n(111),f=n(2597),h=n(648),d=n(6330),v=n(8880),p=n(8052),y=n(3070).f,g=n(7976),m=n(9518),w=n(7674),k=n(5112),b=n(9711),x=s.Int8Array,E=x&&x.prototype,_=s.Uint8ClampedArray,I=_&&_.prototype,S=x&&m(x),T=E&&m(E),A=Object.prototype,Z=s.TypeError,C=k("toStringTag"),D=b("TYPED_ARRAY_TAG"),O=b("TYPED_ARRAY_CONSTRUCTOR"),N=o&&!!w&&"Opera"!==h(s.opera),R=!1,M={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},L={BigInt64Array:8,BigUint64Array:8},P=function(e){if(!l(e))return!1;var t=h(e);return"DataView"===t||f(M,t)||f(L,t)},F=function(e){if(!l(e))return!1;var t=h(e);return f(M,t)||f(L,t)},V=function(e){if(F(e))return e;throw Z("Target is not a typed array")},j=function(e){if(c(e)&&(!w||g(S,e)))return e;throw Z(d(e)+" is not a typed array constructor")},U=function(e,t,n,r){if(u){if(n)for(var i in M){var a=s[i];if(a&&f(a.prototype,e))try{delete a.prototype[e]}catch(o){try{a.prototype[e]=t}catch(c){}}}T[e]&&!n||p(T,e,n?t:N&&E[e]||t,r)}},B=function(e,t,n){var r,i;if(u){if(w){if(n)for(r in M)if(i=s[r],i&&f(i,e))try{delete i[e]}catch(a){}if(S[e]&&!n)return;try{return p(S,e,n?t:N&&S[e]||t)}catch(a){}}for(r in M)i=s[r],!i||i[e]&&!n||p(i,e,t)}};for(r in M)i=s[r],a=i&&i.prototype,a?v(a,O,i):N=!1;for(r in L)i=s[r],a=i&&i.prototype,a&&v(a,O,i);if((!N||!c(S)||S===Function.prototype)&&(S=function(){throw Z("Incorrect invocation")},N))for(r in M)s[r]&&w(s[r],S);if((!N||!T||T===A)&&(T=S.prototype,N))for(r in M)s[r]&&w(s[r].prototype,T);if(N&&m(I)!==T&&w(I,T),u&&!f(T,C))for(r in R=!0,y(T,C,{get:function(){return l(this)?this[D]:void 0}}),M)s[r]&&v(s[r],D,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:N,TYPED_ARRAY_CONSTRUCTOR:O,TYPED_ARRAY_TAG:R&&D,aTypedArray:V,aTypedArrayConstructor:j,exportTypedArrayMethod:U,exportTypedArrayStaticMethod:B,isView:P,isTypedArray:F,TypedArray:S,TypedArrayPrototype:T}},3331:(e,t,n)=>{"use strict";var r=n(7854),i=n(1702),a=n(9781),o=n(4019),u=n(6530),s=n(8880),c=n(9190),l=n(7293),f=n(5787),h=n(9303),d=n(7466),v=n(7067),p=n(1179),y=n(9518),g=n(7674),m=n(8006).f,w=n(3070).f,k=n(1285),b=n(1589),x=n(8003),E=n(9909),_=u.PROPER,I=u.CONFIGURABLE,S=E.get,T=E.set,A="ArrayBuffer",Z="DataView",C="prototype",D="Wrong length",O="Wrong index",N=r[A],R=N,M=R&&R[C],L=r[Z],P=L&&L[C],F=Object.prototype,V=r.Array,j=r.RangeError,U=i(k),B=i([].reverse),q=p.pack,G=p.unpack,K=function(e){return[255&e]},z=function(e){return[255&e,e>>8&255]},H=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},W=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},Q=function(e){return q(e,23,4)},J=function(e){return q(e,52,8)},Y=function(e,t){w(e[C],t,{get:function(){return S(this)[t]}})},$=function(e,t,n,r){var i=v(n),a=S(e);if(i+t>a.byteLength)throw j(O);var o=S(a.buffer).bytes,u=i+a.byteOffset,s=b(o,u,u+t);return r?s:B(s)},X=function(e,t,n,r,i,a){var o=v(n),u=S(e);if(o+t>u.byteLength)throw j(O);for(var s=S(u.buffer).bytes,c=o+u.byteOffset,l=r(+i),f=0;f<t;f++)s[c+f]=l[a?f:t-f-1]};if(o){var ee=_&&N.name!==A;if(l((function(){N(1)}))&&l((function(){new N(-1)}))&&!l((function(){return new N,new N(1.5),new N(NaN),ee&&!I})))ee&&I&&s(N,"name",A);else{R=function(e){return f(this,M),new N(v(e))},R[C]=M;for(var te,ne=m(N),re=0;ne.length>re;)(te=ne[re++])in R||s(R,te,N[te]);M.constructor=R}g&&y(P)!==F&&g(P,F);var ie=new L(new R(2)),ae=i(P.setInt8);ie.setInt8(0,2147483648),ie.setInt8(1,2147483649),!ie.getInt8(0)&&ie.getInt8(1)||c(P,{setInt8:function(e,t){ae(this,e,t<<24>>24)},setUint8:function(e,t){ae(this,e,t<<24>>24)}},{unsafe:!0})}else R=function(e){f(this,M);var t=v(e);T(this,{bytes:U(V(t),0),byteLength:t}),a||(this.byteLength=t)},M=R[C],L=function(e,t,n){f(this,P),f(e,M);var r=S(e).byteLength,i=h(t);if(i<0||i>r)throw j("Wrong offset");if(n=void 0===n?r-i:d(n),i+n>r)throw j(D);T(this,{buffer:e,byteLength:n,byteOffset:i}),a||(this.buffer=e,this.byteLength=n,this.byteOffset=i)},P=L[C],a&&(Y(R,"byteLength"),Y(L,"buffer"),Y(L,"byteLength"),Y(L,"byteOffset")),c(P,{getInt8:function(e){return $(this,1,e)[0]<<24>>24},getUint8:function(e){return $(this,1,e)[0]},getInt16:function(e){var t=$(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=$(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return W($(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return W($(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return G($(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return G($(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){X(this,1,e,K,t)},setUint8:function(e,t){X(this,1,e,K,t)},setInt16:function(e,t){X(this,2,e,z,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){X(this,2,e,z,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){X(this,4,e,H,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){X(this,4,e,H,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){X(this,4,e,Q,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){X(this,8,e,J,t,arguments.length>2?arguments[2]:void 0)}});x(R,A),x(L,Z),e.exports={ArrayBuffer:R,DataView:L}},1048:(e,t,n)=>{"use strict";var r=n(7908),i=n(1400),a=n(6244),o=Math.min;e.exports=[].copyWithin||function(e,t){var n=r(this),u=a(n),s=i(e,u),c=i(t,u),l=arguments.length>2?arguments[2]:void 0,f=o((void 0===l?u:i(l,u))-c,u-s),h=1;c<s&&s<c+f&&(h=-1,c+=f-1,s+=f-1);while(f-- >0)c in n?n[s]=n[c]:delete n[s],s+=h,c+=h;return n}},1285:(e,t,n)=>{"use strict";var r=n(7908),i=n(1400),a=n(6244);e.exports=function(e){var t=r(this),n=a(t),o=arguments.length,u=i(o>1?arguments[1]:void 0,n),s=o>2?arguments[2]:void 0,c=void 0===s?n:i(s,n);while(c>u)t[u++]=e;return t}},8533:(e,t,n)=>{"use strict";var r=n(2092).forEach,i=n(9341),a=i("forEach");e.exports=a?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},7745:(e,t,n)=>{var r=n(6244);e.exports=function(e,t){var n=0,i=r(t),a=new e(i);while(i>n)a[n]=t[n++];return a}},8457:(e,t,n)=>{"use strict";var r=n(7854),i=n(9974),a=n(6916),o=n(7908),u=n(3411),s=n(7659),c=n(4411),l=n(6244),f=n(6135),h=n(8554),d=n(1246),v=r.Array;e.exports=function(e){var t=o(e),n=c(this),r=arguments.length,p=r>1?arguments[1]:void 0,y=void 0!==p;y&&(p=i(p,r>2?arguments[2]:void 0));var g,m,w,k,b,x,E=d(t),_=0;if(!E||this==v&&s(E))for(g=l(t),m=n?new this(g):v(g);g>_;_++)x=y?p(t[_],_):t[_],f(m,_,x);else for(k=h(t,E),b=k.next,m=n?new this:[];!(w=a(b,k)).done;_++)x=y?u(k,p,[w.value,_],!0):w.value,f(m,_,x);return m.length=_,m}},1318:(e,t,n)=>{var r=n(5656),i=n(1400),a=n(6244),o=function(e){return function(t,n,o){var u,s=r(t),c=a(s),l=i(o,c);if(e&&n!=n){while(c>l)if(u=s[l++],u!=u)return!0}else for(;c>l;l++)if((e||l in s)&&s[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},2092:(e,t,n)=>{var r=n(9974),i=n(1702),a=n(8361),o=n(7908),u=n(6244),s=n(5417),c=i([].push),l=function(e){var t=1==e,n=2==e,i=3==e,l=4==e,f=6==e,h=7==e,d=5==e||f;return function(v,p,y,g){for(var m,w,k=o(v),b=a(k),x=r(p,y),E=u(b),_=0,I=g||s,S=t?I(v,E):n||h?I(v,0):void 0;E>_;_++)if((d||_ in b)&&(m=b[_],w=x(m,_,k),e))if(t)S[_]=w;else if(w)switch(e){case 3:return!0;case 5:return m;case 6:return _;case 2:c(S,m)}else switch(e){case 4:return!1;case 7:c(S,m)}return f?-1:i||l?l:S}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},6583:(e,t,n)=>{"use strict";var r=n(2104),i=n(5656),a=n(9303),o=n(6244),u=n(9341),s=Math.min,c=[].lastIndexOf,l=!!c&&1/[1].lastIndexOf(1,-0)<0,f=u("lastIndexOf"),h=l||!f;e.exports=h?function(e){if(l)return r(c,this,arguments)||0;var t=i(this),n=o(t),u=n-1;for(arguments.length>1&&(u=s(u,a(arguments[1]))),u<0&&(u=n+u);u>=0;u--)if(u in t&&t[u]===e)return u||0;return-1}:c},1194:(e,t,n)=>{var r=n(7293),i=n(5112),a=n(7392),o=i("species");e.exports=function(e){return a>=51||!r((function(){var t=[],n=t.constructor={};return n[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},9341:(e,t,n)=>{"use strict";var r=n(7293);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){return 1},1)}))}},3671:(e,t,n)=>{var r=n(7854),i=n(9662),a=n(7908),o=n(8361),u=n(6244),s=r.TypeError,c=function(e){return function(t,n,r,c){i(n);var l=a(t),f=o(l),h=u(l),d=e?h-1:0,v=e?-1:1;if(r<2)while(1){if(d in f){c=f[d],d+=v;break}if(d+=v,e?d<0:h<=d)throw s("Reduce of empty array with no initial value")}for(;e?d>=0:h>d;d+=v)d in f&&(c=n(c,f[d],d,l));return c}};e.exports={left:c(!1),right:c(!0)}},1589:(e,t,n)=>{var r=n(7854),i=n(1400),a=n(6244),o=n(6135),u=r.Array,s=Math.max;e.exports=function(e,t,n){for(var r=a(e),c=i(t,r),l=i(void 0===n?r:n,r),f=u(s(l-c,0)),h=0;c<l;c++,h++)o(f,h,e[c]);return f.length=h,f}},206:(e,t,n)=>{var r=n(1702);e.exports=r([].slice)},4362:(e,t,n)=>{var r=n(1589),i=Math.floor,a=function(e,t){var n=e.length,s=i(n/2);return n<8?o(e,t):u(e,a(r(e,0,s),t),a(r(e,s),t),t)},o=function(e,t){var n,r,i=e.length,a=1;while(a<i){r=a,n=e[a];while(r&&t(e[r-1],n)>0)e[r]=e[--r];r!==a++&&(e[r]=n)}return e},u=function(e,t,n,r){var i=t.length,a=n.length,o=0,u=0;while(o<i||u<a)e[o+u]=o<i&&u<a?r(t[o],n[u])<=0?t[o++]:n[u++]:o<i?t[o++]:n[u++];return e};e.exports=a},7475:(e,t,n)=>{var r=n(7854),i=n(3157),a=n(4411),o=n(111),u=n(5112),s=u("species"),c=r.Array;e.exports=function(e){var t;return i(e)&&(t=e.constructor,a(t)&&(t===c||i(t.prototype))?t=void 0:o(t)&&(t=t[s],null===t&&(t=void 0))),void 0===t?c:t}},5417:(e,t,n)=>{var r=n(7475);e.exports=function(e,t){return new(r(e))(0===t?0:t)}},4170:e=>{for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n={},r=0;r<66;r++)n[t.charAt(r)]=r;e.exports={itoc:t,ctoi:n}},3411:(e,t,n)=>{var r=n(9670),i=n(9212);e.exports=function(e,t,n,a){try{return a?t(r(n)[0],n[1]):t(n)}catch(o){i(e,"throw",o)}}},7072:(e,t,n)=>{var r=n(5112),i=r("iterator"),a=!1;try{var o=0,u={next:function(){return{done:!!o++}},return:function(){a=!0}};u[i]=function(){return this},Array.from(u,(function(){throw 2}))}catch(s){}e.exports=function(e,t){if(!t&&!a)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(s){}return n}},4326:(e,t,n)=>{var r=n(1702),i=r({}.toString),a=r("".slice);e.exports=function(e){return a(i(e),8,-1)}},648:(e,t,n)=>{var r=n(7854),i=n(1694),a=n(614),o=n(4326),u=n(5112),s=u("toStringTag"),c=r.Object,l="Arguments"==o(function(){return arguments}()),f=function(e,t){try{return e[t]}catch(n){}};e.exports=i?o:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=f(t=c(e),s))?n:l?o(t):"Object"==(r=o(t))&&a(t.callee)?"Arguments":r}},7741:(e,t,n)=>{var r=n(1702),i=Error,a=r("".replace),o=function(e){return String(i(e).stack)}("zxcasd"),u=/\n\s*at [^:]*:[^\n]*/,s=u.test(o);e.exports=function(e,t){if(s&&"string"==typeof e&&!i.prepareStackTrace)while(t--)e=a(e,u,"");return e}},5631:(e,t,n)=>{"use strict";var r=n(3070).f,i=n(30),a=n(9190),o=n(9974),u=n(5787),s=n(408),c=n(654),l=n(6340),f=n(9781),h=n(2423).fastKey,d=n(9909),v=d.set,p=d.getterFor;e.exports={getConstructor:function(e,t,n,c){var l=e((function(e,r){u(e,d),v(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),f||(e.size=0),void 0!=r&&s(r,e[c],{that:e,AS_ENTRIES:n})})),d=l.prototype,y=p(t),g=function(e,t,n){var r,i,a=y(e),o=m(e,t);return o?o.value=n:(a.last=o={index:i=h(t,!0),key:t,value:n,previous:r=a.last,next:void 0,removed:!1},a.first||(a.first=o),r&&(r.next=o),f?a.size++:e.size++,"F"!==i&&(a.index[i]=o)),e},m=function(e,t){var n,r=y(e),i=h(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return a(d,{clear:function(){var e=this,t=y(e),n=t.index,r=t.first;while(r)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete n[r.index],r=r.next;t.first=t.last=void 0,f?t.size=0:e.size=0},delete:function(e){var t=this,n=y(t),r=m(t,e);if(r){var i=r.next,a=r.previous;delete n.index[r.index],r.removed=!0,a&&(a.next=i),i&&(i.previous=a),n.first==r&&(n.first=i),n.last==r&&(n.last=a),f?n.size--:t.size--}return!!r},forEach:function(e){var t,n=y(this),r=o(e,arguments.length>1?arguments[1]:void 0);while(t=t?t.next:n.first){r(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!m(this,e)}}),a(d,n?{get:function(e){var t=m(this,e);return t&&t.value},set:function(e,t){return g(this,0===e?0:e,t)}}:{add:function(e){return g(this,e=0===e?0:e,e)}}),f&&r(d,"size",{get:function(){return y(this).size}}),l},setStrong:function(e,t,n){var r=t+" Iterator",i=p(t),a=p(r);c(e,t,(function(e,t){v(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){var e=a(this),t=e.kind,n=e.last;while(n&&n.removed)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),l(t)}}},9320:(e,t,n)=>{"use strict";var r=n(1702),i=n(9190),a=n(2423).getWeakData,o=n(9670),u=n(111),s=n(5787),c=n(408),l=n(2092),f=n(2597),h=n(9909),d=h.set,v=h.getterFor,p=l.find,y=l.findIndex,g=r([].splice),m=0,w=function(e){return e.frozen||(e.frozen=new k)},k=function(){this.entries=[]},b=function(e,t){return p(e.entries,(function(e){return e[0]===t}))};k.prototype={get:function(e){var t=b(this,e);if(t)return t[1]},has:function(e){return!!b(this,e)},set:function(e,t){var n=b(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=y(this.entries,(function(t){return t[0]===e}));return~t&&g(this.entries,t,1),!!~t}},e.exports={getConstructor:function(e,t,n,r){var l=e((function(e,i){s(e,h),d(e,{type:t,id:m++,frozen:void 0}),void 0!=i&&c(i,e[r],{that:e,AS_ENTRIES:n})})),h=l.prototype,p=v(t),y=function(e,t,n){var r=p(e),i=a(o(t),!0);return!0===i?w(r).set(t,n):i[r.id]=n,e};return i(h,{delete:function(e){var t=p(this);if(!u(e))return!1;var n=a(e);return!0===n?w(t)["delete"](e):n&&f(n,t.id)&&delete n[t.id]},has:function(e){var t=p(this);if(!u(e))return!1;var n=a(e);return!0===n?w(t).has(e):n&&f(n,t.id)}}),i(h,n?{get:function(e){var t=p(this);if(u(e)){var n=a(e);return!0===n?w(t).get(e):n?n[t.id]:void 0}},set:function(e,t){return y(this,e,t)}}:{add:function(e){return y(this,e,!0)}}),l}}},7710:(e,t,n)=>{"use strict";var r=n(2109),i=n(7854),a=n(1702),o=n(4705),u=n(8052),s=n(2423),c=n(408),l=n(5787),f=n(614),h=n(111),d=n(7293),v=n(7072),p=n(8003),y=n(9587);e.exports=function(e,t,n){var g=-1!==e.indexOf("Map"),m=-1!==e.indexOf("Weak"),w=g?"set":"add",k=i[e],b=k&&k.prototype,x=k,E={},_=function(e){var t=a(b[e]);u(b,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(m&&!h(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return m&&!h(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(m&&!h(e))&&t(this,0===e?0:e)}:function(e,n){return t(this,0===e?0:e,n),this})},I=o(e,!f(k)||!(m||b.forEach&&!d((function(){(new k).entries().next()}))));if(I)x=n.getConstructor(t,e,g,w),s.enable();else if(o(e,!0)){var S=new x,T=S[w](m?{}:-0,1)!=S,A=d((function(){S.has(1)})),Z=v((function(e){new k(e)})),C=!m&&d((function(){var e=new k,t=5;while(t--)e[w](t,t);return!e.has(-0)}));Z||(x=t((function(e,t){l(e,b);var n=y(new k,e,x);return void 0!=t&&c(t,n[w],{that:n,AS_ENTRIES:g}),n})),x.prototype=b,b.constructor=x),(A||C)&&(_("delete"),_("has"),g&&_("get")),(C||T)&&_(w),m&&b.clear&&delete b.clear}return E[e]=x,r({global:!0,constructor:!0,forced:x!=k},E),p(x,e),m||n.setStrong(x,e,g),x}},9920:(e,t,n)=>{var r=n(2597),i=n(3887),a=n(1236),o=n(3070);e.exports=function(e,t,n){for(var u=i(t),s=o.f,c=a.f,l=0;l<u.length;l++){var f=u[l];r(e,f)||n&&r(n,f)||s(e,f,c(t,f))}}},4964:(e,t,n)=>{var r=n(5112),i=r("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,"/./"[e](t)}catch(r){}}return!1}},8544:(e,t,n)=>{var r=n(7293);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},4230:(e,t,n)=>{var r=n(1702),i=n(4488),a=n(1340),o=/"/g,u=r("".replace);e.exports=function(e,t,n,r){var s=a(i(e)),c="<"+t;return""!==n&&(c+=" "+n+'="'+u(a(r),o,"&quot;")+'"'),c+">"+s+"</"+t+">"}},4994:(e,t,n)=>{"use strict";var r=n(3383).IteratorPrototype,i=n(30),a=n(9114),o=n(8003),u=n(7497),s=function(){return this};e.exports=function(e,t,n,c){var l=t+" Iterator";return e.prototype=i(r,{next:a(+!c,n)}),o(e,l,!1,!0),u[l]=s,e}},8880:(e,t,n)=>{var r=n(9781),i=n(3070),a=n(9114);e.exports=r?function(e,t,n){return i.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},9114:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},6135:(e,t,n)=>{"use strict";var r=n(4948),i=n(3070),a=n(9114);e.exports=function(e,t,n){var o=r(t);o in e?i.f(e,o,a(0,n)):e[o]=n}},5573:(e,t,n)=>{"use strict";var r=n(7854),i=n(1702),a=n(7293),o=n(6650).start,u=r.RangeError,s=Math.abs,c=Date.prototype,l=c.toISOString,f=i(c.getTime),h=i(c.getUTCDate),d=i(c.getUTCFullYear),v=i(c.getUTCHours),p=i(c.getUTCMilliseconds),y=i(c.getUTCMinutes),g=i(c.getUTCMonth),m=i(c.getUTCSeconds);e.exports=a((function(){return"0385-07-25T07:06:39.999Z"!=l.call(new Date(-50000000000001))}))||!a((function(){l.call(new Date(NaN))}))?function(){if(!isFinite(f(this)))throw u("Invalid time value");var e=this,t=d(e),n=p(e),r=t<0?"-":t>9999?"+":"";return r+o(s(t),r?6:4,0)+"-"+o(g(e)+1,2,0)+"-"+o(h(e),2,0)+"T"+o(v(e),2,0)+":"+o(y(e),2,0)+":"+o(m(e),2,0)+"."+o(n,3,0)+"Z"}:l},7045:(e,t,n)=>{var r=n(6339),i=n(3070);e.exports=function(e,t,n){return n.get&&r(n.get,t,{getter:!0}),n.set&&r(n.set,t,{setter:!0}),i.f(e,t,n)}},8052:(e,t,n)=>{var r=n(614),i=n(8880),a=n(6339),o=n(3072);e.exports=function(e,t,n,u){u||(u={});var s=u.enumerable,c=void 0!==u.name?u.name:t;return r(n)&&a(n,c,u),u.global?s?e[t]=n:o(t,n):(u.unsafe?e[t]&&(s=!0):delete e[t],s?e[t]=n:i(e,t,n)),e}},9190:(e,t,n)=>{var r=n(8052);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},3072:(e,t,n)=>{var r=n(7854),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},654:(e,t,n)=>{"use strict";var r=n(2109),i=n(6916),a=n(1913),o=n(6530),u=n(614),s=n(4994),c=n(9518),l=n(7674),f=n(8003),h=n(8880),d=n(8052),v=n(5112),p=n(7497),y=n(3383),g=o.PROPER,m=o.CONFIGURABLE,w=y.IteratorPrototype,k=y.BUGGY_SAFARI_ITERATORS,b=v("iterator"),x="keys",E="values",_="entries",I=function(){return this};e.exports=function(e,t,n,o,v,y,S){s(n,t,o);var T,A,Z,C=function(e){if(e===v&&M)return M;if(!k&&e in N)return N[e];switch(e){case x:return function(){return new n(this,e)};case E:return function(){return new n(this,e)};case _:return function(){return new n(this,e)}}return function(){return new n(this)}},D=t+" Iterator",O=!1,N=e.prototype,R=N[b]||N["@@iterator"]||v&&N[v],M=!k&&R||C(v),L="Array"==t&&N.entries||R;if(L&&(T=c(L.call(new e)),T!==Object.prototype&&T.next&&(a||c(T)===w||(l?l(T,w):u(T[b])||d(T,b,I)),f(T,D,!0,!0),a&&(p[D]=I))),g&&v==E&&R&&R.name!==E&&(!a&&m?h(N,"name",E):(O=!0,M=function(){return i(R,this)})),v)if(A={values:C(E),keys:y?M:C(x),entries:C(_)},S)for(Z in A)(k||O||!(Z in N))&&d(N,Z,A[Z]);else r({target:t,proto:!0,forced:k||O},A);return a&&!S||N[b]===M||d(N,b,M,{name:v}),p[t]=M,A}},7235:(e,t,n)=>{var r=n(857),i=n(2597),a=n(6061),o=n(3070).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||o(t,e,{value:a.f(e)})}},9781:(e,t,n)=>{var r=n(7293);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:(e,t,n)=>{var r=n(7854),i=n(111),a=r.document,o=i(a)&&i(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},3678:e=>{e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},8324:e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8509:(e,t,n)=>{var r=n(317),i=r("span").classList,a=i&&i.constructor&&i.constructor.prototype;e.exports=a===Object.prototype?void 0:a},8886:(e,t,n)=>{var r=n(8113),i=r.match(/firefox\/(\d+)/i);e.exports=!!i&&+i[1]},7871:e=>{e.exports="object"==typeof window&&"object"!=typeof Deno},256:(e,t,n)=>{var r=n(8113);e.exports=/MSIE|Trident/.test(r)},1528:(e,t,n)=>{var r=n(8113),i=n(7854);e.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==i.Pebble},6833:(e,t,n)=>{var r=n(8113);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},5268:(e,t,n)=>{var r=n(4326),i=n(7854);e.exports="process"==r(i.process)},1036:(e,t,n)=>{var r=n(8113);e.exports=/web0s(?!.*chrome)/i.test(r)},8113:(e,t,n)=>{var r=n(5005);e.exports=r("navigator","userAgent")||""},7392:(e,t,n)=>{var r,i,a=n(7854),o=n(8113),u=a.process,s=a.Deno,c=u&&u.versions||s&&s.version,l=c&&c.v8;l&&(r=l.split("."),i=r[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&o&&(r=o.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=o.match(/Chrome\/(\d+)/),r&&(i=+r[1]))),e.exports=i},8008:(e,t,n)=>{var r=n(8113),i=r.match(/AppleWebKit\/(\d+)\./);e.exports=!!i&&+i[1]},748:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2914:(e,t,n)=>{var r=n(7293),i=n(9114);e.exports=!r((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",i(1,7)),7!==e.stack)}))},7762:(e,t,n)=>{"use strict";var r=n(9781),i=n(7293),a=n(9670),o=n(30),u=n(6277),s=Error.prototype.toString,c=i((function(){if(r){var e=o(Object.defineProperty({},"name",{get:function(){return this===e}}));if("true"!==s.call(e))return!0}return"2: 1"!==s.call({message:1,name:2})||"Error"!==s.call({})}));e.exports=c?function(){var e=a(this),t=u(e.name,"Error"),n=u(e.message);return t?n?t+": "+n:t:n}:s},2109:(e,t,n)=>{var r=n(7854),i=n(1236).f,a=n(8880),o=n(8052),u=n(3072),s=n(9920),c=n(4705);e.exports=function(e,t){var n,l,f,h,d,v,p=e.target,y=e.global,g=e.stat;if(l=y?r:g?r[p]||u(p,{}):(r[p]||{}).prototype,l)for(f in t){if(d=t[f],e.dontCallGetSet?(v=i(l,f),h=v&&v.value):h=l[f],n=c(y?f:p+(g?".":"#")+f,e.forced),!n&&void 0!==h){if(typeof d==typeof h)continue;s(d,h)}(e.sham||h&&h.sham)&&a(d,"sham",!0),o(l,f,d,e)}}},7293:e=>{e.exports=function(e){try{return!!e()}catch(t){return!0}}},7007:(e,t,n)=>{"use strict";n(4916);var r=n(1702),i=n(8052),a=n(2261),o=n(7293),u=n(5112),s=n(8880),c=u("species"),l=RegExp.prototype;e.exports=function(e,t,n,f){var h=u(e),d=!o((function(){var t={};return t[h]=function(){return 7},7!=""[e](t)})),v=d&&!o((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[c]=function(){return n},n.flags="",n[h]=/./[h]),n.exec=function(){return t=!0,null},n[h](""),!t}));if(!d||!v||n){var p=r(/./[h]),y=t(h,""[e],(function(e,t,n,i,o){var u=r(e),s=t.exec;return s===a||s===l.exec?d&&!o?{done:!0,value:p(t,n,i)}:{done:!0,value:u(n,t,i)}:{done:!1}}));i(String.prototype,e,y[0]),i(l,h,y[1])}f&&s(l[h],"sham",!0)}},6677:(e,t,n)=>{var r=n(7293);e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},2104:(e,t,n)=>{var r=n(4374),i=Function.prototype,a=i.apply,o=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?o.bind(a):function(){return o.apply(a,arguments)})},9974:(e,t,n)=>{var r=n(1702),i=n(9662),a=n(4374),o=r(r.bind);e.exports=function(e,t){return i(e),void 0===t?e:a?o(e,t):function(){return e.apply(t,arguments)}}},4374:(e,t,n)=>{var r=n(7293);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},7065:(e,t,n)=>{"use strict";var r=n(7854),i=n(1702),a=n(9662),o=n(111),u=n(2597),s=n(206),c=n(4374),l=r.Function,f=i([].concat),h=i([].join),d={},v=function(e,t,n){if(!u(d,t)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";d[t]=l("C,a","return new C("+h(r,",")+")")}return d[t](e,n)};e.exports=c?l.bind:function(e){var t=a(this),n=t.prototype,r=s(arguments,1),i=function(){var n=f(r,s(arguments));return this instanceof i?v(t,n.length,n):t.apply(e,n)};return o(n)&&(i.prototype=n),i}},6916:(e,t,n)=>{var r=n(4374),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},6530:(e,t,n)=>{var r=n(9781),i=n(2597),a=Function.prototype,o=r&&Object.getOwnPropertyDescriptor,u=i(a,"name"),s=u&&"something"===function(){}.name,c=u&&(!r||r&&o(a,"name").configurable);e.exports={EXISTS:u,PROPER:s,CONFIGURABLE:c}},1702:(e,t,n)=>{var r=n(4374),i=Function.prototype,a=i.bind,o=i.call,u=r&&a.bind(o,o);e.exports=r?function(e){return e&&u(e)}:function(e){return e&&function(){return o.apply(e,arguments)}}},5005:(e,t,n)=>{var r=n(7854),i=n(614),a=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?a(r[e]):r[e]&&r[e][t]}},1246:(e,t,n)=>{var r=n(648),i=n(8173),a=n(7497),o=n(5112),u=o("iterator");e.exports=function(e){if(void 0!=e)return i(e,u)||i(e,"@@iterator")||a[r(e)]}},8554:(e,t,n)=>{var r=n(7854),i=n(6916),a=n(9662),o=n(9670),u=n(6330),s=n(1246),c=r.TypeError;e.exports=function(e,t){var n=arguments.length<2?s(e):t;if(a(n))return o(i(n,e));throw c(u(e)+" is not iterable")}},8173:(e,t,n)=>{var r=n(9662);e.exports=function(e,t){var n=e[t];return null==n?void 0:r(n)}},647:(e,t,n)=>{var r=n(1702),i=n(7908),a=Math.floor,o=r("".charAt),u=r("".replace),s=r("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,r,f,h){var d=n+e.length,v=r.length,p=l;return void 0!==f&&(f=i(f),p=c),u(h,p,(function(i,u){var c;switch(o(u,0)){case"$":return"$";case"&":return e;case"`":return s(t,0,n);case"'":return s(t,d);case"<":c=f[s(u,1,-1)];break;default:var l=+u;if(0===l)return i;if(l>v){var h=a(l/10);return 0===h?i:h<=v?void 0===r[h-1]?o(u,1):r[h-1]+o(u,1):i}c=r[l-1]}return void 0===c?"":c}))}},7854:(e,t,n)=>{var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},2597:(e,t,n)=>{var r=n(1702),i=n(7908),a=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return a(i(e),t)}},3501:e=>{e.exports={}},842:(e,t,n)=>{var r=n(7854);e.exports=function(e,t){var n=r.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))}},490:(e,t,n)=>{var r=n(5005);e.exports=r("document","documentElement")},4664:(e,t,n)=>{var r=n(9781),i=n(7293),a=n(317);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},1179:(e,t,n)=>{var r=n(7854),i=r.Array,a=Math.abs,o=Math.pow,u=Math.floor,s=Math.log,c=Math.LN2,l=function(e,t,n){var r,l,f,h=i(n),d=8*n-t-1,v=(1<<d)-1,p=v>>1,y=23===t?o(2,-24)-o(2,-77):0,g=e<0||0===e&&1/e<0?1:0,m=0;e=a(e),e!=e||e===1/0?(l=e!=e?1:0,r=v):(r=u(s(e)/c),f=o(2,-r),e*f<1&&(r--,f*=2),e+=r+p>=1?y/f:y*o(2,1-p),e*f>=2&&(r++,f/=2),r+p>=v?(l=0,r=v):r+p>=1?(l=(e*f-1)*o(2,t),r+=p):(l=e*o(2,p-1)*o(2,t),r=0));while(t>=8)h[m++]=255&l,l/=256,t-=8;r=r<<t|l,d+=t;while(d>0)h[m++]=255&r,r/=256,d-=8;return h[--m]|=128*g,h},f=function(e,t){var n,r=e.length,i=8*r-t-1,a=(1<<i)-1,u=a>>1,s=i-7,c=r-1,l=e[c--],f=127&l;l>>=7;while(s>0)f=256*f+e[c--],s-=8;n=f&(1<<-s)-1,f>>=-s,s+=t;while(s>0)n=256*n+e[c--],s-=8;if(0===f)f=1-u;else{if(f===a)return n?NaN:l?-1/0:1/0;n+=o(2,t),f-=u}return(l?-1:1)*n*o(2,f-t)};e.exports={pack:l,unpack:f}},8361:(e,t,n)=>{var r=n(7854),i=n(1702),a=n(7293),o=n(4326),u=r.Object,s=i("".split);e.exports=a((function(){return!u("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?s(e,""):u(e)}:u},9587:(e,t,n)=>{var r=n(614),i=n(111),a=n(7674);e.exports=function(e,t,n){var o,u;return a&&r(o=t.constructor)&&o!==n&&i(u=o.prototype)&&u!==n.prototype&&a(e,u),e}},2788:(e,t,n)=>{var r=n(1702),i=n(614),a=n(5465),o=r(Function.toString);i(a.inspectSource)||(a.inspectSource=function(e){return o(e)}),e.exports=a.inspectSource},8340:(e,t,n)=>{var r=n(111),i=n(8880);e.exports=function(e,t){r(t)&&"cause"in t&&i(e,"cause",t.cause)}},2423:(e,t,n)=>{var r=n(2109),i=n(1702),a=n(3501),o=n(111),u=n(2597),s=n(3070).f,c=n(8006),l=n(1156),f=n(2050),h=n(9711),d=n(6677),v=!1,p=h("meta"),y=0,g=function(e){s(e,p,{value:{objectID:"O"+y++,weakData:{}}})},m=function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!u(e,p)){if(!f(e))return"F";if(!t)return"E";g(e)}return e[p].objectID},w=function(e,t){if(!u(e,p)){if(!f(e))return!0;if(!t)return!1;g(e)}return e[p].weakData},k=function(e){return d&&v&&f(e)&&!u(e,p)&&g(e),e},b=function(){x.enable=function(){},v=!0;var e=c.f,t=i([].splice),n={};n[p]=1,e(n).length&&(c.f=function(n){for(var r=e(n),i=0,a=r.length;i<a;i++)if(r[i]===p){t(r,i,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},x=e.exports={enable:b,fastKey:m,getWeakData:w,onFreeze:k};a[p]=!0},9909:(e,t,n)=>{var r,i,a,o=n(8536),u=n(7854),s=n(1702),c=n(111),l=n(8880),f=n(2597),h=n(5465),d=n(6200),v=n(3501),p="Object already initialized",y=u.TypeError,g=u.WeakMap,m=function(e){return a(e)?i(e):r(e,{})},w=function(e){return function(t){var n;if(!c(t)||(n=i(t)).type!==e)throw y("Incompatible receiver, "+e+" required");return n}};if(o||h.state){var k=h.state||(h.state=new g),b=s(k.get),x=s(k.has),E=s(k.set);r=function(e,t){if(x(k,e))throw new y(p);return t.facade=e,E(k,e,t),t},i=function(e){return b(k,e)||{}},a=function(e){return x(k,e)}}else{var _=d("state");v[_]=!0,r=function(e,t){if(f(e,_))throw new y(p);return t.facade=e,l(e,_,t),t},i=function(e){return f(e,_)?e[_]:{}},a=function(e){return f(e,_)}}e.exports={set:r,get:i,has:a,enforce:m,getterFor:w}},7659:(e,t,n)=>{var r=n(5112),i=n(7497),a=r("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[a]===e)}},3157:(e,t,n)=>{var r=n(4326);e.exports=Array.isArray||function(e){return"Array"==r(e)}},614:e=>{e.exports=function(e){return"function"==typeof e}},4411:(e,t,n)=>{var r=n(1702),i=n(7293),a=n(614),o=n(648),u=n(5005),s=n(2788),c=function(){},l=[],f=u("Reflect","construct"),h=/^\s*(?:class|function)\b/,d=r(h.exec),v=!h.exec(c),p=function(e){if(!a(e))return!1;try{return f(c,l,e),!0}catch(t){return!1}},y=function(e){if(!a(e))return!1;switch(o(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return v||!!d(h,s(e))}catch(t){return!0}};y.sham=!0,e.exports=!f||i((function(){var e;return p(p.call)||!p(Object)||!p((function(){e=!0}))||e}))?y:p},5032:(e,t,n)=>{var r=n(2597);e.exports=function(e){return void 0!==e&&(r(e,"value")||r(e,"writable"))}},4705:(e,t,n)=>{var r=n(7293),i=n(614),a=/#|\.prototype\./,o=function(e,t){var n=s[u(e)];return n==l||n!=c&&(i(t)?r(t):!!t)},u=o.normalize=function(e){return String(e).replace(a,".").toLowerCase()},s=o.data={},c=o.NATIVE="N",l=o.POLYFILL="P";e.exports=o},5988:(e,t,n)=>{var r=n(111),i=Math.floor;e.exports=Number.isInteger||function(e){return!r(e)&&isFinite(e)&&i(e)===e}},111:(e,t,n)=>{var r=n(614);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},1913:e=>{e.exports=!1},7850:(e,t,n)=>{var r=n(111),i=n(4326),a=n(5112),o=a("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},2190:(e,t,n)=>{var r=n(7854),i=n(5005),a=n(614),o=n(7976),u=n(3307),s=r.Object;e.exports=u?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return a(t)&&o(t.prototype,s(e))}},408:(e,t,n)=>{var r=n(7854),i=n(9974),a=n(6916),o=n(9670),u=n(6330),s=n(7659),c=n(6244),l=n(7976),f=n(8554),h=n(1246),d=n(9212),v=r.TypeError,p=function(e,t){this.stopped=e,this.result=t},y=p.prototype;e.exports=function(e,t,n){var r,g,m,w,k,b,x,E=n&&n.that,_=!(!n||!n.AS_ENTRIES),I=!(!n||!n.IS_ITERATOR),S=!(!n||!n.INTERRUPTED),T=i(t,E),A=function(e){return r&&d(r,"normal",e),new p(!0,e)},Z=function(e){return _?(o(e),S?T(e[0],e[1],A):T(e[0],e[1])):S?T(e,A):T(e)};if(I)r=e;else{if(g=h(e),!g)throw v(u(e)+" is not iterable");if(s(g)){for(m=0,w=c(e);w>m;m++)if(k=Z(e[m]),k&&l(y,k))return k;return new p(!1)}r=f(e,g)}b=r.next;while(!(x=a(b,r)).done){try{k=Z(x.value)}catch(C){d(r,"throw",C)}if("object"==typeof k&&k&&l(y,k))return k}return new p(!1)}},9212:(e,t,n)=>{var r=n(6916),i=n(9670),a=n(8173);e.exports=function(e,t,n){var o,u;i(e);try{if(o=a(e,"return"),!o){if("throw"===t)throw n;return n}o=r(o,e)}catch(s){u=!0,o=s}if("throw"===t)throw n;if(u)throw o;return i(o),n}},3383:(e,t,n)=>{"use strict";var r,i,a,o=n(7293),u=n(614),s=n(30),c=n(9518),l=n(8052),f=n(5112),h=n(1913),d=f("iterator"),v=!1;[].keys&&(a=[].keys(),"next"in a?(i=c(c(a)),i!==Object.prototype&&(r=i)):v=!0);var p=void 0==r||o((function(){var e={};return r[d].call(e)!==e}));p?r={}:h&&(r=s(r)),u(r[d])||l(r,d,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:v}},7497:e=>{e.exports={}},6244:(e,t,n)=>{var r=n(7466);e.exports=function(e){return r(e.length)}},6339:(e,t,n)=>{var r=n(7293),i=n(614),a=n(2597),o=n(9781),u=n(6530).CONFIGURABLE,s=n(2788),c=n(9909),l=c.enforce,f=c.get,h=Object.defineProperty,d=o&&!r((function(){return 8!==h((function(){}),"length",{value:8}).length})),v=String(String).split("String"),p=e.exports=function(e,t,n){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!a(e,"name")||u&&e.name!==t)&&h(e,"name",{value:t,configurable:!0}),d&&n&&a(n,"arity")&&e.length!==n.arity&&h(e,"length",{value:n.arity});try{n&&a(n,"constructor")&&n.constructor?o&&h(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(i){}var r=l(e);return a(r,"source")||(r.source=v.join("string"==typeof t?t:"")),e};Function.prototype.toString=p((function(){return i(this)&&f(this).source||s(this)}),"toString")},4758:e=>{var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},5948:(e,t,n)=>{var r,i,a,o,u,s,c,l,f=n(7854),h=n(9974),d=n(1236).f,v=n(261).set,p=n(6833),y=n(1528),g=n(1036),m=n(5268),w=f.MutationObserver||f.WebKitMutationObserver,k=f.document,b=f.process,x=f.Promise,E=d(f,"queueMicrotask"),_=E&&E.value;_||(r=function(){var e,t;m&&(e=b.domain)&&e.exit();while(i){t=i.fn,i=i.next;try{t()}catch(n){throw i?o():a=void 0,n}}a=void 0,e&&e.enter()},p||m||g||!w||!k?!y&&x&&x.resolve?(c=x.resolve(void 0),c.constructor=x,l=h(c.then,c),o=function(){l(r)}):m?o=function(){b.nextTick(r)}:(v=h(v,f),o=function(){v(r)}):(u=!0,s=k.createTextNode(""),new w(r).observe(s,{characterData:!0}),o=function(){s.data=u=!u})),e.exports=_||function(e){var t={fn:e,next:void 0};a&&(a.next=t),i||(i=t,o()),a=t}},735:(e,t,n)=>{var r=n(133);e.exports=r&&!!Symbol["for"]&&!!Symbol.keyFor},133:(e,t,n)=>{var r=n(7392),i=n(7293);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},8536:(e,t,n)=>{var r=n(7854),i=n(614),a=n(2788),o=r.WeakMap;e.exports=i(o)&&/native code/.test(a(o))},8523:(e,t,n)=>{"use strict";var r=n(9662),i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},6277:(e,t,n)=>{var r=n(1340);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:r(e)}},3929:(e,t,n)=>{var r=n(7854),i=n(7850),a=r.TypeError;e.exports=function(e){if(i(e))throw a("The method doesn't accept regular expressions");return e}},7023:(e,t,n)=>{var r=n(7854),i=r.isFinite;e.exports=Number.isFinite||function(e){return"number"==typeof e&&i(e)}},2814:(e,t,n)=>{var r=n(7854),i=n(7293),a=n(1702),o=n(1340),u=n(3111).trim,s=n(1361),c=a("".charAt),l=r.parseFloat,f=r.Symbol,h=f&&f.iterator,d=1/l(s+"-0")!==-1/0||h&&!i((function(){l(Object(h))}));e.exports=d?function(e){var t=u(o(e)),n=l(t);return 0===n&&"-"==c(t,0)?-0:n}:l},3009:(e,t,n)=>{var r=n(7854),i=n(7293),a=n(1702),o=n(1340),u=n(3111).trim,s=n(1361),c=r.parseInt,l=r.Symbol,f=l&&l.iterator,h=/^[+-]?0x/i,d=a(h.exec),v=8!==c(s+"08")||22!==c(s+"0x16")||f&&!i((function(){c(Object(f))}));e.exports=v?function(e,t){var n=u(o(e));return c(n,t>>>0||(d(h,n)?16:10))}:c},1574:(e,t,n)=>{"use strict";var r=n(9781),i=n(1702),a=n(6916),o=n(7293),u=n(1956),s=n(5181),c=n(5296),l=n(7908),f=n(8361),h=Object.assign,d=Object.defineProperty,v=i([].concat);e.exports=!h||o((function(){if(r&&1!==h({b:1},h(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!=h({},e)[n]||u(h({},t)).join("")!=i}))?function(e,t){var n=l(e),i=arguments.length,o=1,h=s.f,d=c.f;while(i>o){var p,y=f(arguments[o++]),g=h?v(u(y),h(y)):u(y),m=g.length,w=0;while(m>w)p=g[w++],r&&!a(d,y,p)||(n[p]=y[p])}return n}:h},30:(e,t,n)=>{var r,i=n(9670),a=n(6048),o=n(748),u=n(3501),s=n(490),c=n(317),l=n(6200),f=">",h="<",d="prototype",v="script",p=l("IE_PROTO"),y=function(){},g=function(e){return h+v+f+e+h+"/"+v+f},m=function(e){e.write(g("")),e.close();var t=e.parentWindow.Object;return e=null,t},w=function(){var e,t=c("iframe"),n="java"+v+":";return t.style.display="none",s.appendChild(t),t.src=String(n),e=t.contentWindow.document,e.open(),e.write(g("document.F=Object")),e.close(),e.F},k=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}k="undefined"!=typeof document?document.domain&&r?m(r):w():m(r);var e=o.length;while(e--)delete k[d][o[e]];return k()};u[p]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(y[d]=i(e),n=new y,y[d]=null,n[p]=e):n=k(),void 0===t?n:a.f(n,t)}},6048:(e,t,n)=>{var r=n(9781),i=n(3353),a=n(3070),o=n(9670),u=n(5656),s=n(1956);t.f=r&&!i?Object.defineProperties:function(e,t){o(e);var n,r=u(t),i=s(t),c=i.length,l=0;while(c>l)a.f(e,n=i[l++],r[n]);return e}},3070:(e,t,n)=>{var r=n(7854),i=n(9781),a=n(4664),o=n(3353),u=n(9670),s=n(4948),c=r.TypeError,l=Object.defineProperty,f=Object.getOwnPropertyDescriptor,h="enumerable",d="configurable",v="writable";t.f=i?o?function(e,t,n){if(u(e),t=s(t),u(n),"function"===typeof e&&"prototype"===t&&"value"in n&&v in n&&!n[v]){var r=f(e,t);r&&r[v]&&(e[t]=n.value,n={configurable:d in n?n[d]:r[d],enumerable:h in n?n[h]:r[h],writable:!1})}return l(e,t,n)}:l:function(e,t,n){if(u(e),t=s(t),u(n),a)try{return l(e,t,n)}catch(r){}if("get"in n||"set"in n)throw c("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},1236:(e,t,n)=>{var r=n(9781),i=n(6916),a=n(5296),o=n(9114),u=n(5656),s=n(4948),c=n(2597),l=n(4664),f=Object.getOwnPropertyDescriptor;t.f=r?f:function(e,t){if(e=u(e),t=s(t),l)try{return f(e,t)}catch(n){}if(c(e,t))return o(!i(a.f,e,t),e[t])}},1156:(e,t,n)=>{var r=n(4326),i=n(5656),a=n(8006).f,o=n(1589),u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return a(e)}catch(t){return o(u)}};e.exports.f=function(e){return u&&"Window"==r(e)?s(e):a(i(e))}},8006:(e,t,n)=>{var r=n(6324),i=n(748),a=i.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,a)}},5181:(e,t)=>{t.f=Object.getOwnPropertySymbols},9518:(e,t,n)=>{var r=n(7854),i=n(2597),a=n(614),o=n(7908),u=n(6200),s=n(8544),c=u("IE_PROTO"),l=r.Object,f=l.prototype;e.exports=s?l.getPrototypeOf:function(e){var t=o(e);if(i(t,c))return t[c];var n=t.constructor;return a(n)&&t instanceof n?n.prototype:t instanceof l?f:null}},2050:(e,t,n)=>{var r=n(7293),i=n(111),a=n(4326),o=n(7556),u=Object.isExtensible,s=r((function(){u(1)}));e.exports=s||o?function(e){return!!i(e)&&((!o||"ArrayBuffer"!=a(e))&&(!u||u(e)))}:u},7976:(e,t,n)=>{var r=n(1702);e.exports=r({}.isPrototypeOf)},6324:(e,t,n)=>{var r=n(1702),i=n(2597),a=n(5656),o=n(1318).indexOf,u=n(3501),s=r([].push);e.exports=function(e,t){var n,r=a(e),c=0,l=[];for(n in r)!i(u,n)&&i(r,n)&&s(l,n);while(t.length>c)i(r,n=t[c++])&&(~o(l,n)||s(l,n));return l}},1956:(e,t,n)=>{var r=n(6324),i=n(748);e.exports=Object.keys||function(e){return r(e,i)}},5296:(e,t)=>{"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},7674:(e,t,n)=>{var r=n(1702),i=n(9670),a=n(6077);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),e(n,[]),t=n instanceof Array}catch(o){}return function(n,r){return i(n),a(r),t?e(n,r):n.__proto__=r,n}}():void 0)},4699:(e,t,n)=>{var r=n(9781),i=n(1702),a=n(1956),o=n(5656),u=n(5296).f,s=i(u),c=i([].push),l=function(e){return function(t){var n,i=o(t),u=a(i),l=u.length,f=0,h=[];while(l>f)n=u[f++],r&&!s(i,n)||c(h,e?[n,i[n]]:i[n]);return h}};e.exports={entries:l(!0),values:l(!1)}},288:(e,t,n)=>{"use strict";var r=n(1694),i=n(648);e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},2140:(e,t,n)=>{var r=n(7854),i=n(6916),a=n(614),o=n(111),u=r.TypeError;e.exports=function(e,t){var n,r;if("string"===t&&a(n=e.toString)&&!o(r=i(n,e)))return r;if(a(n=e.valueOf)&&!o(r=i(n,e)))return r;if("string"!==t&&a(n=e.toString)&&!o(r=i(n,e)))return r;throw u("Can't convert object to primitive value")}},3887:(e,t,n)=>{var r=n(5005),i=n(1702),a=n(8006),o=n(5181),u=n(9670),s=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=a.f(u(e)),n=o.f;return n?s(t,n(e)):t}},857:(e,t,n)=>{var r=n(7854);e.exports=r},2534:e=>{e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},3702:(e,t,n)=>{var r=n(7854),i=n(2492),a=n(614),o=n(4705),u=n(2788),s=n(5112),c=n(7871),l=n(1913),f=n(7392),h=i&&i.prototype,d=s("species"),v=!1,p=a(r.PromiseRejectionEvent),y=o("Promise",(function(){var e=u(i),t=e!==String(i);if(!t&&66===f)return!0;if(l&&(!h["catch"]||!h["finally"]))return!0;if(f>=51&&/native code/.test(e))return!1;var n=new i((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))},a=n.constructor={};return a[d]=r,v=n.then((function(){}))instanceof r,!v||!t&&c&&!p}));e.exports={CONSTRUCTOR:y,REJECTION_EVENT:p,SUBCLASSING:v}},2492:(e,t,n)=>{var r=n(7854);e.exports=r.Promise},9478:(e,t,n)=>{var r=n(9670),i=n(111),a=n(8523);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=a.f(e),o=n.resolve;return o(t),n.promise}},612:(e,t,n)=>{var r=n(2492),i=n(7072),a=n(3702).CONSTRUCTOR;e.exports=a||!i((function(e){r.all(e).then(void 0,(function(){}))}))},2626:(e,t,n)=>{var r=n(3070).f;e.exports=function(e,t,n){n in e||r(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})}},8572:e=>{var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}},e.exports=t},7651:(e,t,n)=>{var r=n(7854),i=n(6916),a=n(9670),o=n(614),u=n(4326),s=n(2261),c=r.TypeError;e.exports=function(e,t){var n=e.exec;if(o(n)){var r=i(n,e,t);return null!==r&&a(r),r}if("RegExp"===u(e))return i(s,e,t);throw c("RegExp#exec called on incompatible receiver")}},2261:(e,t,n)=>{"use strict";var r=n(6916),i=n(1702),a=n(1340),o=n(7066),u=n(2999),s=n(2309),c=n(30),l=n(9909).get,f=n(9441),h=n(7168),d=s("native-string-replace",String.prototype.replace),v=RegExp.prototype.exec,p=v,y=i("".charAt),g=i("".indexOf),m=i("".replace),w=i("".slice),k=function(){var e=/a/,t=/b*/g;return r(v,e,"a"),r(v,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),b=u.BROKEN_CARET,x=void 0!==/()??/.exec("")[1],E=k||x||b||f||h;E&&(p=function(e){var t,n,i,u,s,f,h,E=this,_=l(E),I=a(e),S=_.raw;if(S)return S.lastIndex=E.lastIndex,t=r(p,S,I),E.lastIndex=S.lastIndex,t;var T=_.groups,A=b&&E.sticky,Z=r(o,E),C=E.source,D=0,O=I;if(A&&(Z=m(Z,"y",""),-1===g(Z,"g")&&(Z+="g"),O=w(I,E.lastIndex),E.lastIndex>0&&(!E.multiline||E.multiline&&"\n"!==y(I,E.lastIndex-1))&&(C="(?: "+C+")",O=" "+O,D++),n=new RegExp("^(?:"+C+")",Z)),x&&(n=new RegExp("^"+C+"$(?!\\s)",Z)),k&&(i=E.lastIndex),u=r(v,A?n:E,O),A?u?(u.input=w(u.input,D),u[0]=w(u[0],D),u.index=E.lastIndex,E.lastIndex+=u[0].length):E.lastIndex=0:k&&u&&(E.lastIndex=E.global?u.index+u[0].length:i),x&&u&&u.length>1&&r(d,u[0],n,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(u[s]=void 0)})),u&&T)for(u.groups=f=c(null),s=0;s<T.length;s++)h=T[s],f[h[0]]=u[h[1]];return u}),e.exports=p},7066:(e,t,n)=>{"use strict";var r=n(9670);e.exports=function(){var e=r(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},4706:(e,t,n)=>{var r=n(6916),i=n(2597),a=n(7976),o=n(7066),u=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in u||i(e,"flags")||!a(u,e)?t:r(o,e)}},2999:(e,t,n)=>{var r=n(7293),i=n(7854),a=i.RegExp,o=r((function(){var e=a("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),u=o||r((function(){return!a("a","y").sticky})),s=o||r((function(){var e=a("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:s,MISSED_STICKY:u,UNSUPPORTED_Y:o}},9441:(e,t,n)=>{var r=n(7293),i=n(7854),a=i.RegExp;e.exports=r((function(){var e=a(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},7168:(e,t,n)=>{var r=n(7293),i=n(7854),a=i.RegExp;e.exports=r((function(){var e=a("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},4488:(e,t,n)=>{var r=n(7854),i=r.TypeError;e.exports=function(e){if(void 0==e)throw i("Can't call method on "+e);return e}},1150:e=>{e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},7152:(e,t,n)=>{var r=n(7854),i=n(2104),a=n(614),o=n(8113),u=n(206),s=n(8053),c=/MSIE .\./.test(o),l=r.Function,f=function(e){return c?function(t,n){var r=s(arguments.length,1)>2,o=a(t)?t:l(t),c=r?u(arguments,2):void 0;return e(r?function(){i(o,this,c)}:o,n)}:e};e.exports={setTimeout:f(r.setTimeout),setInterval:f(r.setInterval)}},6340:(e,t,n)=>{"use strict";var r=n(5005),i=n(3070),a=n(5112),o=n(9781),u=a("species");e.exports=function(e){var t=r(e),n=i.f;o&&t&&!t[u]&&n(t,u,{configurable:!0,get:function(){return this}})}},8003:(e,t,n)=>{var r=n(3070).f,i=n(2597),a=n(5112),o=a("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!i(e,o)&&r(e,o,{configurable:!0,value:t})}},6200:(e,t,n)=>{var r=n(2309),i=n(9711),a=r("keys");e.exports=function(e){return a[e]||(a[e]=i(e))}},5465:(e,t,n)=>{var r=n(7854),i=n(3072),a="__core-js_shared__",o=r[a]||i(a,{});e.exports=o},2309:(e,t,n)=>{var r=n(1913),i=n(5465);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.22.7",mode:r?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.22.7/LICENSE",source:"https://github.com/zloirock/core-js"})},6707:(e,t,n)=>{var r=n(9670),i=n(9483),a=n(5112),o=a("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[o])?t:i(n)}},3429:(e,t,n)=>{var r=n(7293);e.exports=function(e){return r((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},8710:(e,t,n)=>{var r=n(1702),i=n(9303),a=n(1340),o=n(4488),u=r("".charAt),s=r("".charCodeAt),c=r("".slice),l=function(e){return function(t,n){var r,l,f=a(o(t)),h=i(n),d=f.length;return h<0||h>=d?e?"":void 0:(r=s(f,h),r<55296||r>56319||h+1===d||(l=s(f,h+1))<56320||l>57343?e?u(f,h):r:e?c(f,h,h+2):l-56320+(r-55296<<10)+65536)}};e.exports={codeAt:l(!1),charAt:l(!0)}},4986:(e,t,n)=>{var r=n(8113);e.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(r)},6650:(e,t,n)=>{var r=n(1702),i=n(7466),a=n(1340),o=n(8415),u=n(4488),s=r(o),c=r("".slice),l=Math.ceil,f=function(e){return function(t,n,r){var o,f,h=a(u(t)),d=i(n),v=h.length,p=void 0===r?" ":a(r);return d<=v||""==p?h:(o=d-v,f=s(p,l(o/p.length)),f.length>o&&(f=c(f,0,o)),e?h+f:f+h)}};e.exports={start:f(!1),end:f(!0)}},8415:(e,t,n)=>{"use strict";var r=n(7854),i=n(9303),a=n(1340),o=n(4488),u=r.RangeError;e.exports=function(e){var t=a(o(this)),n="",r=i(e);if(r<0||r==1/0)throw u("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(t+=t))1&r&&(n+=t);return n}},6091:(e,t,n)=>{var r=n(6530).PROPER,i=n(7293),a=n(1361),o="​᠎";e.exports=function(e){return i((function(){return!!a[e]()||o[e]()!==o||r&&a[e].name!==e}))}},3111:(e,t,n)=>{var r=n(1702),i=n(4488),a=n(1340),o=n(1361),u=r("".replace),s="["+o+"]",c=RegExp("^"+s+s+"*"),l=RegExp(s+s+"*$"),f=function(e){return function(t){var n=a(i(t));return 1&e&&(n=u(n,c,"")),2&e&&(n=u(n,l,"")),n}};e.exports={start:f(1),end:f(2),trim:f(3)}},6532:(e,t,n)=>{var r=n(6916),i=n(5005),a=n(5112),o=n(8052);e.exports=function(){var e=i("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,u=a("toPrimitive");t&&!t[u]&&o(t,u,(function(e){return r(n,this)}),{arity:1})}},261:(e,t,n)=>{var r,i,a,o,u=n(7854),s=n(2104),c=n(9974),l=n(614),f=n(2597),h=n(7293),d=n(490),v=n(206),p=n(317),y=n(8053),g=n(6833),m=n(5268),w=u.setImmediate,k=u.clearImmediate,b=u.process,x=u.Dispatch,E=u.Function,_=u.MessageChannel,I=u.String,S=0,T={},A="onreadystatechange";try{r=u.location}catch(N){}var Z=function(e){if(f(T,e)){var t=T[e];delete T[e],t()}},C=function(e){return function(){Z(e)}},D=function(e){Z(e.data)},O=function(e){u.postMessage(I(e),r.protocol+"//"+r.host)};w&&k||(w=function(e){y(arguments.length,1);var t=l(e)?e:E(e),n=v(arguments,1);return T[++S]=function(){s(t,void 0,n)},i(S),S},k=function(e){delete T[e]},m?i=function(e){b.nextTick(C(e))}:x&&x.now?i=function(e){x.now(C(e))}:_&&!g?(a=new _,o=a.port2,a.port1.onmessage=D,i=c(o.postMessage,o)):u.addEventListener&&l(u.postMessage)&&!u.importScripts&&r&&"file:"!==r.protocol&&!h(O)?(i=O,u.addEventListener("message",D,!1)):i=A in p("script")?function(e){d.appendChild(p("script"))[A]=function(){d.removeChild(this),Z(e)}}:function(e){setTimeout(C(e),0)}),e.exports={set:w,clear:k}},863:(e,t,n)=>{var r=n(1702);e.exports=r(1..valueOf)},1400:(e,t,n)=>{var r=n(9303),i=Math.max,a=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):a(n,t)}},7067:(e,t,n)=>{var r=n(7854),i=n(9303),a=n(7466),o=r.RangeError;e.exports=function(e){if(void 0===e)return 0;var t=i(e),n=a(t);if(t!==n)throw o("Wrong length or index");return n}},5656:(e,t,n)=>{var r=n(8361),i=n(4488);e.exports=function(e){return r(i(e))}},9303:(e,t,n)=>{var r=n(4758);e.exports=function(e){var t=+e;return t!==t||0===t?0:r(t)}},7466:(e,t,n)=>{var r=n(9303),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},7908:(e,t,n)=>{var r=n(7854),i=n(4488),a=r.Object;e.exports=function(e){return a(i(e))}},4590:(e,t,n)=>{var r=n(7854),i=n(3002),a=r.RangeError;e.exports=function(e,t){var n=i(e);if(n%t)throw a("Wrong offset");return n}},3002:(e,t,n)=>{var r=n(7854),i=n(9303),a=r.RangeError;e.exports=function(e){var t=i(e);if(t<0)throw a("The argument can't be less than 0");return t}},7593:(e,t,n)=>{var r=n(7854),i=n(6916),a=n(111),o=n(2190),u=n(8173),s=n(2140),c=n(5112),l=r.TypeError,f=c("toPrimitive");e.exports=function(e,t){if(!a(e)||o(e))return e;var n,r=u(e,f);if(r){if(void 0===t&&(t="default"),n=i(r,e,t),!a(n)||o(n))return n;throw l("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},4948:(e,t,n)=>{var r=n(7593),i=n(2190);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},1694:(e,t,n)=>{var r=n(5112),i=r("toStringTag"),a={};a[i]="z",e.exports="[object z]"===String(a)},1340:(e,t,n)=>{var r=n(7854),i=n(648),a=r.String;e.exports=function(e){if("Symbol"===i(e))throw TypeError("Cannot convert a Symbol value to a string");return a(e)}},4038:(e,t,n)=>{var r=n(5268);e.exports=function(e){try{if(r)return Function('return require("'+e+'")')()}catch(t){}}},6330:(e,t,n)=>{var r=n(7854),i=r.String;e.exports=function(e){try{return i(e)}catch(t){return"Object"}}},9843:(e,t,n)=>{"use strict";var r=n(2109),i=n(7854),a=n(6916),o=n(9781),u=n(3832),s=n(260),c=n(3331),l=n(5787),f=n(9114),h=n(8880),d=n(5988),v=n(7466),p=n(7067),y=n(4590),g=n(4948),m=n(2597),w=n(648),k=n(111),b=n(2190),x=n(30),E=n(7976),_=n(7674),I=n(8006).f,S=n(7321),T=n(2092).forEach,A=n(6340),Z=n(3070),C=n(1236),D=n(9909),O=n(9587),N=D.get,R=D.set,M=Z.f,L=C.f,P=Math.round,F=i.RangeError,V=c.ArrayBuffer,j=V.prototype,U=c.DataView,B=s.NATIVE_ARRAY_BUFFER_VIEWS,q=s.TYPED_ARRAY_CONSTRUCTOR,G=s.TYPED_ARRAY_TAG,K=s.TypedArray,z=s.TypedArrayPrototype,H=s.aTypedArrayConstructor,W=s.isTypedArray,Q="BYTES_PER_ELEMENT",J="Wrong length",Y=function(e,t){H(e);var n=0,r=t.length,i=new e(r);while(r>n)i[n]=t[n++];return i},$=function(e,t){M(e,t,{get:function(){return N(this)[t]}})},X=function(e){var t;return E(j,e)||"ArrayBuffer"==(t=w(e))||"SharedArrayBuffer"==t},ee=function(e,t){return W(e)&&!b(t)&&t in e&&d(+t)&&t>=0},te=function(e,t){return t=g(t),ee(e,t)?f(2,e[t]):L(e,t)},ne=function(e,t,n){return t=g(t),!(ee(e,t)&&k(n)&&m(n,"value"))||m(n,"get")||m(n,"set")||n.configurable||m(n,"writable")&&!n.writable||m(n,"enumerable")&&!n.enumerable?M(e,t,n):(e[t]=n.value,e)};o?(B||(C.f=te,Z.f=ne,$(z,"buffer"),$(z,"byteOffset"),$(z,"byteLength"),$(z,"length")),r({target:"Object",stat:!0,forced:!B},{getOwnPropertyDescriptor:te,defineProperty:ne}),e.exports=function(e,t,n){var o=e.match(/\d+$/)[0]/8,s=e+(n?"Clamped":"")+"Array",c="get"+e,f="set"+e,d=i[s],g=d,m=g&&g.prototype,w={},b=function(e,t){var n=N(e);return n.view[c](t*o+n.byteOffset,!0)},E=function(e,t,r){var i=N(e);n&&(r=(r=P(r))<0?0:r>255?255:255&r),i.view[f](t*o+i.byteOffset,r,!0)},Z=function(e,t){M(e,t,{get:function(){return b(this,t)},set:function(e){return E(this,t,e)},enumerable:!0})};B?u&&(g=t((function(e,t,n,r){return l(e,m),O(function(){return k(t)?X(t)?void 0!==r?new d(t,y(n,o),r):void 0!==n?new d(t,y(n,o)):new d(t):W(t)?Y(g,t):a(S,g,t):new d(p(t))}(),e,g)})),_&&_(g,K),T(I(d),(function(e){e in g||h(g,e,d[e])})),g.prototype=m):(g=t((function(e,t,n,r){l(e,m);var i,u,s,c=0,f=0;if(k(t)){if(!X(t))return W(t)?Y(g,t):a(S,g,t);i=t,f=y(n,o);var h=t.byteLength;if(void 0===r){if(h%o)throw F(J);if(u=h-f,u<0)throw F(J)}else if(u=v(r)*o,u+f>h)throw F(J);s=u/o}else s=p(t),u=s*o,i=new V(u);R(e,{buffer:i,byteOffset:f,byteLength:u,length:s,view:new U(i)});while(c<s)Z(e,c++)})),_&&_(g,K),m=g.prototype=x(z)),m.constructor!==g&&h(m,"constructor",g),h(m,q,g),G&&h(m,G,s);var C=g!=d;w[s]=g,r({global:!0,constructor:!0,forced:C,sham:!B},w),Q in g||h(g,Q,o),Q in m||h(m,Q,o),A(s)}):e.exports=function(){}},3832:(e,t,n)=>{var r=n(7854),i=n(7293),a=n(7072),o=n(260).NATIVE_ARRAY_BUFFER_VIEWS,u=r.ArrayBuffer,s=r.Int8Array;e.exports=!o||!i((function(){s(1)}))||!i((function(){new s(-1)}))||!a((function(e){new s,new s(null),new s(1.5),new s(e)}),!0)||i((function(){return 1!==new s(new u(2),1,void 0).length}))},3074:(e,t,n)=>{var r=n(7745),i=n(6304);e.exports=function(e,t){return r(i(e),t)}},7321:(e,t,n)=>{var r=n(9974),i=n(6916),a=n(9483),o=n(7908),u=n(6244),s=n(8554),c=n(1246),l=n(7659),f=n(260).aTypedArrayConstructor;e.exports=function(e){var t,n,h,d,v,p,y=a(this),g=o(e),m=arguments.length,w=m>1?arguments[1]:void 0,k=void 0!==w,b=c(g);if(b&&!l(b)){v=s(g,b),p=v.next,g=[];while(!(d=i(p,v)).done)g.push(d.value)}for(k&&m>2&&(w=r(w,arguments[2])),n=u(g),h=new(f(y))(n),t=0;n>t;t++)h[t]=k?w(g[t],t):g[t];return h}},6304:(e,t,n)=>{var r=n(260),i=n(6707),a=r.TYPED_ARRAY_CONSTRUCTOR,o=r.aTypedArrayConstructor;e.exports=function(e){return o(i(e,e[a]))}},9711:(e,t,n)=>{var r=n(1702),i=0,a=Math.random(),o=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+o(++i+a,36)}},3307:(e,t,n)=>{var r=n(133);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:(e,t,n)=>{var r=n(9781),i=n(7293);e.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8053:(e,t,n)=>{var r=n(7854),i=r.TypeError;e.exports=function(e,t){if(e<t)throw i("Not enough arguments");return e}},6061:(e,t,n)=>{var r=n(5112);t.f=r},5112:(e,t,n)=>{var r=n(7854),i=n(2309),a=n(2597),o=n(9711),u=n(133),s=n(3307),c=i("wks"),l=r.Symbol,f=l&&l["for"],h=s?l:l&&l.withoutSetter||o;e.exports=function(e){if(!a(c,e)||!u&&"string"!=typeof c[e]){var t="Symbol."+e;u&&a(l,e)?c[e]=l[e]:c[e]=s&&f?f(t):h(t)}return c[e]}},1361:e=>{e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},9191:(e,t,n)=>{"use strict";var r=n(5005),i=n(2597),a=n(8880),o=n(7976),u=n(7674),s=n(9920),c=n(2626),l=n(9587),f=n(6277),h=n(8340),d=n(7741),v=n(2914),p=n(9781),y=n(1913);e.exports=function(e,t,n,g){var m="stackTraceLimit",w=g?2:1,k=e.split("."),b=k[k.length-1],x=r.apply(null,k);if(x){var E=x.prototype;if(!y&&i(E,"cause")&&delete E.cause,!n)return x;var _=r("Error"),I=t((function(e,t){var n=f(g?t:e,void 0),r=g?new x(e):new x;return void 0!==n&&a(r,"message",n),v&&a(r,"stack",d(r.stack,2)),this&&o(E,this)&&l(r,this,I),arguments.length>w&&h(r,arguments[w]),r}));if(I.prototype=E,"Error"!==b?u?u(I,_):s(I,_,{name:!0}):p&&m in x&&(c(I,x,m),c(I,x,"prepareStackTrace")),s(I,x),!y)try{E.name!==b&&a(E,"name",b),E.constructor=I}catch(S){}return I}}},8264:(e,t,n)=>{"use strict";var r=n(2109),i=n(7854),a=n(3331),o=n(6340),u="ArrayBuffer",s=a[u],c=i[u];r({global:!0,constructor:!0,forced:c!==s},{ArrayBuffer:s}),o(u)},9575:(e,t,n)=>{"use strict";var r=n(2109),i=n(1702),a=n(7293),o=n(3331),u=n(9670),s=n(1400),c=n(7466),l=n(6707),f=o.ArrayBuffer,h=o.DataView,d=h.prototype,v=i(f.prototype.slice),p=i(d.getUint8),y=i(d.setUint8),g=a((function(){return!new f(2).slice(1,void 0).byteLength}));r({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:g},{slice:function(e,t){if(v&&void 0===t)return v(u(this),e);var n=u(this).byteLength,r=s(e,n),i=s(void 0===t?n:t,n),a=new(l(this,f))(c(i-r)),o=new h(this),d=new h(a),g=0;while(r<i)y(d,g++,p(o,r++));return a}})},2262:(e,t,n)=>{"use strict";var r=n(2109),i=n(7908),a=n(6244),o=n(9303),u=n(1223);r({target:"Array",proto:!0},{at:function(e){var t=i(this),n=a(t),r=o(e),u=r>=0?r:n+r;return u<0||u>=n?void 0:t[u]}}),u("at")},2222:(e,t,n)=>{"use strict";var r=n(2109),i=n(7854),a=n(7293),o=n(3157),u=n(111),s=n(7908),c=n(6244),l=n(6135),f=n(5417),h=n(1194),d=n(5112),v=n(7392),p=d("isConcatSpreadable"),y=9007199254740991,g="Maximum allowed index exceeded",m=i.TypeError,w=v>=51||!a((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),k=h("concat"),b=function(e){if(!u(e))return!1;var t=e[p];return void 0!==t?!!t:o(e)},x=!w||!k;r({target:"Array",proto:!0,arity:1,forced:x},{concat:function(e){var t,n,r,i,a,o=s(this),u=f(o,0),h=0;for(t=-1,r=arguments.length;t<r;t++)if(a=-1===t?o:arguments[t],b(a)){if(i=c(a),h+i>y)throw m(g);for(n=0;n<i;n++,h++)n in a&&l(u,h,a[n])}else{if(h>=y)throw m(g);l(u,h++,a)}return u.length=h,u}})},6541:(e,t,n)=>{"use strict";var r=n(2109),i=n(2092).every,a=n(9341),o=a("every");r({target:"Array",proto:!0,forced:!o},{every:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},7327:(e,t,n)=>{"use strict";var r=n(2109),i=n(2092).filter,a=n(1194),o=a("filter");r({target:"Array",proto:!0,forced:!o},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},4553:(e,t,n)=>{"use strict";var r=n(2109),i=n(2092).findIndex,a=n(1223),o="findIndex",u=!0;o in[]&&Array(1)[o]((function(){u=!1})),r({target:"Array",proto:!0,forced:u},{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a(o)},9826:(e,t,n)=>{"use strict";var r=n(2109),i=n(2092).find,a=n(1223),o="find",u=!0;o in[]&&Array(1)[o]((function(){u=!1})),r({target:"Array",proto:!0,forced:u},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a(o)},9554:(e,t,n)=>{"use strict";var r=n(2109),i=n(8533);r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},1038:(e,t,n)=>{var r=n(2109),i=n(8457),a=n(7072),o=!a((function(e){Array.from(e)}));r({target:"Array",stat:!0,forced:o},{from:i})},6699:(e,t,n)=>{"use strict";var r=n(2109),i=n(1318).includes,a=n(7293),o=n(1223),u=a((function(){return!Array(1).includes()}));r({target:"Array",proto:!0,forced:u},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},2772:(e,t,n)=>{"use strict";var r=n(2109),i=n(1702),a=n(1318).indexOf,o=n(9341),u=i([].indexOf),s=!!u&&1/u([1],1,-0)<0,c=o("indexOf");r({target:"Array",proto:!0,forced:s||!c},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return s?u(this,e,t)||0:a(this,e,t)}})},9753:(e,t,n)=>{var r=n(2109),i=n(3157);r({target:"Array",stat:!0},{isArray:i})},6992:(e,t,n)=>{"use strict";var r=n(5656),i=n(1223),a=n(7497),o=n(9909),u=n(3070).f,s=n(654),c=n(1913),l=n(9781),f="Array Iterator",h=o.set,d=o.getterFor(f);e.exports=s(Array,"Array",(function(e,t){h(this,{type:f,target:r(e),index:0,kind:t})}),(function(){var e=d(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values");var v=a.Arguments=a.Array;if(i("keys"),i("values"),i("entries"),!c&&l&&"values"!==v.name)try{u(v,"name",{value:"values"})}catch(p){}},9600:(e,t,n)=>{"use strict";var r=n(2109),i=n(1702),a=n(8361),o=n(5656),u=n(9341),s=i([].join),c=a!=Object,l=u("join",",");r({target:"Array",proto:!0,forced:c||!l},{join:function(e){return s(o(this),void 0===e?",":e)}})},1249:(e,t,n)=>{"use strict";var r=n(2109),i=n(2092).map,a=n(1194),o=a("map");r({target:"Array",proto:!0,forced:!o},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},5827:(e,t,n)=>{"use strict";var r=n(2109),i=n(3671).left,a=n(9341),o=n(7392),u=n(5268),s=a("reduce"),c=!u&&o>79&&o<83;r({target:"Array",proto:!0,forced:!s||c},{reduce:function(e){var t=arguments.length;return i(this,e,t,t>1?arguments[1]:void 0)}})},5069:(e,t,n)=>{"use strict";var r=n(2109),i=n(1702),a=n(3157),o=i([].reverse),u=[1,2];r({target:"Array",proto:!0,forced:String(u)===String(u.reverse())},{reverse:function(){return a(this)&&(this.length=this.length),o(this)}})},7042:(e,t,n)=>{"use strict";var r=n(2109),i=n(7854),a=n(3157),o=n(4411),u=n(111),s=n(1400),c=n(6244),l=n(5656),f=n(6135),h=n(5112),d=n(1194),v=n(206),p=d("slice"),y=h("species"),g=i.Array,m=Math.max;r({target:"Array",proto:!0,forced:!p},{slice:function(e,t){var n,r,i,h=l(this),d=c(h),p=s(e,d),w=s(void 0===t?d:t,d);if(a(h)&&(n=h.constructor,o(n)&&(n===g||a(n.prototype))?n=void 0:u(n)&&(n=n[y],null===n&&(n=void 0)),n===g||void 0===n))return v(h,p,w);for(r=new(void 0===n?g:n)(m(w-p,0)),i=0;p<w;p++,i++)p in h&&f(r,i,h[p]);return r.length=i,r}})},5212:(e,t,n)=>{"use strict";var r=n(2109),i=n(2092).some,a=n(9341),o=a("some");r({target:"Array",proto:!0,forced:!o},{some:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},2707:(e,t,n)=>{"use strict";var r=n(2109),i=n(1702),a=n(9662),o=n(7908),u=n(6244),s=n(1340),c=n(7293),l=n(4362),f=n(9341),h=n(8886),d=n(256),v=n(7392),p=n(8008),y=[],g=i(y.sort),m=i(y.push),w=c((function(){y.sort(void 0)})),k=c((function(){y.sort(null)})),b=f("sort"),x=!c((function(){if(v)return v<70;if(!(h&&h>3)){if(d)return!0;if(p)return p<603;var e,t,n,r,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)y.push({k:t+r,v:n})}for(y.sort((function(e,t){return t.v-e.v})),r=0;r<y.length;r++)t=y[r].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}})),E=w||!k||!b||!x,_=function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:s(t)>s(n)?1:-1}};r({target:"Array",proto:!0,forced:E},{sort:function(e){void 0!==e&&a(e);var t=o(this);if(x)return void 0===e?g(t):g(t,e);var n,r,i=[],s=u(t);for(r=0;r<s;r++)r in t&&m(i,t[r]);l(i,_(e)),n=i.length,r=0;while(r<n)t[r]=i[r++];while(r<s)delete t[r++];return t}})},561:(e,t,n)=>{"use strict";var r=n(2109),i=n(7854),a=n(1400),o=n(9303),u=n(6244),s=n(7908),c=n(5417),l=n(6135),f=n(1194),h=f("splice"),d=i.TypeError,v=Math.max,p=Math.min,y=9007199254740991,g="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!h},{splice:function(e,t){var n,r,i,f,h,m,w=s(this),k=u(w),b=a(e,k),x=arguments.length;if(0===x?n=r=0:1===x?(n=0,r=k-b):(n=x-2,r=p(v(o(t),0),k-b)),k+n-r>y)throw d(g);for(i=c(w,r),f=0;f<r;f++)h=b+f,h in w&&l(i,f,w[h]);if(i.length=r,n<r){for(f=b;f<k-r;f++)h=f+r,m=f+n,h in w?w[m]=w[h]:delete w[m];for(f=k;f>k-r+n;f--)delete w[f-1]}else if(n>r)for(f=k-r;f>b;f--)h=f+r-1,m=f+n-1,h in w?w[m]=w[h]:delete w[m];for(f=0;f<n;f++)w[f+b]=arguments[f+2];return w.length=k-r+n,i}})},3690:(e,t,n)=>{var r=n(2109),i=n(3331),a=n(4019);r({global:!0,constructor:!0,forced:!a},{DataView:i.DataView})},6716:(e,t,n)=>{n(3690)},3843:(e,t,n)=>{var r=n(2109),i=n(7854),a=n(1702),o=i.Date,u=a(o.prototype.getTime);r({target:"Date",stat:!0},{now:function(){return u(new o)}})},8733:(e,t,n)=>{var r=n(2109),i=n(5573);r({target:"Date",proto:!0,forced:Date.prototype.toISOString!==i},{toISOString:i})},3710:(e,t,n)=>{var r=n(1702),i=n(8052),a=Date.prototype,o="Invalid Date",u="toString",s=r(a[u]),c=r(a.getTime);String(new Date(NaN))!=o&&i(a,u,(function(){var e=c(this);return e===e?s(this):o}))},1703:(e,t,n)=>{var r=n(2109),i=n(7854),a=n(2104),o=n(9191),u="WebAssembly",s=i[u],c=7!==Error("e",{cause:7}).cause,l=function(e,t){var n={};n[e]=o(e,t,c),r({global:!0,constructor:!0,arity:1,forced:c},n)},f=function(e,t){if(s&&s[e]){var n={};n[e]=o(u+"."+e,t,c),r({target:u,stat:!0,constructor:!0,arity:1,forced:c},n)}};l("Error",(function(e){return function(t){return a(e,this,arguments)}})),l("EvalError",(function(e){return function(t){return a(e,this,arguments)}})),l("RangeError",(function(e){return function(t){return a(e,this,arguments)}})),l("ReferenceError",(function(e){return function(t){return a(e,this,arguments)}})),l("SyntaxError",(function(e){return function(t){return a(e,this,arguments)}})),l("TypeError",(function(e){return function(t){return a(e,this,arguments)}})),l("URIError",(function(e){return function(t){return a(e,this,arguments)}})),f("CompileError",(function(e){return function(t){return a(e,this,arguments)}})),f("LinkError",(function(e){return function(t){return a(e,this,arguments)}})),f("RuntimeError",(function(e){return function(t){return a(e,this,arguments)}}))},6647:(e,t,n)=>{var r=n(8052),i=n(7762),a=Error.prototype;a.toString!==i&&r(a,"toString",i)},4812:(e,t,n)=>{var r=n(2109),i=n(7065);r({target:"Function",proto:!0,forced:Function.bind!==i},{bind:i})},8309:(e,t,n)=>{var r=n(9781),i=n(6530).EXISTS,a=n(1702),o=n(3070).f,u=Function.prototype,s=a(u.toString),c=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,l=a(c.exec),f="name";r&&!i&&o(u,f,{configurable:!0,get:function(){try{return l(c,s(this))[1]}catch(e){return""}}})},5837:(e,t,n)=>{var r=n(2109),i=n(7854);r({global:!0},{globalThis:i})},8862:(e,t,n)=>{var r=n(2109),i=n(5005),a=n(2104),o=n(6916),u=n(1702),s=n(7293),c=n(3157),l=n(614),f=n(111),h=n(2190),d=n(206),v=n(133),p=i("JSON","stringify"),y=u(/./.exec),g=u("".charAt),m=u("".charCodeAt),w=u("".replace),k=u(1..toString),b=/[\uD800-\uDFFF]/g,x=/^[\uD800-\uDBFF]$/,E=/^[\uDC00-\uDFFF]$/,_=!v||s((function(){var e=i("Symbol")();return"[null]"!=p([e])||"{}"!=p({a:e})||"{}"!=p(Object(e))})),I=s((function(){return'"\\udf06\\ud834"'!==p("\udf06\ud834")||'"\\udead"'!==p("\udead")})),S=function(e,t){var n=d(arguments),r=t;if((f(t)||void 0!==e)&&!h(e))return c(t)||(t=function(e,t){if(l(r)&&(t=o(r,this,e,t)),!h(t))return t}),n[1]=t,a(p,null,n)},T=function(e,t,n){var r=g(n,t-1),i=g(n,t+1);return y(x,e)&&!y(E,i)||y(E,e)&&!y(x,r)?"\\u"+k(m(e,0),16):e};p&&r({target:"JSON",stat:!0,arity:3,forced:_||I},{stringify:function(e,t,n){var r=d(arguments),i=a(_?S:p,null,r);return I&&"string"==typeof i?w(i,b,T):i}})},3706:(e,t,n)=>{var r=n(7854),i=n(8003);i(r.JSON,"JSON",!0)},9098:(e,t,n)=>{"use strict";var r=n(7710),i=n(5631);r("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},1532:(e,t,n)=>{n(9098)},2703:(e,t,n)=>{var r=n(8003);r(Math,"Math",!0)},9653:(e,t,n)=>{"use strict";var r=n(9781),i=n(7854),a=n(1702),o=n(4705),u=n(8052),s=n(2597),c=n(9587),l=n(7976),f=n(2190),h=n(7593),d=n(7293),v=n(8006).f,p=n(1236).f,y=n(3070).f,g=n(863),m=n(3111).trim,w="Number",k=i[w],b=k.prototype,x=i.TypeError,E=a("".slice),_=a("".charCodeAt),I=function(e){var t=h(e,"number");return"bigint"==typeof t?t:S(t)},S=function(e){var t,n,r,i,a,o,u,s,c=h(e,"number");if(f(c))throw x("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2)if(c=m(c),t=_(c,0),43===t||45===t){if(n=_(c,2),88===n||120===n)return NaN}else if(48===t){switch(_(c,1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+c}for(a=E(c,2),o=a.length,u=0;u<o;u++)if(s=_(a,u),s<48||s>i)return NaN;return parseInt(a,r)}return+c};if(o(w,!k(" 0o1")||!k("0b1")||k("+0x1"))){for(var T,A=function(e){var t=arguments.length<1?0:k(I(e)),n=this;return l(b,n)&&d((function(){g(n)}))?c(Object(t),n,A):t},Z=r?v(k):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),C=0;Z.length>C;C++)s(k,T=Z[C])&&!s(A,T)&&y(A,T,p(k,T));A.prototype=b,b.constructor=A,u(i,w,A,{constructor:!0})}},5192:(e,t,n)=>{var r=n(2109),i=n(7023);r({target:"Number",stat:!0},{isFinite:i})},3161:(e,t,n)=>{var r=n(2109),i=n(5988);r({target:"Number",stat:!0},{isInteger:i})},4363:(e,t,n)=>{var r=n(2109);r({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},5994:(e,t,n)=>{var r=n(2109);r({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},9601:(e,t,n)=>{var r=n(2109),i=n(1574);r({target:"Object",stat:!0,arity:2,forced:Object.assign!==i},{assign:i})},8011:(e,t,n)=>{var r=n(2109),i=n(9781),a=n(30);r({target:"Object",stat:!0,sham:!i},{create:a})},3321:(e,t,n)=>{var r=n(2109),i=n(9781),a=n(6048).f;r({target:"Object",stat:!0,forced:Object.defineProperties!==a,sham:!i},{defineProperties:a})},9070:(e,t,n)=>{var r=n(2109),i=n(9781),a=n(3070).f;r({target:"Object",stat:!0,forced:Object.defineProperty!==a,sham:!i},{defineProperty:a})},9720:(e,t,n)=>{var r=n(2109),i=n(4699).entries;r({target:"Object",stat:!0},{entries:function(e){return i(e)}})},3371:(e,t,n)=>{var r=n(2109),i=n(6677),a=n(7293),o=n(111),u=n(2423).onFreeze,s=Object.freeze,c=a((function(){s(1)}));r({target:"Object",stat:!0,forced:c,sham:!i},{freeze:function(e){return s&&o(e)?s(u(e)):e}})},5003:(e,t,n)=>{var r=n(2109),i=n(7293),a=n(5656),o=n(1236).f,u=n(9781),s=i((function(){o(1)})),c=!u||s;r({target:"Object",stat:!0,forced:c,sham:!u},{getOwnPropertyDescriptor:function(e,t){return o(a(e),t)}})},9337:(e,t,n)=>{var r=n(2109),i=n(9781),a=n(3887),o=n(5656),u=n(1236),s=n(6135);r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){var t,n,r=o(e),i=u.f,c=a(r),l={},f=0;while(c.length>f)n=i(r,t=c[f++]),void 0!==n&&s(l,t,n);return l}})},6210:(e,t,n)=>{var r=n(2109),i=n(7293),a=n(1156).f,o=i((function(){return!Object.getOwnPropertyNames(1)}));r({target:"Object",stat:!0,forced:o},{getOwnPropertyNames:a})},9660:(e,t,n)=>{var r=n(2109),i=n(133),a=n(7293),o=n(5181),u=n(7908),s=!i||a((function(){o.f(1)}));r({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(e){var t=o.f;return t?t(u(e)):[]}})},489:(e,t,n)=>{var r=n(2109),i=n(7293),a=n(7908),o=n(9518),u=n(8544),s=i((function(){o(1)}));r({target:"Object",stat:!0,forced:s,sham:!u},{getPrototypeOf:function(e){return o(a(e))}})},1825:(e,t,n)=>{var r=n(2109),i=n(2050);r({target:"Object",stat:!0,forced:Object.isExtensible!==i},{isExtensible:i})},3304:(e,t,n)=>{var r=n(2109),i=n(1150);r({target:"Object",stat:!0},{is:i})},7941:(e,t,n)=>{var r=n(2109),i=n(7908),a=n(1956),o=n(7293),u=o((function(){a(1)}));r({target:"Object",stat:!0,forced:u},{keys:function(e){return a(i(e))}})},8304:(e,t,n)=>{var r=n(2109),i=n(7674);r({target:"Object",stat:!0},{setPrototypeOf:i})},1539:(e,t,n)=>{var r=n(1694),i=n(8052),a=n(288);r||i(Object.prototype,"toString",a,{unsafe:!0})},2479:(e,t,n)=>{var r=n(2109),i=n(4699).values;r({target:"Object",stat:!0},{values:function(e){return i(e)}})},4678:(e,t,n)=>{var r=n(2109),i=n(2814);r({global:!0,forced:parseFloat!=i},{parseFloat:i})},1058:(e,t,n)=>{var r=n(2109),i=n(3009);r({global:!0,forced:parseInt!=i},{parseInt:i})},821:(e,t,n)=>{"use strict";var r=n(2109),i=n(6916),a=n(9662),o=n(8523),u=n(2534),s=n(408),c=n(612);r({target:"Promise",stat:!0,forced:c},{all:function(e){var t=this,n=o.f(t),r=n.resolve,c=n.reject,l=u((function(){var n=a(t.resolve),o=[],u=0,l=1;s(e,(function(e){var a=u++,s=!1;l++,i(n,t,e).then((function(e){s||(s=!0,o[a]=e,--l||r(o))}),c)})),--l||r(o)}));return l.error&&c(l.value),n.promise}})},4164:(e,t,n)=>{"use strict";var r=n(2109),i=n(1913),a=n(3702).CONSTRUCTOR,o=n(2492),u=n(5005),s=n(614),c=n(8052),l=o&&o.prototype;if(r({target:"Promise",proto:!0,forced:a,real:!0},{catch:function(e){return this.then(void 0,e)}}),!i&&s(o)){var f=u("Promise").prototype["catch"];l["catch"]!==f&&c(l,"catch",f,{unsafe:!0})}},3401:(e,t,n)=>{"use strict";var r,i,a,o,u=n(2109),s=n(1913),c=n(5268),l=n(7854),f=n(6916),h=n(8052),d=n(7674),v=n(8003),p=n(6340),y=n(9662),g=n(614),m=n(111),w=n(5787),k=n(6707),b=n(261).set,x=n(5948),E=n(842),_=n(2534),I=n(8572),S=n(9909),T=n(2492),A=n(3702),Z=n(8523),C="Promise",D=A.CONSTRUCTOR,O=A.REJECTION_EVENT,N=A.SUBCLASSING,R=S.getterFor(C),M=S.set,L=T&&T.prototype,P=T,F=L,V=l.TypeError,j=l.document,U=l.process,B=Z.f,q=B,G=!!(j&&j.createEvent&&l.dispatchEvent),K="unhandledrejection",z="rejectionhandled",H=0,W=1,Q=2,J=1,Y=2,$=function(e){var t;return!(!m(e)||!g(t=e.then))&&t},X=function(e,t){var n,r,i,a=t.value,o=t.state==W,u=o?e.ok:e.fail,s=e.resolve,c=e.reject,l=e.domain;try{u?(o||(t.rejection===Y&&ie(t),t.rejection=J),!0===u?n=a:(l&&l.enter(),n=u(a),l&&(l.exit(),i=!0)),n===e.promise?c(V("Promise-chain cycle")):(r=$(n))?f(r,n,s,c):s(n)):c(a)}catch(h){l&&!i&&l.exit(),c(h)}},ee=function(e,t){e.notified||(e.notified=!0,x((function(){var n,r=e.reactions;while(n=r.get())X(n,e);e.notified=!1,t&&!e.rejection&&ne(e)})))},te=function(e,t,n){var r,i;G?(r=j.createEvent("Event"),r.promise=t,r.reason=n,r.initEvent(e,!1,!0),l.dispatchEvent(r)):r={promise:t,reason:n},!O&&(i=l["on"+e])?i(r):e===K&&E("Unhandled promise rejection",n)},ne=function(e){f(b,l,(function(){var t,n=e.facade,r=e.value,i=re(e);if(i&&(t=_((function(){c?U.emit("unhandledRejection",r,n):te(K,n,r)})),e.rejection=c||re(e)?Y:J,t.error))throw t.value}))},re=function(e){return e.rejection!==J&&!e.parent},ie=function(e){f(b,l,(function(){var t=e.facade;c?U.emit("rejectionHandled",t):te(z,t,e.value)}))},ae=function(e,t,n){return function(r){e(t,r,n)}},oe=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=Q,ee(e,!0))},ue=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw V("Promise can't be resolved itself");var r=$(t);r?x((function(){var n={done:!1};try{f(r,t,ae(ue,n,e),ae(oe,n,e))}catch(i){oe(n,i,e)}})):(e.value=t,e.state=W,ee(e,!1))}catch(i){oe({done:!1},i,e)}}};if(D&&(P=function(e){w(this,F),y(e),f(r,this);var t=R(this);try{e(ae(ue,t),ae(oe,t))}catch(n){oe(t,n)}},F=P.prototype,r=function(e){M(this,{type:C,done:!1,notified:!1,parent:!1,reactions:new I,rejection:!1,state:H,value:void 0})},r.prototype=h(F,"then",(function(e,t){var n=R(this),r=B(k(this,P));return n.parent=!0,r.ok=!g(e)||e,r.fail=g(t)&&t,r.domain=c?U.domain:void 0,n.state==H?n.reactions.add(r):x((function(){X(r,n)})),r.promise})),i=function(){var e=new r,t=R(e);this.promise=e,this.resolve=ae(ue,t),this.reject=ae(oe,t)},Z.f=B=function(e){return e===P||e===a?new i(e):q(e)},!s&&g(T)&&L!==Object.prototype)){o=L.then,N||h(L,"then",(function(e,t){var n=this;return new P((function(e,t){f(o,n,e,t)})).then(e,t)}),{unsafe:!0});try{delete L.constructor}catch(se){}d&&d(L,F)}u({global:!0,constructor:!0,wrap:!0,forced:D},{Promise:P}),v(P,C,!1,!0),p(C)},7727:(e,t,n)=>{"use strict";var r=n(2109),i=n(1913),a=n(2492),o=n(7293),u=n(5005),s=n(614),c=n(6707),l=n(9478),f=n(8052),h=a&&a.prototype,d=!!a&&o((function(){h["finally"].call({then:function(){}},(function(){}))}));if(r({target:"Promise",proto:!0,real:!0,forced:d},{finally:function(e){var t=c(this,u("Promise")),n=s(e);return this.then(n?function(n){return l(t,e()).then((function(){return n}))}:e,n?function(n){return l(t,e()).then((function(){throw n}))}:e)}}),!i&&s(a)){var v=u("Promise").prototype["finally"];h["finally"]!==v&&f(h,"finally",v,{unsafe:!0})}},8674:(e,t,n)=>{n(3401),n(821),n(4164),n(6027),n(683),n(6294)},6027:(e,t,n)=>{"use strict";var r=n(2109),i=n(6916),a=n(9662),o=n(8523),u=n(2534),s=n(408),c=n(612);r({target:"Promise",stat:!0,forced:c},{race:function(e){var t=this,n=o.f(t),r=n.reject,c=u((function(){var o=a(t.resolve);s(e,(function(e){i(o,t,e).then(n.resolve,r)}))}));return c.error&&r(c.value),n.promise}})},683:(e,t,n)=>{"use strict";var r=n(2109),i=n(6916),a=n(8523),o=n(3702).CONSTRUCTOR;r({target:"Promise",stat:!0,forced:o},{reject:function(e){var t=a.f(this);return i(t.reject,void 0,e),t.promise}})},6294:(e,t,n)=>{"use strict";var r=n(2109),i=n(5005),a=n(1913),o=n(2492),u=n(3702).CONSTRUCTOR,s=n(9478),c=i("Promise"),l=a&&!u;r({target:"Promise",stat:!0,forced:a||u},{resolve:function(e){return s(l&&this===c?o:this,e)}})},2419:(e,t,n)=>{var r=n(2109),i=n(5005),a=n(2104),o=n(7065),u=n(9483),s=n(9670),c=n(111),l=n(30),f=n(7293),h=i("Reflect","construct"),d=Object.prototype,v=[].push,p=f((function(){function e(){}return!(h((function(){}),[],e)instanceof e)})),y=!f((function(){h((function(){}))})),g=p||y;r({target:"Reflect",stat:!0,forced:g,sham:g},{construct:function(e,t){u(e),s(t);var n=arguments.length<3?e:u(arguments[2]);if(y&&!p)return h(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return a(v,r,t),new(a(o,e,r))}var i=n.prototype,f=l(c(i)?i:d),g=a(e,f,t);return c(g)?g:f}})},9596:(e,t,n)=>{var r=n(2109),i=n(9781),a=n(9670),o=n(4948),u=n(3070),s=n(7293),c=s((function(){Reflect.defineProperty(u.f({},1,{value:1}),1,{value:2})}));r({target:"Reflect",stat:!0,forced:c,sham:!i},{defineProperty:function(e,t,n){a(e);var r=o(t);a(n);try{return u.f(e,r,n),!0}catch(i){return!1}}})},2586:(e,t,n)=>{var r=n(2109),i=n(9670),a=n(1236).f;r({target:"Reflect",stat:!0},{deleteProperty:function(e,t){var n=a(i(e),t);return!(n&&!n.configurable)&&delete e[t]}})},9361:(e,t,n)=>{var r=n(2109),i=n(9670),a=n(9518),o=n(8544);r({target:"Reflect",stat:!0,sham:!o},{getPrototypeOf:function(e){return a(i(e))}})},4819:(e,t,n)=>{var r=n(2109),i=n(6916),a=n(111),o=n(9670),u=n(5032),s=n(1236),c=n(9518);function l(e,t){var n,r,f=arguments.length<3?e:arguments[2];return o(e)===f?e[t]:(n=s.f(e,t),n?u(n)?n.value:void 0===n.get?void 0:i(n.get,f):a(r=c(e))?l(r,t,f):void 0)}r({target:"Reflect",stat:!0},{get:l})},1037:(e,t,n)=>{var r=n(2109);r({target:"Reflect",stat:!0},{has:function(e,t){return t in e}})},7318:(e,t,n)=>{var r=n(2109),i=n(3887);r({target:"Reflect",stat:!0},{ownKeys:i})},3593:(e,t,n)=>{var r=n(2109),i=n(6916),a=n(9670),o=n(111),u=n(5032),s=n(7293),c=n(3070),l=n(1236),f=n(9518),h=n(9114);function d(e,t,n){var r,s,v,p=arguments.length<4?e:arguments[3],y=l.f(a(e),t);if(!y){if(o(s=f(e)))return d(s,t,n,p);y=h(0)}if(u(y)){if(!1===y.writable||!o(p))return!1;if(r=l.f(p,t)){if(r.get||r.set||!1===r.writable)return!1;r.value=n,c.f(p,t,r)}else c.f(p,t,h(0,n))}else{if(v=y.set,void 0===v)return!1;i(v,p,n)}return!0}var v=s((function(){var e=function(){},t=c.f(new e,"a",{configurable:!0});return!1!==Reflect.set(e.prototype,"a",1,t)}));r({target:"Reflect",stat:!0,forced:v},{set:d})},1299:(e,t,n)=>{var r=n(2109),i=n(7854),a=n(8003);r({global:!0},{Reflect:{}}),a(i.Reflect,"Reflect",!0)},4603:(e,t,n)=>{var r=n(9781),i=n(7854),a=n(1702),o=n(4705),u=n(9587),s=n(8880),c=n(8006).f,l=n(7976),f=n(7850),h=n(1340),d=n(4706),v=n(2999),p=n(2626),y=n(8052),g=n(7293),m=n(2597),w=n(9909).enforce,k=n(6340),b=n(5112),x=n(9441),E=n(7168),_=b("match"),I=i.RegExp,S=I.prototype,T=i.SyntaxError,A=a(S.exec),Z=a("".charAt),C=a("".replace),D=a("".indexOf),O=a("".slice),N=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,R=/a/g,M=/a/g,L=new I(R)!==R,P=v.MISSED_STICKY,F=v.UNSUPPORTED_Y,V=r&&(!L||P||x||E||g((function(){return M[_]=!1,I(R)!=R||I(M)==M||"/a/i"!=I(R,"i")}))),j=function(e){for(var t,n=e.length,r=0,i="",a=!1;r<=n;r++)t=Z(e,r),"\\"!==t?a||"."!==t?("["===t?a=!0:"]"===t&&(a=!1),i+=t):i+="[\\s\\S]":i+=t+Z(e,++r);return i},U=function(e){for(var t,n=e.length,r=0,i="",a=[],o={},u=!1,s=!1,c=0,l="";r<=n;r++){if(t=Z(e,r),"\\"===t)t+=Z(e,++r);else if("]"===t)u=!1;else if(!u)switch(!0){case"["===t:u=!0;break;case"("===t:A(N,O(e,r+1))&&(r+=2,s=!0),i+=t,c++;continue;case">"===t&&s:if(""===l||m(o,l))throw new T("Invalid capture group name");o[l]=!0,a[a.length]=[l,c],s=!1,l="";continue}s?l+=t:i+=t}return[i,a]};if(o("RegExp",V)){for(var B=function(e,t){var n,r,i,a,o,c,v=l(S,this),p=f(e),y=void 0===t,g=[],m=e;if(!v&&p&&y&&e.constructor===B)return e;if((p||l(S,e))&&(e=e.source,y&&(t=d(m))),e=void 0===e?"":h(e),t=void 0===t?"":h(t),m=e,x&&"dotAll"in R&&(r=!!t&&D(t,"s")>-1,r&&(t=C(t,/s/g,""))),n=t,P&&"sticky"in R&&(i=!!t&&D(t,"y")>-1,i&&F&&(t=C(t,/y/g,""))),E&&(a=U(e),e=a[0],g=a[1]),o=u(I(e,t),v?this:S,B),(r||i||g.length)&&(c=w(o),r&&(c.dotAll=!0,c.raw=B(j(e),n)),i&&(c.sticky=!0),g.length&&(c.groups=g)),e!==m)try{s(o,"source",""===m?"(?:)":m)}catch(k){}return o},q=c(I),G=0;q.length>G;)p(B,I,q[G++]);S.constructor=B,B.prototype=S,y(i,"RegExp",B,{constructor:!0})}k("RegExp")},8450:(e,t,n)=>{var r=n(7854),i=n(9781),a=n(9441),o=n(4326),u=n(7045),s=n(9909).get,c=RegExp.prototype,l=r.TypeError;i&&a&&u(c,"dotAll",{configurable:!0,get:function(){if(this!==c){if("RegExp"===o(this))return!!s(this).dotAll;throw l("Incompatible receiver, RegExp required")}}})},4916:(e,t,n)=>{"use strict";var r=n(2109),i=n(2261);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},8386:(e,t,n)=>{var r=n(7854),i=n(9781),a=n(2999).MISSED_STICKY,o=n(4326),u=n(7045),s=n(9909).get,c=RegExp.prototype,l=r.TypeError;i&&a&&u(c,"sticky",{configurable:!0,get:function(){if(this!==c){if("RegExp"===o(this))return!!s(this).sticky;throw l("Incompatible receiver, RegExp required")}}})},7601:(e,t,n)=>{"use strict";n(4916);var r=n(2109),i=n(7854),a=n(6916),o=n(1702),u=n(614),s=n(111),c=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},!0===t.test("abc")&&e}(),l=i.Error,f=o(/./.test);r({target:"RegExp",proto:!0,forced:!c},{test:function(e){var t=this.exec;if(!u(t))return f(this,e);var n=a(t,this,e);if(null!==n&&!s(n))throw new l("RegExp exec method returned something other than an Object or null");return!!n}})},9714:(e,t,n)=>{"use strict";var r=n(6530).PROPER,i=n(8052),a=n(9670),o=n(1340),u=n(7293),s=n(4706),c="toString",l=RegExp.prototype,f=l[c],h=u((function(){return"/a/b"!=f.call({source:"a",flags:"b"})})),d=r&&f.name!=c;(h||d)&&i(RegExp.prototype,c,(function(){var e=a(this),t=o(e.source),n=o(s(e));return"/"+t+"/"+n}),{unsafe:!0})},7227:(e,t,n)=>{"use strict";var r=n(7710),i=n(5631);r("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},189:(e,t,n)=>{n(7227)},5218:(e,t,n)=>{"use strict";var r=n(2109),i=n(4230),a=n(3429);r({target:"String",proto:!0,forced:a("anchor")},{anchor:function(e){return i(this,"a","name",e)}})},4506:(e,t,n)=>{"use strict";var r=n(2109),i=n(1702),a=n(4488),o=n(9303),u=n(1340),s=n(7293),c=i("".charAt),l=s((function(){return"\ud842"!=="𠮷".at(-2)}));r({target:"String",proto:!0,forced:l},{at:function(e){var t=u(a(this)),n=t.length,r=o(e),i=r>=0?r:n+r;return i<0||i>=n?void 0:c(t,i)}})},9841:(e,t,n)=>{"use strict";var r=n(2109),i=n(8710).codeAt;r({target:"String",proto:!0},{codePointAt:function(e){return i(this,e)}})},7852:(e,t,n)=>{"use strict";var r=n(2109),i=n(1702),a=n(1236).f,o=n(7466),u=n(1340),s=n(3929),c=n(4488),l=n(4964),f=n(1913),h=i("".endsWith),d=i("".slice),v=Math.min,p=l("endsWith"),y=!f&&!p&&!!function(){var e=a(String.prototype,"endsWith");return e&&!e.writable}();r({target:"String",proto:!0,forced:!y&&!p},{endsWith:function(e){var t=u(c(this));s(e);var n=arguments.length>1?arguments[1]:void 0,r=t.length,i=void 0===n?r:v(o(n),r),a=u(e);return h?h(t,a,i):d(t,i-a.length,i)===a}})},2023:(e,t,n)=>{"use strict";var r=n(2109),i=n(1702),a=n(3929),o=n(4488),u=n(1340),s=n(4964),c=i("".indexOf);r({target:"String",proto:!0,forced:!s("includes")},{includes:function(e){return!!~c(u(o(this)),u(a(e)),arguments.length>1?arguments[1]:void 0)}})},8783:(e,t,n)=>{"use strict";var r=n(8710).charAt,i=n(1340),a=n(9909),o=n(654),u="String Iterator",s=a.set,c=a.getterFor(u);o(String,"String",(function(e){s(this,{type:u,string:i(e),index:0})}),(function(){var e,t=c(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i),t.index+=e.length,{value:e,done:!1})}))},4723:(e,t,n)=>{"use strict";var r=n(6916),i=n(7007),a=n(9670),o=n(7466),u=n(1340),s=n(4488),c=n(8173),l=n(1530),f=n(7651);i("match",(function(e,t,n){return[function(t){var n=s(this),i=void 0==t?void 0:c(t,e);return i?r(i,t,n):new RegExp(t)[e](u(n))},function(e){var r=a(this),i=u(e),s=n(t,r,i);if(s.done)return s.value;if(!r.global)return f(r,i);var c=r.unicode;r.lastIndex=0;var h,d=[],v=0;while(null!==(h=f(r,i))){var p=u(h[0]);d[v]=p,""===p&&(r.lastIndex=l(i,o(r.lastIndex),c)),v++}return 0===v?null:d}]}))},3112:(e,t,n)=>{"use strict";var r=n(2109),i=n(6650).start,a=n(4986);r({target:"String",proto:!0,forced:a},{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},2481:(e,t,n)=>{var r=n(2109),i=n(8415);r({target:"String",proto:!0},{repeat:i})},5306:(e,t,n)=>{"use strict";var r=n(2104),i=n(6916),a=n(1702),o=n(7007),u=n(7293),s=n(9670),c=n(614),l=n(9303),f=n(7466),h=n(1340),d=n(4488),v=n(1530),p=n(8173),y=n(647),g=n(7651),m=n(5112),w=m("replace"),k=Math.max,b=Math.min,x=a([].concat),E=a([].push),_=a("".indexOf),I=a("".slice),S=function(e){return void 0===e?e:String(e)},T=function(){return"$0"==="a".replace(/./,"$0")}(),A=function(){return!!/./[w]&&""===/./[w]("a","$0")}(),Z=!u((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));o("replace",(function(e,t,n){var a=A?"$":"$0";return[function(e,n){var r=d(this),a=void 0==e?void 0:p(e,w);return a?i(a,e,r,n):i(t,h(r),e,n)},function(e,i){var o=s(this),u=h(e);if("string"==typeof i&&-1===_(i,a)&&-1===_(i,"$<")){var d=n(t,o,u,i);if(d.done)return d.value}var p=c(i);p||(i=h(i));var m=o.global;if(m){var w=o.unicode;o.lastIndex=0}var T=[];while(1){var A=g(o,u);if(null===A)break;if(E(T,A),!m)break;var Z=h(A[0]);""===Z&&(o.lastIndex=v(u,f(o.lastIndex),w))}for(var C="",D=0,O=0;O<T.length;O++){A=T[O];for(var N=h(A[0]),R=k(b(l(A.index),u.length),0),M=[],L=1;L<A.length;L++)E(M,S(A[L]));var P=A.groups;if(p){var F=x([N],M,R,u);void 0!==P&&E(F,P);var V=h(r(i,void 0,F))}else V=y(N,u,R,M,P,i);R>=D&&(C+=I(u,D,R)+V,D=R+N.length)}return C+I(u,D)}]}),!Z||!T||A)},4765:(e,t,n)=>{"use strict";var r=n(6916),i=n(7007),a=n(9670),o=n(4488),u=n(1150),s=n(1340),c=n(8173),l=n(7651);i("search",(function(e,t,n){return[function(t){var n=o(this),i=void 0==t?void 0:c(t,e);return i?r(i,t,n):new RegExp(t)[e](s(n))},function(e){var r=a(this),i=s(e),o=n(t,r,i);if(o.done)return o.value;var c=r.lastIndex;u(c,0)||(r.lastIndex=0);var f=l(r,i);return u(r.lastIndex,c)||(r.lastIndex=c),null===f?-1:f.index}]}))},3123:(e,t,n)=>{"use strict";var r=n(2104),i=n(6916),a=n(1702),o=n(7007),u=n(7850),s=n(9670),c=n(4488),l=n(6707),f=n(1530),h=n(7466),d=n(1340),v=n(8173),p=n(1589),y=n(7651),g=n(2261),m=n(2999),w=n(7293),k=m.UNSUPPORTED_Y,b=4294967295,x=Math.min,E=[].push,_=a(/./.exec),I=a(E),S=a("".slice),T=!w((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));o("split",(function(e,t,n){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var a=d(c(this)),o=void 0===n?b:n>>>0;if(0===o)return[];if(void 0===e)return[a];if(!u(e))return i(t,a,e,o);var s,l,f,h=[],v=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),y=0,m=new RegExp(e.source,v+"g");while(s=i(g,m,a)){if(l=m.lastIndex,l>y&&(I(h,S(a,y,s.index)),s.length>1&&s.index<a.length&&r(E,h,p(s,1)),f=s[0].length,y=l,h.length>=o))break;m.lastIndex===s.index&&m.lastIndex++}return y===a.length?!f&&_(m,"")||I(h,""):I(h,S(a,y)),h.length>o?p(h,0,o):h}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:i(t,this,e,n)}:t,[function(t,n){var r=c(this),o=void 0==t?void 0:v(t,e);return o?i(o,t,r,n):i(a,d(r),t,n)},function(e,r){var i=s(this),o=d(e),u=n(a,i,o,r,a!==t);if(u.done)return u.value;var c=l(i,RegExp),v=i.unicode,p=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(k?"g":"y"),g=new c(k?"^(?:"+i.source+")":i,p),m=void 0===r?b:r>>>0;if(0===m)return[];if(0===o.length)return null===y(g,o)?[o]:[];var w=0,E=0,_=[];while(E<o.length){g.lastIndex=k?0:E;var T,A=y(g,k?S(o,E):o);if(null===A||(T=x(h(g.lastIndex+(k?E:0)),o.length))===w)E=f(o,E,v);else{if(I(_,S(o,w,E)),_.length===m)return _;for(var Z=1;Z<=A.length-1;Z++)if(I(_,A[Z]),_.length===m)return _;E=w=T}}return I(_,S(o,w)),_}]}),!T,k)},6755:(e,t,n)=>{"use strict";var r=n(2109),i=n(1702),a=n(1236).f,o=n(7466),u=n(1340),s=n(3929),c=n(4488),l=n(4964),f=n(1913),h=i("".startsWith),d=i("".slice),v=Math.min,p=l("startsWith"),y=!f&&!p&&!!function(){var e=a(String.prototype,"startsWith");return e&&!e.writable}();r({target:"String",proto:!0,forced:!y&&!p},{startsWith:function(e){var t=u(c(this));s(e);var n=o(v(arguments.length>1?arguments[1]:void 0,t.length)),r=u(e);return h?h(t,r,n):d(t,n,n+r.length)===r}})},86:(e,t,n)=>{"use strict";var r=n(2109),i=n(4230),a=n(3429);r({target:"String",proto:!0,forced:a("sub")},{sub:function(){return i(this,"sub","","")}})},3650:(e,t,n)=>{"use strict";var r=n(2109),i=n(1702),a=n(4488),o=n(9303),u=n(1340),s=i("".slice),c=Math.max,l=Math.min,f=!"".substr||"b"!=="ab".substr(-1);r({target:"String",proto:!0,forced:f},{substr:function(e,t){var n,r,i=u(a(this)),f=i.length,h=o(e);return h===1/0&&(h=0),h<0&&(h=c(f+h,0)),n=void 0===t?f:o(t),n<=0||n===1/0?"":(r=l(h+n,f),h>=r?"":s(i,h,r))}})},3210:(e,t,n)=>{"use strict";var r=n(2109),i=n(3111).trim,a=n(6091);r({target:"String",proto:!0,forced:a("trim")},{trim:function(){return i(this)}})},2443:(e,t,n)=>{var r=n(7235);r("asyncIterator")},4032:(e,t,n)=>{"use strict";var r=n(2109),i=n(7854),a=n(6916),o=n(1702),u=n(1913),s=n(9781),c=n(133),l=n(7293),f=n(2597),h=n(7976),d=n(9670),v=n(5656),p=n(4948),y=n(1340),g=n(9114),m=n(30),w=n(1956),k=n(8006),b=n(1156),x=n(5181),E=n(1236),_=n(3070),I=n(6048),S=n(5296),T=n(8052),A=n(2309),Z=n(6200),C=n(3501),D=n(9711),O=n(5112),N=n(6061),R=n(7235),M=n(6532),L=n(8003),P=n(9909),F=n(2092).forEach,V=Z("hidden"),j="Symbol",U="prototype",B=P.set,q=P.getterFor(j),G=Object[U],K=i.Symbol,z=K&&K[U],H=i.TypeError,W=i.QObject,Q=E.f,J=_.f,Y=b.f,$=S.f,X=o([].push),ee=A("symbols"),te=A("op-symbols"),ne=A("wks"),re=!W||!W[U]||!W[U].findChild,ie=s&&l((function(){return 7!=m(J({},"a",{get:function(){return J(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=Q(G,t);r&&delete G[t],J(e,t,n),r&&e!==G&&J(G,t,r)}:J,ae=function(e,t){var n=ee[e]=m(z);return B(n,{type:j,tag:e,description:t}),s||(n.description=t),n},oe=function(e,t,n){e===G&&oe(te,t,n),d(e);var r=p(t);return d(n),f(ee,r)?(n.enumerable?(f(e,V)&&e[V][r]&&(e[V][r]=!1),n=m(n,{enumerable:g(0,!1)})):(f(e,V)||J(e,V,g(1,{})),e[V][r]=!0),ie(e,r,n)):J(e,r,n)},ue=function(e,t){d(e);var n=v(t),r=w(n).concat(he(n));return F(r,(function(t){s&&!a(ce,n,t)||oe(e,t,n[t])})),e},se=function(e,t){return void 0===t?m(e):ue(m(e),t)},ce=function(e){var t=p(e),n=a($,this,t);return!(this===G&&f(ee,t)&&!f(te,t))&&(!(n||!f(this,t)||!f(ee,t)||f(this,V)&&this[V][t])||n)},le=function(e,t){var n=v(e),r=p(t);if(n!==G||!f(ee,r)||f(te,r)){var i=Q(n,r);return!i||!f(ee,r)||f(n,V)&&n[V][r]||(i.enumerable=!0),i}},fe=function(e){var t=Y(v(e)),n=[];return F(t,(function(e){f(ee,e)||f(C,e)||X(n,e)})),n},he=function(e){var t=e===G,n=Y(t?te:v(e)),r=[];return F(n,(function(e){!f(ee,e)||t&&!f(G,e)||X(r,ee[e])})),r};c||(K=function(){if(h(z,this))throw H("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?y(arguments[0]):void 0,t=D(e),n=function(e){this===G&&a(n,te,e),f(this,V)&&f(this[V],t)&&(this[V][t]=!1),ie(this,t,g(1,e))};return s&&re&&ie(G,t,{configurable:!0,set:n}),ae(t,e)},z=K[U],T(z,"toString",(function(){return q(this).tag})),T(K,"withoutSetter",(function(e){return ae(D(e),e)})),S.f=ce,_.f=oe,I.f=ue,E.f=le,k.f=b.f=fe,x.f=he,N.f=function(e){return ae(O(e),e)},s&&(J(z,"description",{configurable:!0,get:function(){return q(this).description}}),u||T(G,"propertyIsEnumerable",ce,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!c,sham:!c},{Symbol:K}),F(w(ne),(function(e){R(e)})),r({target:j,stat:!0,forced:!c},{useSetter:function(){re=!0},useSimple:function(){re=!1}}),r({target:"Object",stat:!0,forced:!c,sham:!s},{create:se,defineProperty:oe,defineProperties:ue,getOwnPropertyDescriptor:le}),r({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:fe}),M(),L(K,j),C[V]=!0},1817:(e,t,n)=>{"use strict";var r=n(2109),i=n(9781),a=n(7854),o=n(1702),u=n(2597),s=n(614),c=n(7976),l=n(1340),f=n(3070).f,h=n(9920),d=a.Symbol,v=d&&d.prototype;if(i&&s(d)&&(!("description"in v)||void 0!==d().description)){var p={},y=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),t=c(v,this)?new d(e):void 0===e?d():d(e);return""===e&&(p[t]=!0),t};h(y,d),y.prototype=v,v.constructor=y;var g="Symbol(test)"==String(d("test")),m=o(v.toString),w=o(v.valueOf),k=/^Symbol\((.*)\)[^)]+$/,b=o("".replace),x=o("".slice);f(v,"description",{configurable:!0,get:function(){var e=w(this),t=m(e);if(u(p,e))return"";var n=g?x(t,7,-1):b(t,k,"$1");return""===n?void 0:n}}),r({global:!0,constructor:!0,forced:!0},{Symbol:y})}},763:(e,t,n)=>{var r=n(2109),i=n(5005),a=n(2597),o=n(1340),u=n(2309),s=n(735),c=u("string-to-symbol-registry"),l=u("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!s},{for:function(e){var t=o(e);if(a(c,t))return c[t];var n=i("Symbol")(t);return c[t]=n,l[n]=t,n}})},2165:(e,t,n)=>{var r=n(7235);r("iterator")},2526:(e,t,n)=>{n(4032),n(763),n(6620),n(8862),n(9660)},6620:(e,t,n)=>{var r=n(2109),i=n(2597),a=n(2190),o=n(6330),u=n(2309),s=n(735),c=u("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!s},{keyFor:function(e){if(!a(e))throw TypeError(o(e)+" is not a symbol");if(i(c,e))return c[e]}})},3680:(e,t,n)=>{var r=n(5005),i=n(7235),a=n(8003);i("toStringTag"),a(r("Symbol"),"Symbol")},543:(e,t,n)=>{var r=n(7235);r("unscopables")},8675:(e,t,n)=>{"use strict";var r=n(260),i=n(6244),a=n(9303),o=r.aTypedArray,u=r.exportTypedArrayMethod;u("at",(function(e){var t=o(this),n=i(t),r=a(e),u=r>=0?r:n+r;return u<0||u>=n?void 0:t[u]}))},2990:(e,t,n)=>{"use strict";var r=n(1702),i=n(260),a=n(1048),o=r(a),u=i.aTypedArray,s=i.exportTypedArrayMethod;s("copyWithin",(function(e,t){return o(u(this),e,t,arguments.length>2?arguments[2]:void 0)}))},8927:(e,t,n)=>{"use strict";var r=n(260),i=n(2092).every,a=r.aTypedArray,o=r.exportTypedArrayMethod;o("every",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},3105:(e,t,n)=>{"use strict";var r=n(260),i=n(6916),a=n(1285),o=r.aTypedArray,u=r.exportTypedArrayMethod;u("fill",(function(e){var t=arguments.length;return i(a,o(this),e,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)}))},5035:(e,t,n)=>{"use strict";var r=n(260),i=n(2092).filter,a=n(3074),o=r.aTypedArray,u=r.exportTypedArrayMethod;u("filter",(function(e){var t=i(o(this),e,arguments.length>1?arguments[1]:void 0);return a(this,t)}))},7174:(e,t,n)=>{"use strict";var r=n(260),i=n(2092).findIndex,a=r.aTypedArray,o=r.exportTypedArrayMethod;o("findIndex",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},4345:(e,t,n)=>{"use strict";var r=n(260),i=n(2092).find,a=r.aTypedArray,o=r.exportTypedArrayMethod;o("find",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},2846:(e,t,n)=>{"use strict";var r=n(260),i=n(2092).forEach,a=r.aTypedArray,o=r.exportTypedArrayMethod;o("forEach",(function(e){i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},4731:(e,t,n)=>{"use strict";var r=n(260),i=n(1318).includes,a=r.aTypedArray,o=r.exportTypedArrayMethod;o("includes",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},7209:(e,t,n)=>{"use strict";var r=n(260),i=n(1318).indexOf,a=r.aTypedArray,o=r.exportTypedArrayMethod;o("indexOf",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},6319:(e,t,n)=>{"use strict";var r=n(7854),i=n(7293),a=n(1702),o=n(260),u=n(6992),s=n(5112),c=s("iterator"),l=r.Uint8Array,f=a(u.values),h=a(u.keys),d=a(u.entries),v=o.aTypedArray,p=o.exportTypedArrayMethod,y=l&&l.prototype,g=!i((function(){y[c].call([1])})),m=!!y&&y.values&&y[c]===y.values&&"values"===y.values.name,w=function(){return f(v(this))};p("entries",(function(){return d(v(this))}),g),p("keys",(function(){return h(v(this))}),g),p("values",w,g||!m,{name:"values"}),p(c,w,g||!m,{name:"values"})},8867:(e,t,n)=>{"use strict";var r=n(260),i=n(1702),a=r.aTypedArray,o=r.exportTypedArrayMethod,u=i([].join);o("join",(function(e){return u(a(this),e)}))},7789:(e,t,n)=>{"use strict";var r=n(260),i=n(2104),a=n(6583),o=r.aTypedArray,u=r.exportTypedArrayMethod;u("lastIndexOf",(function(e){var t=arguments.length;return i(a,o(this),t>1?[e,arguments[1]]:[e])}))},3739:(e,t,n)=>{"use strict";var r=n(260),i=n(2092).map,a=n(6304),o=r.aTypedArray,u=r.exportTypedArrayMethod;u("map",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(a(e))(t)}))}))},4483:(e,t,n)=>{"use strict";var r=n(260),i=n(3671).right,a=r.aTypedArray,o=r.exportTypedArrayMethod;o("reduceRight",(function(e){var t=arguments.length;return i(a(this),e,t,t>1?arguments[1]:void 0)}))},9368:(e,t,n)=>{"use strict";var r=n(260),i=n(3671).left,a=r.aTypedArray,o=r.exportTypedArrayMethod;o("reduce",(function(e){var t=arguments.length;return i(a(this),e,t,t>1?arguments[1]:void 0)}))},2056:(e,t,n)=>{"use strict";var r=n(260),i=r.aTypedArray,a=r.exportTypedArrayMethod,o=Math.floor;a("reverse",(function(){var e,t=this,n=i(t).length,r=o(n/2),a=0;while(a<r)e=t[a],t[a++]=t[--n],t[n]=e;return t}))},3462:(e,t,n)=>{"use strict";var r=n(7854),i=n(6916),a=n(260),o=n(6244),u=n(4590),s=n(7908),c=n(7293),l=r.RangeError,f=r.Int8Array,h=f&&f.prototype,d=h&&h.set,v=a.aTypedArray,p=a.exportTypedArrayMethod,y=!c((function(){var e=new Uint8ClampedArray(2);return i(d,e,{length:1,0:3},1),3!==e[1]})),g=y&&a.NATIVE_ARRAY_BUFFER_VIEWS&&c((function(){var e=new f(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));p("set",(function(e){v(this);var t=u(arguments.length>1?arguments[1]:void 0,1),n=s(e);if(y)return i(d,this,n,t);var r=this.length,a=o(n),c=0;if(a+t>r)throw l("Wrong length");while(c<a)this[t+c]=n[c++]}),!y||g)},678:(e,t,n)=>{"use strict";var r=n(260),i=n(6304),a=n(7293),o=n(206),u=r.aTypedArray,s=r.exportTypedArrayMethod,c=a((function(){new Int8Array(1).slice()}));s("slice",(function(e,t){var n=o(u(this),e,t),r=i(this),a=0,s=n.length,c=new r(s);while(s>a)c[a]=n[a++];return c}),c)},7462:(e,t,n)=>{"use strict";var r=n(260),i=n(2092).some,a=r.aTypedArray,o=r.exportTypedArrayMethod;o("some",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},3824:(e,t,n)=>{"use strict";var r=n(7854),i=n(1702),a=n(7293),o=n(9662),u=n(4362),s=n(260),c=n(8886),l=n(256),f=n(7392),h=n(8008),d=s.aTypedArray,v=s.exportTypedArrayMethod,p=r.Uint16Array,y=p&&i(p.prototype.sort),g=!!y&&!(a((function(){y(new p(2),null)}))&&a((function(){y(new p(2),{})}))),m=!!y&&!a((function(){if(f)return f<74;if(c)return c<67;if(l)return!0;if(h)return h<602;var e,t,n=new p(516),r=Array(516);for(e=0;e<516;e++)t=e%4,n[e]=515-e,r[e]=e-2*t+3;for(y(n,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(n[e]!==r[e])return!0})),w=function(e){return function(t,n){return void 0!==e?+e(t,n)||0:n!==n?-1:t!==t?1:0===t&&0===n?1/t>0&&1/n<0?1:-1:t>n}};v("sort",(function(e){return void 0!==e&&o(e),m?y(this,e):u(d(this),w(e))}),!m||g)},5021:(e,t,n)=>{"use strict";var r=n(260),i=n(7466),a=n(1400),o=n(6304),u=r.aTypedArray,s=r.exportTypedArrayMethod;s("subarray",(function(e,t){var n=u(this),r=n.length,s=a(e,r),c=o(n);return new c(n.buffer,n.byteOffset+s*n.BYTES_PER_ELEMENT,i((void 0===t?r:a(t,r))-s))}))},2974:(e,t,n)=>{"use strict";var r=n(7854),i=n(2104),a=n(260),o=n(7293),u=n(206),s=r.Int8Array,c=a.aTypedArray,l=a.exportTypedArrayMethod,f=[].toLocaleString,h=!!s&&o((function(){f.call(new s(1))})),d=o((function(){return[1,2].toLocaleString()!=new s([1,2]).toLocaleString()}))||!o((function(){s.prototype.toLocaleString.call([1,2])}));l("toLocaleString",(function(){return i(f,h?u(c(this)):c(this),u(arguments))}),d)},5016:(e,t,n)=>{"use strict";var r=n(260).exportTypedArrayMethod,i=n(7293),a=n(7854),o=n(1702),u=a.Uint8Array,s=u&&u.prototype||{},c=[].toString,l=o([].join);i((function(){c.call({})}))&&(c=function(){return l(this)});var f=s.toString!=c;r("toString",c,f)},2472:(e,t,n)=>{var r=n(9843);r("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},1202:(e,t,n)=>{"use strict";var r,i=n(7854),a=n(1702),o=n(9190),u=n(2423),s=n(7710),c=n(9320),l=n(111),f=n(2050),h=n(9909).enforce,d=n(8536),v=!i.ActiveXObject&&"ActiveXObject"in i,p=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},y=s("WeakMap",p,c);if(d&&v){r=c.getConstructor(p,"WeakMap",!0),u.enable();var g=y.prototype,m=a(g["delete"]),w=a(g.has),k=a(g.get),b=a(g.set);o(g,{delete:function(e){if(l(e)&&!f(e)){var t=h(this);return t.frozen||(t.frozen=new r),m(this,e)||t.frozen["delete"](e)}return m(this,e)},has:function(e){if(l(e)&&!f(e)){var t=h(this);return t.frozen||(t.frozen=new r),w(this,e)||t.frozen.has(e)}return w(this,e)},get:function(e){if(l(e)&&!f(e)){var t=h(this);return t.frozen||(t.frozen=new r),w(this,e)?k(this,e):t.frozen.get(e)}return k(this,e)},set:function(e,t){if(l(e)&&!f(e)){var n=h(this);n.frozen||(n.frozen=new r),w(this,e)?b(this,e,t):n.frozen.set(e,t)}else b(this,e,t);return this}})}},4129:(e,t,n)=>{n(1202)},5505:(e,t,n)=>{var r=n(2109),i=n(5005),a=n(1702),o=n(7293),u=n(1340),s=n(2597),c=n(8053),l=n(4170).ctoi,f=/[^\d+/a-z]/i,h=/[\t\n\f\r ]+/g,d=/[=]+$/,v=i("atob"),p=String.fromCharCode,y=a("".charAt),g=a("".replace),m=a(f.exec),w=o((function(){return""!==v(" ")})),k=!o((function(){v("a")})),b=!w&&!k&&!o((function(){v()})),x=!w&&!k&&1!==v.length;r({global:!0,enumerable:!0,forced:w||k||b||x},{atob:function(e){if(c(arguments.length,1),b||x)return v(e);var t,n,r=g(u(e),h,""),a="",o=0,w=0;if(r.length%4==0&&(r=g(r,d,"")),r.length%4==1||m(f,r))throw new(i("DOMException"))("The string is not correctly encoded","InvalidCharacterError");while(t=y(r,o++))s(l,t)&&(n=w%4?64*n+l[t]:l[t],w++%4&&(a+=p(255&n>>(-2*w&6))));return a}})},7479:(e,t,n)=>{var r=n(2109),i=n(5005),a=n(1702),o=n(7293),u=n(1340),s=n(8053),c=n(4170).itoc,l=i("btoa"),f=a("".charAt),h=a("".charCodeAt),d=!!l&&!o((function(){l()})),v=!!l&&o((function(){return"bnVsbA=="!==l(null)})),p=!!l&&1!==l.length;r({global:!0,enumerable:!0,forced:d||v||p},{btoa:function(e){if(s(arguments.length,1),d||v||p)return l(u(e));var t,n,r=u(e),a="",o=0,y=c;while(f(r,o)||(y="=",o%1)){if(n=h(r,o+=3/4),n>255)throw new(i("DOMException"))("The string contains characters outside of the Latin1 range","InvalidCharacterError");t=t<<8|n,a+=f(y,63&t>>8-o%1*8)}return a}})},4747:(e,t,n)=>{var r=n(7854),i=n(8324),a=n(8509),o=n(8533),u=n(8880),s=function(e){if(e&&e.forEach!==o)try{u(e,"forEach",o)}catch(t){e.forEach=o}};for(var c in i)i[c]&&s(r[c]&&r[c].prototype);s(a)},3948:(e,t,n)=>{var r=n(7854),i=n(8324),a=n(8509),o=n(6992),u=n(8880),s=n(5112),c=s("iterator"),l=s("toStringTag"),f=o.values,h=function(e,t){if(e){if(e[c]!==f)try{u(e,c,f)}catch(r){e[c]=f}if(e[l]||u(e,l,t),i[t])for(var n in o)if(e[n]!==o[n])try{u(e,n,o[n])}catch(r){e[n]=o[n]}}};for(var d in i)h(r[d]&&r[d].prototype,d);h(a,"DOMTokenList")},7714:(e,t,n)=>{"use strict";var r=n(2109),i=n(4038),a=n(5005),o=n(7293),u=n(30),s=n(9114),c=n(3070).f,l=n(8052),f=n(7045),h=n(2597),d=n(5787),v=n(9670),p=n(7762),y=n(6277),g=n(3678),m=n(7741),w=n(9909),k=n(9781),b=n(1913),x="DOMException",E="DATA_CLONE_ERR",_=a("Error"),I=a(x)||function(){try{var e=a("MessageChannel")||i("worker_threads").MessageChannel;(new e).port1.postMessage(new WeakMap)}catch(t){if(t.name==E&&25==t.code)return t.constructor}}(),S=I&&I.prototype,T=_.prototype,A=w.set,Z=w.getterFor(x),C="stack"in _(x),D=function(e){return h(g,e)&&g[e].m?g[e].c:0},O=function(){d(this,N);var e=arguments.length,t=y(e<1?void 0:arguments[0]),n=y(e<2?void 0:arguments[1],"Error"),r=D(n);if(A(this,{type:x,name:n,message:t,code:r}),k||(this.name=n,this.message=t,this.code=r),C){var i=_(t);i.name=x,c(this,"stack",s(1,m(i.stack,1)))}},N=O.prototype=u(T),R=function(e){return{enumerable:!0,configurable:!0,get:e}},M=function(e){return R((function(){return Z(this)[e]}))};k&&(f(N,"code",M("code")),f(N,"message",M("message")),f(N,"name",M("name"))),c(N,"constructor",s(1,O));var L=o((function(){return!(new I instanceof _)})),P=L||o((function(){return T.toString!==p||"2: 1"!==String(new I(1,2))})),F=L||o((function(){return 25!==new I(1,"DataCloneError").code})),V=L||25!==I[E]||25!==S[E],j=b?P||F||V:L;r({global:!0,constructor:!0,forced:j},{DOMException:j?O:I});var U=a(x),B=U.prototype;for(var q in P&&(b||I===U)&&l(B,"toString",p),F&&k&&I===U&&f(B,"code",R((function(){return D(v(this).name)}))),g)if(h(g,q)){var G=g[q],K=G.s,z=s(6,G.c);h(U,K)||c(U,K,z),h(B,K)||c(B,K,z)}},2801:(e,t,n)=>{"use strict";var r=n(2109),i=n(5005),a=n(9114),o=n(3070).f,u=n(2597),s=n(5787),c=n(9587),l=n(6277),f=n(3678),h=n(7741),d=n(1913),v="DOMException",p=i("Error"),y=i(v),g=function(){s(this,m);var e=arguments.length,t=l(e<1?void 0:arguments[0]),n=l(e<2?void 0:arguments[1],"Error"),r=new y(t,n),i=p(t);return i.name=v,o(r,"stack",a(1,h(i.stack,1))),c(r,this,g),r},m=g.prototype=y.prototype,w="stack"in p(v),k="stack"in new y(1,2),b=w&&!k;r({global:!0,constructor:!0,forced:d||b},{DOMException:b?g:y});var x=i(v),E=x.prototype;if(E.constructor!==x)for(var _ in d||o(E,"constructor",a(1,x)),f)if(u(f,_)){var I=f[_],S=I.s;u(x,S)||o(x,S,a(6,I.c))}},1174:(e,t,n)=>{var r=n(5005),i=n(8003),a="DOMException";i(r(a),a)},6815:(e,t,n)=>{var r=n(2109),i=n(7854),a=n(7152).setInterval;r({global:!0,bind:!0,forced:i.setInterval!==a},{setInterval:a})},8417:(e,t,n)=>{var r=n(2109),i=n(7854),a=n(7152).setTimeout;r({global:!0,bind:!0,forced:i.setTimeout!==a},{setTimeout:a})},2564:(e,t,n)=>{n(6815),n(8417)},9933:e=>{function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e.exports=t,e.exports.__esModule=!0,e.exports["default"]=e.exports},8419:(e,t,n)=>{function r(e){if(Array.isArray(e))return e}n(9753),e.exports=r,e.exports.__esModule=!0,e.exports["default"]=e.exports},4548:(e,t,n)=>{n(2526),n(1817),n(1539),n(2165),n(8783),n(3948),n(9753),n(1703),n(6647);var r=n(7486);function i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==n["return"]||n["return"]()}finally{if(s)throw o}}}}e.exports=i,e.exports.__esModule=!0,e.exports["default"]=e.exports},6066:(e,t,n)=>{function r(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(a.push(r.value),t&&a.length===t)break}catch(s){u=!0,i=s}finally{try{o||null==n["return"]||n["return"]()}finally{if(u)throw i}}return a}}n(2526),n(1817),n(1539),n(2165),n(8783),n(3948),e.exports=r,e.exports.__esModule=!0,e.exports["default"]=e.exports},8826:(e,t,n)=>{function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n(1703),n(6647),e.exports=r,e.exports.__esModule=!0,e.exports["default"]=e.exports},2:(e,t,n)=>{var r=n(8419),i=n(6066),a=n(7486),o=n(8826);function u(e,t){return r(e)||i(e,t)||a(e,t)||o()}e.exports=u,e.exports.__esModule=!0,e.exports["default"]=e.exports},7486:(e,t,n)=>{n(7042),n(1539),n(8309),n(1038),n(8783),n(4916),n(7601);var r=n(9933);function i(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}e.exports=i,e.exports.__esModule=!0,e.exports["default"]=e.exports},5287:(e,t,n)=>{"use strict";n.d(t,{BH:()=>x,LL:()=>F,ZR:()=>P,L:()=>w,r3:()=>U,Sg:()=>E,ne:()=>G,vZ:()=>B,ZB:()=>k,m9:()=>W,z$:()=>_,jU:()=>T,ru:()=>A,d:()=>C,w1:()=>D,hl:()=>R,uI:()=>I,b$:()=>Z,G6:()=>N,Mn:()=>O,eu:()=>M});var r=n(6347),i=(n(6084),n(2417)),a=n(9110),o=n(7946),u=(n(1532),n(1539),n(8783),n(3948),n(1703),n(6647),n(8011),n(2040)),s=n(3967);n(2772),n(3710),n(9714);function c(e){return-1!==Function.toString.call(e).indexOf("[native code]")}var l=n(5507);function f(e){var t="function"===typeof Map?new Map:void 0;return f=function(e){if(null===e||!c(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return(0,l.Z)(e,arguments,(0,u.Z)(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),(0,s.Z)(n,e)},f(e)}var h=n(3336),d=n(3087),v=n(2833),p=(n(9600),n(5505),n(7714),n(2801),n(1174),n(9753),n(7479),n(4916),n(5306),n(86),n(8862),n(7601),n(6699),n(2023),n(8309),n(8304),n(2222),n(3123),n(7941),n(2564),n(9720),n(9554),n(4747),n(4812),n(5192),n(9653),function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}),y=function(e){var t=[],n=0,r=0;while(n<e.length){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=e[n++],u=e[n++],s=e[n++],c=((7&i)<<18|(63&o)<<12|(63&u)<<6|63&s)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(1023&c))}else{var l=e[n++],f=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&l)<<6|63&f)}}return t.join("")},g={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(p(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):y(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length,u=o?n[e.charAt(i)]:0;++i;var s=i<e.length,c=s?n[e.charAt(i)]:64;++i;var l=i<e.length,f=l?n[e.charAt(i)]:64;if(++i,null==a||null==u||null==c||null==f)throw Error();var h=a<<2|u>>4;if(r.push(h),64!==c){var d=u<<4&240|c>>2;if(r.push(d),64!==f){var v=c<<6&192|f;r.push(v)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},m=function(e){var t=p(e);return g.encodeByteArray(t,!0)},w=function(e){return m(e).replace(/\./g,"")};function k(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)t.hasOwnProperty(r)&&b(r)&&(e[r]=k(e[r],t[r]));return e}function b(e){return"__proto__"!==e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var x=function(){function e(){var t=this;(0,d.Z)(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return(0,v.Z)(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise["catch"]((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=Object.assign({iss:"https://securetoken.google.com/".concat(r),aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e),u="";return[w(JSON.stringify(n)),w(JSON.stringify(o)),u].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _(){return"undefined"!==typeof navigator&&"string"===typeof navigator["userAgent"]?navigator["userAgent"]:""}function I(){return"undefined"!==typeof window&&!!(window["cordova"]||window["phonegap"]||window["PhoneGap"])&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_())}function S(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function T(){return"object"===("undefined"===typeof self?"undefined":(0,h.Z)(self))&&self.self===self}function A(){var e="object"===("undefined"===typeof chrome?"undefined":(0,h.Z)(chrome))?chrome.runtime:"object"===("undefined"===typeof browser?"undefined":(0,h.Z)(browser))?browser.runtime:void 0;return"object"===(0,h.Z)(e)&&void 0!==e.id}function Z(){return"object"===("undefined"===typeof navigator?"undefined":(0,h.Z)(navigator))&&"ReactNative"===navigator["product"]}function C(){return _().indexOf("Electron/")>=0}function D(){var e=_();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function O(){return _().indexOf("MSAppHost/")>=0}function N(){return!S()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function R(){return"object"===("undefined"===typeof indexedDB?"undefined":(0,h.Z)(indexedDB))}function M(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var L="FirebaseError",P=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,r,a){var o;return(0,d.Z)(this,n),o=t.call(this,r),o.code=e,o.customData=a,o.name=L,Object.setPrototypeOf((0,i.Z)(o),n.prototype),Error.captureStackTrace&&Error.captureStackTrace((0,i.Z)(o),F.prototype.create),o}return(0,v.Z)(n)}(f(Error)),F=function(){function e(t,n,r){(0,d.Z)(this,e),this.service=t,this.serviceName=n,this.errors=r}return(0,v.Z)(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?V(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new P(n,a,t);return o}}]),e}();function V(e,t){return e.replace(j,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var j=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function U(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function B(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(q(u)&&q(s)){if(!B(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function q(e){return null!==e&&"object"===(0,h.Z)(e)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G(e,t){var n=new K(e,t);return n.subscribe.bind(n)}var K=function(){function e(t,n){var r=this;(0,d.Z)(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)}))["catch"]((function(e){r.error(e)}))}return(0,v.Z)(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=z(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=H),void 0===r.error&&(r.error=H),void 0===r.complete&&(r.complete=H);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function z(e,t){if("object"!==(0,h.Z)(e)||null===e)return!1;var n,i=(0,r.Z)(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in e&&"function"===typeof e[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}function H(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function W(e){return e&&e._delegate?e._delegate:e}},4870:(e,t,n)=>{"use strict";n.d(t,{Bj:()=>f,Fl:()=>Ye,IU:()=>Le,Jd:()=>Z,PG:()=>Oe,SU:()=>He,Um:()=>Ze,WL:()=>Qe,X$:()=>N,X3:()=>Me,XI:()=>Ge,Xl:()=>Pe,dq:()=>Be,iH:()=>qe,j:()=>D,lk:()=>C,qj:()=>Ae,qq:()=>I,yT:()=>Re});var r,i=n(6084),a=n(2482),o=n(6347),u=n(9584),s=n(3087),c=n(2833),l=(n(2222),n(1539),n(189),n(8783),n(3948),n(4129),n(2526),n(1817),n(4812),n(1532),n(9554),n(4747),n(7327),n(1249),n(6210),n(4819),n(1299),n(9653),n(3593),n(2586),n(1037),n(7318),n(9361),n(2165),n(1825),n(7139));var f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(0,s.Z)(this,e),this.active=!0,this.effects=[],this.cleanups=[],!t&&r&&(this.parent=r,this.index=(r.scopes||(r.scopes=[])).push(this)-1)}return(0,c.Z)(e,[{key:"run",value:function(e){if(this.active){var t=r;try{return r=this,e()}finally{r=t}}else 0}},{key:"on",value:function(){r=this}},{key:"off",value:function(){r=this.parent}},{key:"stop",value:function(e){if(this.active){var t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(this.parent&&!e){var r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.active=!1}}}]),e}();function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r;t&&t.active&&t.effects.push(e)}var d,v=function(e){var t=new Set(e);return t.w=0,t.n=0,t},p=function(e){return(e.w&b)>0},y=function(e){return(e.n&b)>0},g=function(e){var t=e.deps;if(t.length)for(var n=0;n<t.length;n++)t[n].w|=b},m=function(e){var t=e.deps;if(t.length){for(var n=0,r=0;r<t.length;r++){var i=t[r];p(i)&&!y(i)?i["delete"](e):t[n++]=i,i.w&=~b,i.n&=~b}t.length=n}},w=new WeakMap,k=0,b=1,x=30,E=Symbol(""),_=Symbol(""),I=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2?arguments[2]:void 0;(0,s.Z)(this,e),this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,h(this,r)}return(0,c.Z)(e,[{key:"run",value:function(){if(!this.active)return this.fn();var e=d,t=T;while(e){if(e===this)return;e=e.parent}try{return this.parent=d,d=this,T=!0,b=1<<++k,k<=x?g(this):S(this),this.fn()}finally{k<=x&&m(this),b=1<<--k,d=this.parent,T=t,this.parent=void 0,this.deferStop&&this.stop()}}},{key:"stop",value:function(){d===this?this.deferStop=!0:this.active&&(S(this),this.onStop&&this.onStop(),this.active=!1)}}]),e}();function S(e){var t=e.deps;if(t.length){for(var n=0;n<t.length;n++)t[n]["delete"](e);t.length=0}}var T=!0,A=[];function Z(){A.push(T),T=!1}function C(){var e=A.pop();T=void 0===e||e}function D(e,t,n){if(T&&d){var r=w.get(e);r||w.set(e,r=new Map);var i=r.get(n);i||r.set(n,i=v());var a=void 0;O(i,a)}}function O(e,t){var n=!1;k<=x?y(e)||(e.n|=b,n=!p(e)):n=!e.has(d),n&&(e.add(d),d.deps.push(e))}function N(e,t,n,r,i,a){var s=w.get(e);if(s){var c=[];if("clear"===t)c=(0,u.Z)(s.values());else if("length"===n&&(0,l.kJ)(e))s.forEach((function(e,t){("length"===t||t>=r)&&c.push(e)}));else switch(void 0!==n&&c.push(s.get(n)),t){case"add":(0,l.kJ)(e)?(0,l.S0)(n)&&c.push(s.get("length")):(c.push(s.get(E)),(0,l._N)(e)&&c.push(s.get(_)));break;case"delete":(0,l.kJ)(e)||(c.push(s.get(E)),(0,l._N)(e)&&c.push(s.get(_)));break;case"set":(0,l._N)(e)&&c.push(s.get(E));break}if(1===c.length)c[0]&&R(c[0]);else{var f,h=[],d=(0,o.Z)(c);try{for(d.s();!(f=d.n()).done;){var p=f.value;p&&h.push.apply(h,(0,u.Z)(p))}}catch(y){d.e(y)}finally{d.f()}R(v(h))}}}function R(e,t){var n,r=(0,l.kJ)(e)?e:(0,u.Z)(e),i=(0,o.Z)(r);try{for(i.s();!(n=i.n()).done;){var a=n.value;a.computed&&M(a,t)}}catch(h){i.e(h)}finally{i.f()}var s,c=(0,o.Z)(r);try{for(c.s();!(s=c.n()).done;){var f=s.value;f.computed||M(f,t)}}catch(h){c.e(h)}finally{c.f()}}function M(e,t){(e!==d||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}var L=(0,l.fY)("__proto__,__v_isRef,__isVue"),P=new Set(Object.getOwnPropertyNames(Symbol).filter((function(e){return"arguments"!==e&&"caller"!==e})).map((function(e){return Symbol[e]})).filter(l.yk)),F=q(),V=q(!1,!0),j=q(!0),U=B();function B(){var e={};return["includes","indexOf","lastIndexOf"].forEach((function(t){e[t]=function(){for(var e=Le(this),n=0,r=this.length;n<r;n++)D(e,"get",n+"");for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var s=e[t].apply(e,a);return-1===s||!1===s?e[t].apply(e,(0,u.Z)(a.map(Le))):s}})),["push","pop","shift","unshift","splice"].forEach((function(t){e[t]=function(){Z();for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=Le(this)[t].apply(this,n);return C(),i}})),e}function q(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r,i){if("__v_isReactive"===r)return!e;if("__v_isReadonly"===r)return e;if("__v_isShallow"===r)return t;if("__v_raw"===r&&i===(e?t?Ie:_e:t?Ee:xe).get(n))return n;var a=(0,l.kJ)(n);if(!e&&a&&(0,l.RI)(U,r))return Reflect.get(U,r,i);var o=Reflect.get(n,r,i);return((0,l.yk)(r)?P.has(r):L(r))?o:(e||D(n,"get",r),t?o:Be(o)?a&&(0,l.S0)(r)?o:o.value:(0,l.Kn)(o)?e?Ce(o):Ae(o):o)}}var G=z(),K=z(!0);function z(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n,r,i){var a=t[n];if(Ne(a)&&Be(a)&&!Be(r))return!1;if(!e&&!Ne(r)&&(Re(r)||(r=Le(r),a=Le(a)),!(0,l.kJ)(t)&&Be(a)&&!Be(r)))return a.value=r,!0;var o=(0,l.kJ)(t)&&(0,l.S0)(n)?Number(n)<t.length:(0,l.RI)(t,n),u=Reflect.set(t,n,r,i);return t===Le(i)&&(o?(0,l.aU)(r,a)&&N(t,"set",n,r,a):N(t,"add",n,r)),u}}function H(e,t){var n=(0,l.RI)(e,t),r=e[t],i=Reflect.deleteProperty(e,t);return i&&n&&N(e,"delete",t,void 0,r),i}function W(e,t){var n=Reflect.has(e,t);return(0,l.yk)(t)&&P.has(t)||D(e,"has",t),n}function Q(e){return D(e,"iterate",(0,l.kJ)(e)?"length":E),Reflect.ownKeys(e)}var J={get:F,set:G,deleteProperty:H,has:W,ownKeys:Q},Y={get:j,set:function(e,t){return!0},deleteProperty:function(e,t){return!0}},$=(0,l.l7)({},J,{get:V,set:K}),X=function(e){return e},ee=function(e){return Reflect.getPrototypeOf(e)};function te(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e=e["__v_raw"];var i=Le(e),a=Le(t);n||(t!==a&&D(i,"get",t),D(i,"get",a));var o=ee(i),u=o.has,s=r?X:n?Ve:Fe;return u.call(i,t)?s(e.get(t)):u.call(i,a)?s(e.get(a)):void(e!==i&&e.get(t))}function ne(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this["__v_raw"],r=Le(n),i=Le(e);return t||(e!==i&&D(r,"has",e),D(r,"has",i)),e===i?n.has(e):n.has(e)||n.has(i)}function re(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e=e["__v_raw"],!t&&D(Le(e),"iterate",E),Reflect.get(e,"size",e)}function ie(e){e=Le(e);var t=Le(this),n=ee(t),r=n.has.call(t,e);return r||(t.add(e),N(t,"add",e,e)),this}function ae(e,t){t=Le(t);var n=Le(this),r=ee(n),i=r.has,a=r.get,o=i.call(n,e);o||(e=Le(e),o=i.call(n,e));var u=a.call(n,e);return n.set(e,t),o?(0,l.aU)(t,u)&&N(n,"set",e,t,u):N(n,"add",e,t),this}function oe(e){var t=Le(this),n=ee(t),r=n.has,i=n.get,a=r.call(t,e);a||(e=Le(e),a=r.call(t,e));var o=i?i.call(t,e):void 0,u=t["delete"](e);return a&&N(t,"delete",e,void 0,o),u}function ue(){var e=Le(this),t=0!==e.size,n=void 0,r=e.clear();return t&&N(e,"clear",void 0,void 0,n),r}function se(e,t){return function(n,r){var i=this,a=i["__v_raw"],o=Le(a),u=t?X:e?Ve:Fe;return!e&&D(o,"iterate",E),a.forEach((function(e,t){return n.call(r,u(e),u(t),i)}))}}function ce(e,t,n){return function(){var r=this["__v_raw"],i=Le(r),o=(0,l._N)(i),u="entries"===e||e===Symbol.iterator&&o,s="keys"===e&&o,c=r[e].apply(r,arguments),f=n?X:t?Ve:Fe;return!t&&D(i,"iterate",s?_:E),(0,a.Z)({next:function(){var e=c.next(),t=e.value,n=e.done;return n?{value:t,done:n}:{value:u?[f(t[0]),f(t[1])]:f(t),done:n}}},Symbol.iterator,(function(){return this}))}}function le(e){return function(){return"delete"!==e&&this}}function fe(){var e={get:function(e){return te(this,e)},get size(){return re(this)},has:ne,add:ie,set:ae,delete:oe,clear:ue,forEach:se(!1,!1)},t={get:function(e){return te(this,e,!1,!0)},get size(){return re(this)},has:ne,add:ie,set:ae,delete:oe,clear:ue,forEach:se(!1,!0)},n={get:function(e){return te(this,e,!0)},get size(){return re(this,!0)},has:function(e){return ne.call(this,e,!0)},add:le("add"),set:le("set"),delete:le("delete"),clear:le("clear"),forEach:se(!0,!1)},r={get:function(e){return te(this,e,!0,!0)},get size(){return re(this,!0)},has:function(e){return ne.call(this,e,!0)},add:le("add"),set:le("set"),delete:le("delete"),clear:le("clear"),forEach:se(!0,!0)},i=["keys","values","entries",Symbol.iterator];return i.forEach((function(i){e[i]=ce(i,!1,!1),n[i]=ce(i,!0,!1),t[i]=ce(i,!1,!0),r[i]=ce(i,!0,!0)})),[e,n,t,r]}var he=fe(),de=(0,i.Z)(he,4),ve=de[0],pe=de[1],ye=de[2],ge=de[3];function me(e,t){var n=t?e?ge:ye:e?pe:ve;return function(t,r,i){return"__v_isReactive"===r?!e:"__v_isReadonly"===r?e:"__v_raw"===r?t:Reflect.get((0,l.RI)(n,r)&&r in t?n:t,r,i)}}var we={get:me(!1,!1)},ke={get:me(!1,!0)},be={get:me(!0,!1)};var xe=new WeakMap,Ee=new WeakMap,_e=new WeakMap,Ie=new WeakMap;function Se(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Te(e){return e["__v_skip"]||!Object.isExtensible(e)?0:Se((0,l.W7)(e))}function Ae(e){return Ne(e)?e:De(e,!1,J,we,xe)}function Ze(e){return De(e,!1,$,ke,Ee)}function Ce(e){return De(e,!0,Y,be,_e)}function De(e,t,n,r,i){if(!(0,l.Kn)(e))return e;if(e["__v_raw"]&&(!t||!e["__v_isReactive"]))return e;var a=i.get(e);if(a)return a;var o=Te(e);if(0===o)return e;var u=new Proxy(e,2===o?r:n);return i.set(e,u),u}function Oe(e){return Ne(e)?Oe(e["__v_raw"]):!(!e||!e["__v_isReactive"])}function Ne(e){return!(!e||!e["__v_isReadonly"])}function Re(e){return!(!e||!e["__v_isShallow"])}function Me(e){return Oe(e)||Ne(e)}function Le(e){var t=e&&e["__v_raw"];return t?Le(t):e}function Pe(e){return(0,l.Nj)(e,"__v_skip",!0),e}var Fe=function(e){return(0,l.Kn)(e)?Ae(e):e},Ve=function(e){return(0,l.Kn)(e)?Ce(e):e};function je(e){T&&d&&(e=Le(e),O(e.dep||(e.dep=v())))}function Ue(e,t){e=Le(e),e.dep&&R(e.dep)}function Be(e){return!(!e||!0!==e.__v_isRef)}function qe(e){return Ke(e,!1)}function Ge(e){return Ke(e,!0)}function Ke(e,t){return Be(e)?e:new ze(e,t)}var ze=function(){function e(t,n){(0,s.Z)(this,e),this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Le(t),this._value=n?t:Fe(t)}return(0,c.Z)(e,[{key:"value",get:function(){return je(this),this._value},set:function(e){e=this.__v_isShallow?e:Le(e),(0,l.aU)(e,this._rawValue)&&(this._rawValue=e,this._value=this.__v_isShallow?e:Fe(e),Ue(this,e))}}]),e}();function He(e){return Be(e)?e.value:e}var We={get:function(e,t,n){return He(Reflect.get(e,t,n))},set:function(e,t,n,r){var i=e[t];return Be(i)&&!Be(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function Qe(e){return Oe(e)?e:new Proxy(e,We)}var Je=function(){function e(t,n,r,i){var a=this;(0,s.Z)(this,e),this._setter=n,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new I(t,(function(){a._dirty||(a._dirty=!0,Ue(a))})),this.effect.computed=this,this.effect.active=this._cacheable=!i,this["__v_isReadonly"]=r}return(0,c.Z)(e,[{key:"value",get:function(){var e=Le(this);return je(e),!e._dirty&&e._cacheable||(e._dirty=!1,e._value=e.effect.run()),e._value},set:function(e){this._setter(e)}}]),e}();function Ye(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=(0,l.mf)(e);a?(n=e,r=l.dG):(n=e.get,r=e.set);var o=new Je(n,r,a||!r,i);return o}},3396:(e,t,n)=>{"use strict";n.d(t,{$d:()=>h,FN:()=>In,Fl:()=>Un,HY:()=>Kt,JJ:()=>te,Ko:()=>We,P$:()=>he,Q6:()=>me,U2:()=>ve,Us:()=>Rt,Wm:()=>fn,Y3:()=>A,Y8:()=>ce,YP:()=>ie,_:()=>ln,aZ:()=>we,f3:()=>ne,h:()=>Bn,iD:()=>nn,ic:()=>Re,j4:()=>rn,nK:()=>ge,up:()=>Ge,wg:()=>Yt,wy:()=>Ue});var r,i=n(3336),a=n(6084),o=n(6347),u=n(2482),s=n(9584),c=(n(9600),n(1249),n(2222),n(9554),n(1539),n(4747),n(7941),n(7042),n(8862),n(8309),n(4812),n(6699),n(561),n(2772),n(2023),n(189),n(8783),n(3948),n(1532),n(2707),n(2564),n(6755),n(3210),n(4916),n(5306),n(5212),n(1703),n(6647),n(5218),n(7327),n(8011),n(3123),n(6541),n(3680),n(3706),n(2703),n(2526),n(1817),n(4603),n(8450),n(8386),n(9714),n(9653),n(1058),n(7601),n(3161),n(2165),n(1038),n(9070),n(9596),n(1299),n(7318),n(543),n(4723),n(3710),n(4553),n(4129),n(7852),n(3843),n(3371),n(5827),n(4870)),l=n(7139);r={},(0,u.Z)(r,"sp","serverPrefetch hook"),(0,u.Z)(r,"bc","beforeCreate hook"),(0,u.Z)(r,"c","created hook"),(0,u.Z)(r,"bm","beforeMount hook"),(0,u.Z)(r,"m","mounted hook"),(0,u.Z)(r,"bu","beforeUpdate hook"),(0,u.Z)(r,"u","updated"),(0,u.Z)(r,"bum","beforeUnmount hook"),(0,u.Z)(r,"um","unmounted hook"),(0,u.Z)(r,"a","activated hook"),(0,u.Z)(r,"da","deactivated hook"),(0,u.Z)(r,"ec","errorCaptured hook"),(0,u.Z)(r,"rtc","renderTracked hook"),(0,u.Z)(r,"rtg","renderTriggered hook"),(0,u.Z)(r,0,"setup function"),(0,u.Z)(r,1,"render function"),(0,u.Z)(r,2,"watcher getter"),(0,u.Z)(r,3,"watcher callback"),(0,u.Z)(r,4,"watcher cleanup function"),(0,u.Z)(r,5,"native event handler"),(0,u.Z)(r,6,"component event handler"),(0,u.Z)(r,7,"vnode hook"),(0,u.Z)(r,8,"directive hook"),(0,u.Z)(r,9,"transition hook"),(0,u.Z)(r,10,"app errorHandler"),(0,u.Z)(r,11,"app warnHandler"),(0,u.Z)(r,12,"ref function"),(0,u.Z)(r,13,"async component loader"),(0,u.Z)(r,14,"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/core");function f(e,t,n,r){var i;try{i=r?e.apply(void 0,(0,s.Z)(r)):e()}catch(a){d(a,t,n)}return i}function h(e,t,n,r){if((0,l.mf)(e)){var i=f(e,t,n,r);return i&&(0,l.tI)(i)&&i["catch"]((function(e){d(e,t,n)})),i}for(var a=[],o=0;o<e.length;o++)a.push(h(e[o],t,n,r));return a}function d(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=t?t.vnode:null;if(t){var a=t.parent,o=t.proxy,u=n;while(a){var s=a.ec;if(s)for(var c=0;c<s.length;c++)if(!1===s[c](e,o,u))return;a=a.parent}var l=t.appContext.config.errorHandler;if(l)return void f(l,null,10,[e,o,u])}v(e,n,i,r)}function v(e,t,n){console.error(e)}var p=!1,y=!1,g=[],m=0,w=[],k=null,b=0,x=[],E=null,_=0,I=Promise.resolve(),S=null,T=null;function A(e){var t=S||I;return e?t.then(this?e.bind(this):e):t}function Z(e){var t=m+1,n=g.length;while(t<n){var r=t+n>>>1,i=F(g[r]);i<e?t=r+1:n=r}return t}function C(e){g.length&&g.includes(e,p&&e.allowRecurse?m+1:m)||e===T||(null==e.id?g.push(e):g.splice(Z(e.id),0,e),D())}function D(){p||y||(y=!0,S=I.then(V))}function O(e){var t=g.indexOf(e);t>m&&g.splice(t,1)}function N(e,t,n,r){(0,l.kJ)(e)?n.push.apply(n,(0,s.Z)(e)):t&&t.includes(e,e.allowRecurse?r+1:r)||n.push(e),D()}function R(e){N(e,k,w,b)}function M(e){N(e,E,x,_)}function L(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(w.length){for(T=t,k=(0,s.Z)(new Set(w)),w.length=0,b=0;b<k.length;b++)k[b]();k=null,b=0,T=null,L(e,t)}}function P(e){if(L(),x.length){var t,n=(0,s.Z)(new Set(x));if(x.length=0,E)return void(t=E).push.apply(t,(0,s.Z)(n));for(E=n,E.sort((function(e,t){return F(e)-F(t)})),_=0;_<E.length;_++)E[_]();E=null,_=0}}var F=function(e){return null==e.id?1/0:e.id};function V(e){y=!1,p=!0,L(e),g.sort((function(e,t){return F(e)-F(t)}));l.dG;try{for(m=0;m<g.length;m++){var t=g[m];t&&!1!==t.active&&f(t,null,14)}}finally{m=0,g.length=0,P(e),p=!1,S=null,(g.length||w.length||x.length)&&V(e)}}new Set;new Map;function j(e,t){if(!e.isUnmounted){for(var n=e.vnode.props||l.kT,r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];var o,u=i,s=t.startsWith("update:"),c=s&&t.slice(7);if(c&&c in n){var f="".concat("modelValue"===c?"model":c,"Modifiers"),d=n[f]||l.kT,v=d.number,p=d.trim;p&&(u=i.map((function(e){return e.trim()}))),v&&(u=i.map(l.He))}0;var y=n[o=(0,l.hR)(t)]||n[o=(0,l.hR)((0,l._A)(t))];!y&&s&&(y=n[o=(0,l.hR)((0,l.rs)(t))]),y&&h(y,e,6,u);var g=n[o+"Once"];if(g){if(e.emitted){if(e.emitted[o])return}else e.emitted={};e.emitted[o]=!0,h(g,e,6,u)}}}function U(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t.emitsCache,i=r.get(e);if(void 0!==i)return i;var a=e.emits,o={},u=!1;if(!(0,l.mf)(e)){var s=function(e){var n=U(e,t,!0);n&&(u=!0,(0,l.l7)(o,n))};!n&&t.mixins.length&&t.mixins.forEach(s),e["extends"]&&s(e["extends"]),e.mixins&&e.mixins.forEach(s)}return a||u?((0,l.kJ)(a)?a.forEach((function(e){return o[e]=null})):(0,l.l7)(o,a),r.set(e,o),o):(r.set(e,null),null)}function B(e,t){return!(!e||!(0,l.F7)(t))&&(t=t.slice(2).replace(/Once$/,""),(0,l.RI)(e,t[0].toLowerCase()+t.slice(1))||(0,l.RI)(e,(0,l.rs)(t))||(0,l.RI)(e,t))}var q=null,G=null;function K(e){var t=q;return q=e,G=e&&e.type.__scopeId||null,t}function z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:q;if(!t)return e;if(e._n)return e;var n=function n(){n._d&&en(-1);var r=K(t),i=e.apply(void 0,arguments);return K(r),n._d&&en(1),i};return n._n=!0,n._c=!0,n._d=!0,n}function H(e){var t,n,r=e.type,i=e.vnode,o=e.proxy,u=e.withProxy,s=e.props,c=(0,a.Z)(e.propsOptions,1),f=c[0],h=e.slots,v=e.attrs,p=e.emit,y=e.render,g=e.renderCache,m=e.data,w=e.setupState,k=e.ctx,b=e.inheritAttrs,x=K(e);try{if(4&i.shapeFlag){var E=u||o;t=yn(y.call(E,E,g,s,w,m,k)),n=v}else{var _=r;0,t=yn(_.length>1?_(s,{attrs:v,slots:h,emit:p}):_(s,null)),n=r.props?v:W(v)}}catch(Z){Qt.length=0,d(Z,e,1),t=fn(Ht)}var I=t;if(n&&!1!==b){var S=Object.keys(n),T=I,A=T.shapeFlag;if(S.length)if(7&A)f&&S.some(l.tR)&&(n=Q(n,f)),I=vn(I,n);else;}return i.dirs&&(I=vn(I),I.dirs=I.dirs?I.dirs.concat(i.dirs):i.dirs),i.transition&&(I.transition=i.transition),t=I,K(x),t}var W=function(e){var t;for(var n in e)("class"===n||"style"===n||(0,l.F7)(n))&&((t||(t={}))[n]=e[n]);return t},Q=function(e,t){var n={};for(var r in e)(0,l.tR)(r)&&r.slice(9)in t||(n[r]=e[r]);return n};function J(e,t,n){var r=e.props,i=e.children,a=e.component,o=t.props,u=t.children,s=t.patchFlag,c=a.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&s>=0))return!(!i&&!u||u&&u.$stable)||r!==o&&(r?!o||Y(r,o,c):!!o);if(1024&s)return!0;if(16&s)return r?Y(r,o,c):!!o;if(8&s)for(var l=t.dynamicProps,f=0;f<l.length;f++){var h=l[f];if(o[h]!==r[h]&&!B(c,h))return!0}return!1}function Y(e,t,n){var r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(var i=0;i<r.length;i++){var a=r[i];if(t[a]!==e[a]&&!B(n,a))return!0}return!1}function $(e,t){var n=e.vnode,r=e.parent;while(r&&r.subTree===n)(n=r.vnode).el=t,r=r.parent}var X=function(e){return e.__isSuspense};function ee(e,t){var n;t&&t.pendingBranch?(0,l.kJ)(e)?(n=t.effects).push.apply(n,(0,s.Z)(e)):t.effects.push(e):M(e)}function te(e,t){if(_n){var n=_n.provides,r=_n.parent&&_n.parent.provides;r===n&&(n=_n.provides=Object.create(r)),n[e]=t}else 0}function ne(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=_n||q;if(r){var i=null==r.parent?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(i&&e in i)return i[e];if(arguments.length>1)return n&&(0,l.mf)(t)?t.call(r.proxy):t}else 0}var re={};function ie(e,t,n){return ae(e,t,n)}function ae(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.kT,r=n.immediate,i=n.deep,a=n.flush;n.onTrack,n.onTrigger;var o,u,s=_n,d=!1,v=!1;if((0,c.dq)(e)?(o=function(){return e.value},d=(0,c.yT)(e)):(0,c.PG)(e)?(o=function(){return e},i=!0):(0,l.kJ)(e)?(v=!0,d=e.some((function(e){return(0,c.PG)(e)||(0,c.yT)(e)})),o=function(){return e.map((function(e){return(0,c.dq)(e)?e.value:(0,c.PG)(e)?se(e):(0,l.mf)(e)?f(e,s,2):void 0}))}):o=(0,l.mf)(e)?t?function(){return f(e,s,2)}:function(){if(!s||!s.isUnmounted)return u&&u(),h(e,s,3,[y])}:l.dG,t&&i){var p=o;o=function(){return se(p())}}var y=function(e){u=k.onStop=function(){f(e,s,4)}};if(Dn)return y=l.dG,t?r&&h(t,s,3,[o(),v?[]:void 0,y]):o(),l.dG;var g,m=v?[]:re,w=function(){if(k.active)if(t){var e=k.run();(i||d||(v?e.some((function(e,t){return(0,l.aU)(e,m[t])})):(0,l.aU)(e,m)))&&(u&&u(),h(t,s,3,[e,m===re?void 0:m,y]),m=e)}else k.run()};w.allowRecurse=!!t,g="sync"===a?w:"post"===a?function(){return Nt(w,s&&s.suspense)}:function(){return R(w)};var k=new c.qq(o,g);return t?r?w():m=k.run():"post"===a?Nt(k.run.bind(k),s&&s.suspense):k.run(),function(){k.stop(),s&&s.scope&&(0,l.Od)(s.scope.effects,k)}}function oe(e,t,n){var r,i=this.proxy,a=(0,l.HD)(e)?e.includes(".")?ue(i,e):function(){return i[e]}:e.bind(i,i);(0,l.mf)(t)?r=t:(r=t.handler,n=t);var o=_n;Sn(this);var u=ae(a,r.bind(i),n);return o?Sn(o):Tn(),u}function ue(e,t){var n=t.split(".");return function(){for(var t=e,r=0;r<n.length&&t;r++)t=t[n[r]];return t}}function se(e,t){if(!(0,l.Kn)(e)||e["__v_skip"])return e;if(t=t||new Set,t.has(e))return e;if(t.add(e),(0,c.dq)(e))se(e.value,t);else if((0,l.kJ)(e))for(var n=0;n<e.length;n++)se(e[n],t);else if((0,l.DM)(e)||(0,l._N)(e))e.forEach((function(e){se(e,t)}));else if((0,l.PO)(e))for(var r in e)se(e[r],t);return e}function ce(){var e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Oe((function(){e.isMounted=!0})),Me((function(){e.isUnmounting=!0})),e}var le=[Function,Array],fe={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:le,onEnter:le,onAfterEnter:le,onEnterCancelled:le,onBeforeLeave:le,onLeave:le,onAfterLeave:le,onLeaveCancelled:le,onBeforeAppear:le,onAppear:le,onAfterAppear:le,onAppearCancelled:le},setup:function(e,t){var n,r=t.slots,i=In(),a=ce();return function(){var t=r["default"]&&me(r["default"](),!0);if(t&&t.length){var u=t[0];if(t.length>1){var s,l=(0,o.Z)(t);try{for(l.s();!(s=l.n()).done;){var f=s.value;if(f.type!==Ht){0,u=f,!0;break}}}catch(x){l.e(x)}finally{l.f()}}var h=(0,c.IU)(e),d=h.mode;if(a.isLeaving)return pe(u);var v=ye(u);if(!v)return pe(u);var p=ve(v,h,a,i);ge(v,p);var y=i.subTree,g=y&&ye(y),m=!1,w=v.type.getTransitionKey;if(w){var k=w();void 0===n?n=k:k!==n&&(n=k,m=!0)}if(g&&g.type!==Ht&&(!on(v,g)||m)){var b=ve(g,h,a,i);if(ge(g,b),"out-in"===d)return a.isLeaving=!0,b.afterLeave=function(){a.isLeaving=!1,i.update()},pe(u);"in-out"===d&&v.type!==Ht&&(b.delayLeave=function(e,t,n){var r=de(a,g);r[String(g.key)]=g,e._leaveCb=function(){t(),e._leaveCb=void 0,delete p.delayedLeave},p.delayedLeave=n})}return u}}}},he=fe;function de(e,t){var n=e.leavingVNodes,r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function ve(e,t,n,r){var i=t.appear,a=t.mode,o=t.persisted,u=void 0!==o&&o,s=t.onBeforeEnter,c=t.onEnter,f=t.onAfterEnter,d=t.onEnterCancelled,v=t.onBeforeLeave,p=t.onLeave,y=t.onAfterLeave,g=t.onLeaveCancelled,m=t.onBeforeAppear,w=t.onAppear,k=t.onAfterAppear,b=t.onAppearCancelled,x=String(e.key),E=de(n,e),_=function(e,t){e&&h(e,r,9,t)},I=function(e,t){var n=t[1];_(e,t),(0,l.kJ)(e)?e.every((function(e){return e.length<=1}))&&n():e.length<=1&&n()},S={mode:a,persisted:u,beforeEnter:function(t){var r=s;if(!n.isMounted){if(!i)return;r=m||s}t._leaveCb&&t._leaveCb(!0);var a=E[x];a&&on(e,a)&&a.el._leaveCb&&a.el._leaveCb(),_(r,[t])},enter:function(e){var t=c,r=f,a=d;if(!n.isMounted){if(!i)return;t=w||c,r=k||f,a=b||d}var o=!1,u=e._enterCb=function(t){o||(o=!0,_(t?a:r,[e]),S.delayedLeave&&S.delayedLeave(),e._enterCb=void 0)};t?I(t,[e,u]):u()},leave:function(t,r){var i=String(e.key);if(t._enterCb&&t._enterCb(!0),n.isUnmounting)return r();_(v,[t]);var a=!1,o=t._leaveCb=function(n){a||(a=!0,r(),_(n?g:y,[t]),t._leaveCb=void 0,E[i]===e&&delete E[i])};E[i]=e,p?I(p,[t,o]):o()},clone:function(e){return ve(e,t,n,r)}};return S}function pe(e){if(be(e))return e=vn(e),e.children=null,e}function ye(e){return be(e)?e.children?e.children[0]:void 0:e}function ge(e,t){6&e.shapeFlag&&e.component?ge(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function me(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=[],i=0,a=0;a<e.length;a++){var o=e[a],u=null==n?o.key:String(n)+String(null!=o.key?o.key:a);o.type===Kt?(128&o.patchFlag&&i++,r=r.concat(me(o.children,t,u))):(t||o.type!==Ht)&&r.push(null!=u?vn(o,{key:u}):o)}if(i>1)for(var s=0;s<r.length;s++)r[s].patchFlag=-2;return r}function we(e){return(0,l.mf)(e)?{setup:e,name:e.name}:e}var ke=function(e){return!!e.type.__asyncLoader};var be=function(e){return e.type.__isKeepAlive};RegExp,RegExp;function xe(e,t){return(0,l.kJ)(e)?e.some((function(e){return xe(e,t)})):(0,l.HD)(e)?e.split(",").includes(t):!!e.test&&e.test(t)}function Ee(e,t){Ie(e,"a",t)}function _e(e,t){Ie(e,"da",t)}function Ie(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_n,r=e.__wdc||(e.__wdc=function(){var t=n;while(t){if(t.isDeactivated)return;t=t.parent}return e()});if(Ze(t,r,n),n){var i=n.parent;while(i&&i.parent)be(i.parent.vnode)&&Se(r,t,n,i),i=i.parent}}function Se(e,t,n,r){var i=Ze(t,e,r,!0);Le((function(){(0,l.Od)(r[t],i)}),n)}function Te(e){var t=e.shapeFlag;256&t&&(t-=256),512&t&&(t-=512),e.shapeFlag=t}function Ae(e){return 128&e.shapeFlag?e.ssContent:e}function Ze(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_n,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(n){var i=n[e]||(n[e]=[]),a=t.__weh||(t.__weh=function(){if(!n.isUnmounted){(0,c.Jd)(),Sn(n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=h(t,n,e,i);return Tn(),(0,c.lk)(),o}});return r?i.unshift(a):i.push(a),a}}var Ce=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_n;return(!Dn||"sp"===e)&&Ze(e,t,n)}},De=Ce("bm"),Oe=Ce("m"),Ne=Ce("bu"),Re=Ce("u"),Me=Ce("bum"),Le=Ce("um"),Pe=Ce("sp"),Fe=Ce("rtg"),Ve=Ce("rtc");function je(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_n;Ze("ec",e,t)}function Ue(e,t){var n=q;if(null===n)return e;for(var r=Fn(n)||n.proxy,i=e.dirs||(e.dirs=[]),o=0;o<t.length;o++){var u=(0,a.Z)(t[o],4),s=u[0],c=u[1],f=u[2],h=u[3],d=void 0===h?l.kT:h;(0,l.mf)(s)&&(s={mounted:s,updated:s}),s.deep&&se(c),i.push({dir:s,instance:r,value:c,oldValue:void 0,arg:f,modifiers:d})}return e}function Be(e,t,n,r){for(var i=e.dirs,a=t&&t.dirs,o=0;o<i.length;o++){var u=i[o];a&&(u.oldValue=a[o].value);var s=u.dir[r];s&&((0,c.Jd)(),h(s,n,8,[e.el,u,e,t]),(0,c.lk)())}}var qe="components";function Ge(e,t){return ze(qe,e,!0,t)||e}var Ke=Symbol();function ze(e,t){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=q||_n;if(r){var i=r.type;if(e===qe){var a=Vn(i);if(a&&(a===t||a===(0,l._A)(t)||a===(0,l.kC)((0,l._A)(t))))return i}var o=He(r[e]||i[e],t)||He(r.appContext[e],t);return!o&&n?i:o}}function He(e,t){return e&&(e[t]||e[(0,l._A)(t)]||e[(0,l.kC)((0,l._A)(t))])}function We(e,t,n,r){var i,a=n&&n[r];if((0,l.kJ)(e)||(0,l.HD)(e)){i=new Array(e.length);for(var o=0,u=e.length;o<u;o++)i[o]=t(e[o],o,void 0,a&&a[o])}else if("number"===typeof e){0,i=new Array(e);for(var s=0;s<e;s++)i[s]=t(s+1,s,void 0,a&&a[s])}else if((0,l.Kn)(e))if(e[Symbol.iterator])i=Array.from(e,(function(e,n){return t(e,n,void 0,a&&a[n])}));else{var c=Object.keys(e);i=new Array(c.length);for(var f=0,h=c.length;f<h;f++){var d=c[f];i[f]=t(e[d],d,f,a&&a[f])}}else i=[];return n&&(n[r]=i),i}var Qe=function e(t){return t?An(t)?Fn(t)||t.proxy:e(t.parent):null},Je=(0,l.l7)(Object.create(null),{$:function(e){return e},$el:function(e){return e.vnode.el},$data:function(e){return e.data},$props:function(e){return e.props},$attrs:function(e){return e.attrs},$slots:function(e){return e.slots},$refs:function(e){return e.refs},$parent:function(e){return Qe(e.parent)},$root:function(e){return Qe(e.root)},$emit:function(e){return e.emit},$options:function(e){return rt(e)},$forceUpdate:function(e){return e.f||(e.f=function(){return C(e.update)})},$nextTick:function(e){return e.n||(e.n=A.bind(e.proxy))},$watch:function(e){return oe.bind(e)}}),Ye={get:function(e,t){var n,r=e._,i=r.ctx,a=r.setupState,o=r.data,u=r.props,s=r.accessCache,f=r.type,h=r.appContext;if("$"!==t[0]){var d=s[t];if(void 0!==d)switch(d){case 1:return a[t];case 2:return o[t];case 4:return i[t];case 3:return u[t]}else{if(a!==l.kT&&(0,l.RI)(a,t))return s[t]=1,a[t];if(o!==l.kT&&(0,l.RI)(o,t))return s[t]=2,o[t];if((n=r.propsOptions[0])&&(0,l.RI)(n,t))return s[t]=3,u[t];if(i!==l.kT&&(0,l.RI)(i,t))return s[t]=4,i[t];$e&&(s[t]=0)}}var v,p,y=Je[t];return y?("$attrs"===t&&(0,c.j)(r,"get",t),y(r)):(v=f.__cssModules)&&(v=v[t])?v:i!==l.kT&&(0,l.RI)(i,t)?(s[t]=4,i[t]):(p=h.config.globalProperties,(0,l.RI)(p,t)?p[t]:void 0)},set:function(e,t,n){var r=e._,i=r.data,a=r.setupState,o=r.ctx;return a!==l.kT&&(0,l.RI)(a,t)?(a[t]=n,!0):i!==l.kT&&(0,l.RI)(i,t)?(i[t]=n,!0):!(0,l.RI)(r.props,t)&&(("$"!==t[0]||!(t.slice(1)in r))&&(o[t]=n,!0))},has:function(e,t){var n,r=e._,i=r.data,a=r.setupState,o=r.accessCache,u=r.ctx,s=r.appContext,c=r.propsOptions;return!!o[t]||i!==l.kT&&(0,l.RI)(i,t)||a!==l.kT&&(0,l.RI)(a,t)||(n=c[0])&&(0,l.RI)(n,t)||(0,l.RI)(u,t)||(0,l.RI)(Je,t)||(0,l.RI)(s.config.globalProperties,t)},defineProperty:function(e,t,n){return null!=n.get?e._.accessCache[t]=0:(0,l.RI)(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};var $e=!0;function Xe(e){var t=rt(e),n=e.proxy,r=e.ctx;$e=!1,t.beforeCreate&&tt(t.beforeCreate,e,"bc");var i=t.data,a=t.computed,o=t.methods,u=t.watch,s=t.provide,f=t.inject,h=t.created,d=t.beforeMount,v=t.mounted,p=t.beforeUpdate,y=t.updated,g=t.activated,m=t.deactivated,w=(t.beforeDestroy,t.beforeUnmount),k=(t.destroyed,t.unmounted),b=t.render,x=t.renderTracked,E=t.renderTriggered,_=t.errorCaptured,I=t.serverPrefetch,S=t.expose,T=t.inheritAttrs,A=t.components,Z=t.directives,C=(t.filters,null);if(f&&et(f,r,C,e.appContext.config.unwrapInjectedRef),o)for(var D in o){var O=o[D];(0,l.mf)(O)&&(r[D]=O.bind(n))}if(i&&function(){var t=i.call(n,n);(0,l.Kn)(t)&&(e.data=(0,c.qj)(t))}(),$e=!0,a){var N=function(e){var t=a[e],i=(0,l.mf)(t)?t.bind(n,n):(0,l.mf)(t.get)?t.get.bind(n,n):l.dG;var o=!(0,l.mf)(t)&&(0,l.mf)(t.set)?t.set.bind(n):l.dG,u=Un({get:i,set:o});Object.defineProperty(r,e,{enumerable:!0,configurable:!0,get:function(){return u.value},set:function(e){return u.value=e}})};for(var R in a)N(R)}if(u)for(var M in u)nt(u[M],r,n,M);if(s){var L=(0,l.mf)(s)?s.call(n):s;Reflect.ownKeys(L).forEach((function(e){te(e,L[e])}))}function P(e,t){(0,l.kJ)(t)?t.forEach((function(t){return e(t.bind(n))})):t&&e(t.bind(n))}if(h&&tt(h,e,"c"),P(De,d),P(Oe,v),P(Ne,p),P(Re,y),P(Ee,g),P(_e,m),P(je,_),P(Ve,x),P(Fe,E),P(Me,w),P(Le,k),P(Pe,I),(0,l.kJ)(S))if(S.length){var F=e.exposed||(e.exposed={});S.forEach((function(e){Object.defineProperty(F,e,{get:function(){return n[e]},set:function(t){return n[e]=t}})}))}else e.exposed||(e.exposed={});b&&e.render===l.dG&&(e.render=b),null!=T&&(e.inheritAttrs=T),A&&(e.components=A),Z&&(e.directives=Z)}function et(e,t){arguments.length>2&&void 0!==arguments[2]||l.dG;var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(0,l.kJ)(e)&&(e=st(e));var r=function(r){var i=e[r],a=void 0;a=(0,l.Kn)(i)?"default"in i?ne(i.from||r,i["default"],!0):ne(i.from||r):ne(i),(0,c.dq)(a)&&n?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:function(){return a.value},set:function(e){return a.value=e}}):t[r]=a};for(var i in e)r(i)}function tt(e,t,n){h((0,l.kJ)(e)?e.map((function(e){return e.bind(t.proxy)})):e.bind(t.proxy),t,n)}function nt(e,t,n,r){var i=r.includes(".")?ue(n,r):function(){return n[r]};if((0,l.HD)(e)){var a=t[e];(0,l.mf)(a)&&ie(i,a)}else if((0,l.mf)(e))ie(i,e.bind(n));else if((0,l.Kn)(e))if((0,l.kJ)(e))e.forEach((function(e){return nt(e,t,n,r)}));else{var o=(0,l.mf)(e.handler)?e.handler.bind(n):t[e.handler];(0,l.mf)(o)&&ie(i,o,e)}else 0}function rt(e){var t,n=e.type,r=n.mixins,i=n["extends"],a=e.appContext,o=a.mixins,u=a.optionsCache,s=a.config.optionMergeStrategies,c=u.get(n);return c?t=c:o.length||r||i?(t={},o.length&&o.forEach((function(e){return it(t,e,s,!0)})),it(t,n,s)):t=n,u.set(n,t),t}function it(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t.mixins,a=t["extends"];for(var o in a&&it(e,a,n,!0),i&&i.forEach((function(t){return it(e,t,n,!0)})),t)if(r&&"expose"===o);else{var u=at[o]||n&&n[o];e[o]=u?u(e[o],t[o]):t[o]}return e}var at={data:ot,props:lt,emits:lt,methods:lt,computed:lt,beforeCreate:ct,created:ct,beforeMount:ct,mounted:ct,beforeUpdate:ct,updated:ct,beforeDestroy:ct,beforeUnmount:ct,destroyed:ct,unmounted:ct,activated:ct,deactivated:ct,errorCaptured:ct,serverPrefetch:ct,components:lt,directives:lt,watch:ft,provide:ot,inject:ut};function ot(e,t){return t?e?function(){return(0,l.l7)((0,l.mf)(e)?e.call(this,this):e,(0,l.mf)(t)?t.call(this,this):t)}:t:e}function ut(e,t){return lt(st(e),st(t))}function st(e){if((0,l.kJ)(e)){for(var t={},n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function ct(e,t){return e?(0,s.Z)(new Set([].concat(e,t))):t}function lt(e,t){return e?(0,l.l7)((0,l.l7)(Object.create(null),e),t):t}function ft(e,t){if(!e)return t;if(!t)return e;var n=(0,l.l7)(Object.create(null),e);for(var r in t)n[r]=ct(e[r],t[r]);return n}function ht(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i={},a={};for(var o in(0,l.Nj)(a,un,1),e.propsDefaults=Object.create(null),vt(e,t,i,a),e.propsOptions[0])o in i||(i[o]=void 0);n?e.props=r?i:(0,c.Um)(i):e.type.props?e.props=i:e.props=a,e.attrs=a}function dt(e,t,n,r){var i=e.props,o=e.attrs,u=e.vnode.patchFlag,s=(0,c.IU)(i),f=(0,a.Z)(e.propsOptions,1),h=f[0],d=!1;if(!(r||u>0)||16&u){var v;for(var p in vt(e,t,i,o)&&(d=!0),s)t&&((0,l.RI)(t,p)||(v=(0,l.rs)(p))!==p&&(0,l.RI)(t,v))||(h?!n||void 0===n[p]&&void 0===n[v]||(i[p]=pt(h,s,p,void 0,e,!0)):delete i[p]);if(o!==s)for(var y in o)t&&(0,l.RI)(t,y)||(delete o[y],d=!0)}else if(8&u)for(var g=e.vnode.dynamicProps,m=0;m<g.length;m++){var w=g[m];if(!B(e.emitsOptions,w)){var k=t[w];if(h)if((0,l.RI)(o,w))k!==o[w]&&(o[w]=k,d=!0);else{var b=(0,l._A)(w);i[b]=pt(h,s,b,k,e,!1)}else k!==o[w]&&(o[w]=k,d=!0)}}d&&(0,c.X$)(e,"set","$attrs")}function vt(e,t,n,r){var i,o=(0,a.Z)(e.propsOptions,2),u=o[0],s=o[1],f=!1;if(t)for(var h in t)if(!(0,l.Gg)(h)){var d=t[h],v=void 0;u&&(0,l.RI)(u,v=(0,l._A)(h))?s&&s.includes(v)?(i||(i={}))[v]=d:n[v]=d:B(e.emitsOptions,h)||h in r&&d===r[h]||(r[h]=d,f=!0)}if(s)for(var p=(0,c.IU)(n),y=i||l.kT,g=0;g<s.length;g++){var m=s[g];n[m]=pt(u,p,m,y[m],e,!(0,l.RI)(y,m))}return f}function pt(e,t,n,r,i,a){var o=e[n];if(null!=o){var u=(0,l.RI)(o,"default");if(u&&void 0===r){var s=o["default"];if(o.type!==Function&&(0,l.mf)(s)){var c=i.propsDefaults;n in c?r=c[n]:(Sn(i),r=c[n]=s.call(null,t),Tn())}else r=s}o[0]&&(a&&!u?r=!1:!o[1]||""!==r&&r!==(0,l.rs)(n)||(r=!0))}return r}function yt(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t.propsCache,i=r.get(e);if(i)return i;var o=e.props,u={},c=[],f=!1;if(!(0,l.mf)(e)){var h=function(e){f=!0;var n=yt(e,t,!0),r=(0,a.Z)(n,2),i=r[0],o=r[1];(0,l.l7)(u,i),o&&c.push.apply(c,(0,s.Z)(o))};!n&&t.mixins.length&&t.mixins.forEach(h),e["extends"]&&h(e["extends"]),e.mixins&&e.mixins.forEach(h)}if(!o&&!f)return r.set(e,l.Z6),l.Z6;if((0,l.kJ)(o))for(var d=0;d<o.length;d++){0;var v=(0,l._A)(o[d]);gt(v)&&(u[v]=l.kT)}else if(o)for(var p in o){var y=(0,l._A)(p);if(gt(y)){var g=o[p],m=u[y]=(0,l.kJ)(g)||(0,l.mf)(g)?{type:g}:g;if(m){var w=kt(Boolean,m.type),k=kt(String,m.type);m[0]=w>-1,m[1]=k<0||w<k,(w>-1||(0,l.RI)(m,"default"))&&c.push(y)}}}var b=[u,c];return r.set(e,b),b}function gt(e){return"$"!==e[0]}function mt(e){var t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:null===e?"null":""}function wt(e,t){return mt(e)===mt(t)}function kt(e,t){return(0,l.kJ)(t)?t.findIndex((function(t){return wt(t,e)})):(0,l.mf)(t)&&wt(t,e)?0:-1}var bt=function(e){return"_"===e[0]||"$stable"===e},xt=function(e){return(0,l.kJ)(e)?e.map(yn):[yn(e)]},Et=function(e,t,n){if(t._n)return t;var r=z((function(){return xt(t.apply(void 0,arguments))}),n);return r._c=!1,r},_t=function(e,t,n){var r=e._ctx;for(var i in e)if(!bt(i)){var a=e[i];(0,l.mf)(a)?t[i]=Et(i,a,r):null!=a&&function(){var e=xt(a);t[i]=function(){return e}}()}},It=function(e,t){var n=xt(t);e.slots["default"]=function(){return n}},St=function(e,t){if(32&e.vnode.shapeFlag){var n=t._;n?(e.slots=(0,c.IU)(t),(0,l.Nj)(t,"_",n)):_t(t,e.slots={})}else e.slots={},t&&It(e,t);(0,l.Nj)(e.slots,un,1)},Tt=function(e,t,n){var r=e.vnode,i=e.slots,a=!0,o=l.kT;if(32&r.shapeFlag){var u=t._;u?n&&1===u?a=!1:((0,l.l7)(i,t),n||1!==u||delete i._):(a=!t.$stable,_t(t,i)),o=t}else t&&(It(e,t),o={default:1});if(a)for(var s in i)bt(s)||s in o||delete i[s]};function At(){return{app:null,config:{isNativeTag:l.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}var Zt=0;function Ct(e,t){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;(0,l.mf)(n)||(n=Object.assign({},n)),null==r||(0,l.Kn)(r)||(r=null);var i=At(),a=new Set,o=!1,u=i.app={_uid:Zt++,_component:n,_props:r,_container:null,_context:i,_instance:null,version:qn,get config(){return i.config},set config(e){0},use:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return a.has(e)||(e&&(0,l.mf)(e.install)?(a.add(e),e.install.apply(e,[u].concat(n))):(0,l.mf)(e)&&(a.add(e),e.apply(void 0,[u].concat(n)))),u},mixin:function(e){return i.mixins.includes(e)||i.mixins.push(e),u},component:function(e,t){return t?(i.components[e]=t,u):i.components[e]},directive:function(e,t){return t?(i.directives[e]=t,u):i.directives[e]},mount:function(a,s,c){if(!o){0;var l=fn(n,r);return l.appContext=i,s&&t?t(l,a):e(l,a,c),o=!0,u._container=a,a.__vue_app__=u,Fn(l.component)||l.component.proxy}},unmount:function(){o&&(e(null,u._container),delete u._container.__vue_app__)},provide:function(e,t){return i.provides[e]=t,u}};return u}}function Dt(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if((0,l.kJ)(e))e.forEach((function(e,a){return Dt(e,t&&((0,l.kJ)(t)?t[a]:t),n,r,i)}));else if(!ke(r)||i){var a=4&r.shapeFlag?Fn(r.component)||r.component.proxy:r.el,o=i?null:a,u=e.i,s=e.r;0;var h=t&&t.r,d=u.refs===l.kT?u.refs={}:u.refs,v=u.setupState;if(null!=h&&h!==s&&((0,l.HD)(h)?(d[h]=null,(0,l.RI)(v,h)&&(v[h]=null)):(0,c.dq)(h)&&(h.value=null)),(0,l.mf)(s))f(s,u,12,[o,d]);else{var p=(0,l.HD)(s),y=(0,c.dq)(s);if(p||y){var g=function(){if(e.f){var t=p?d[s]:s.value;i?(0,l.kJ)(t)&&(0,l.Od)(t,a):(0,l.kJ)(t)?t.includes(a)||t.push(a):p?(d[s]=[a],(0,l.RI)(v,s)&&(v[s]=d[s])):(s.value=[a],e.k&&(d[e.k]=s.value))}else p?(d[s]=o,(0,l.RI)(v,s)&&(v[s]=o)):(0,c.dq)(s)&&(s.value=o,e.k&&(d[e.k]=o))};o?(g.id=-1,Nt(g,n)):g()}else 0}}}function Ot(){}var Nt=ee;function Rt(e){return Mt(e)}function Mt(e,t){Ot();var n=(0,l.E9)();n.__VUE__=!0;var r,i,o=e.insert,u=e.remove,s=e.patchProp,f=e.createElement,h=e.createText,d=e.createComment,v=e.setText,p=e.setElementText,y=e.parentNode,g=e.nextSibling,m=e.setScopeId,w=void 0===m?l.dG:m,k=e.cloneNode,b=e.insertStaticContent,x=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:!!t.dynamicChildren;if(e!==t){e&&!on(e,t)&&(r=re(e),Y(e,i,a,!0),e=null),-2===t.patchFlag&&(s=!1,t.dynamicChildren=null);var c=t.type,l=t.ref,f=t.shapeFlag;switch(c){case zt:E(e,t,n,r);break;case Ht:_(e,t,n,r);break;case Wt:null==e&&I(t,n,r,o);break;case Kt:V(e,t,n,r,i,a,o,u,s);break;default:1&f?A(e,t,n,r,i,a,o,u,s):6&f?j(e,t,n,r,i,a,o,u,s):(64&f||128&f)&&c.process(e,t,n,r,i,a,o,u,s,ae)}null!=l&&i&&Dt(l,e&&e.ref,a,t||e,!t)}},E=function(e,t,n,r){if(null==e)o(t.el=h(t.children),n,r);else{var i=t.el=e.el;t.children!==e.children&&v(i,t.children)}},_=function(e,t,n,r){null==e?o(t.el=d(t.children||""),n,r):t.el=e.el},I=function(e,t,n,r){var i=b(e.children,t,n,r,e.el,e.anchor),o=(0,a.Z)(i,2);e.el=o[0],e.anchor=o[1]},S=function(e,t,n){var r,i=e.el,a=e.anchor;while(i&&i!==a)r=g(i),o(i,t,n),i=r;o(a,t,n)},T=function(e){var t,n=e.el,r=e.anchor;while(n&&n!==r)t=g(n),u(n),n=t;u(r)},A=function(e,t,n,r,i,a,o,u,s){o=o||"svg"===t.type,null==e?Z(t,n,r,i,a,o,u,s):R(e,t,i,a,o,u,s)},Z=function(e,t,n,r,i,a,u,c){var h,d,v=e.type,y=e.props,g=e.shapeFlag,m=e.transition,w=e.patchFlag,b=e.dirs;if(e.el&&void 0!==k&&-1===w)h=e.el=k(e.el);else{if(h=e.el=f(e.type,a,y&&y.is,y),8&g?p(h,e.children):16&g&&N(e.children,h,null,r,i,a&&"foreignObject"!==v,u,c),b&&Be(e,null,r,"created"),y){for(var x in y)"value"===x||(0,l.Gg)(x)||s(h,x,null,y[x],a,e.children,r,i,ne);"value"in y&&s(h,"value",null,y.value),(d=y.onVnodeBeforeMount)&&kn(d,r,e)}D(h,e,e.scopeId,u,r)}b&&Be(e,null,r,"beforeMount");var E=(!i||i&&!i.pendingBranch)&&m&&!m.persisted;E&&m.beforeEnter(h),o(h,t,n),((d=y&&y.onVnodeMounted)||E||b)&&Nt((function(){d&&kn(d,r,e),E&&m.enter(h),b&&Be(e,null,r,"mounted")}),i)},D=function e(t,n,r,i,a){if(r&&w(t,r),i)for(var o=0;o<i.length;o++)w(t,i[o]);if(a){var u=a.subTree;if(n===u){var s=a.vnode;e(t,s,s.scopeId,s.slotScopeIds,a.parent)}}},N=function(e,t,n,r,i,a,o,u){for(var s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,c=s;c<e.length;c++){var l=e[c]=u?gn(e[c]):yn(e[c]);x(null,l,t,n,r,i,a,o,u)}},R=function(e,t,n,r,i,a,o){var u=t.el=e.el,c=t.patchFlag,f=t.dynamicChildren,h=t.dirs;c|=16&e.patchFlag;var d,v=e.props||l.kT,y=t.props||l.kT;n&&Lt(n,!1),(d=y.onVnodeBeforeUpdate)&&kn(d,n,t,e),h&&Be(t,e,n,"beforeUpdate"),n&&Lt(n,!0);var g=i&&"foreignObject"!==t.type;if(f?M(e.dynamicChildren,f,u,n,r,g,a):o||K(e,t,u,null,n,r,g,a,!1),c>0){if(16&c)F(u,t,v,y,n,r,i);else if(2&c&&v["class"]!==y["class"]&&s(u,"class",null,y["class"],i),4&c&&s(u,"style",v.style,y.style,i),8&c)for(var m=t.dynamicProps,w=0;w<m.length;w++){var k=m[w],b=v[k],x=y[k];x===b&&"value"!==k||s(u,k,b,x,i,e.children,n,r,ne)}1&c&&e.children!==t.children&&p(u,t.children)}else o||null!=f||F(u,t,v,y,n,r,i);((d=y.onVnodeUpdated)||h)&&Nt((function(){d&&kn(d,n,t,e),h&&Be(t,e,n,"updated")}),r)},M=function(e,t,n,r,i,a,o){for(var u=0;u<t.length;u++){var s=e[u],c=t[u],l=s.el&&(s.type===Kt||!on(s,c)||70&s.shapeFlag)?y(s.el):n;x(s,c,l,null,r,i,a,o,!0)}},F=function(e,t,n,r,i,a,o){if(n!==r){for(var u in r)if(!(0,l.Gg)(u)){var c=r[u],f=n[u];c!==f&&"value"!==u&&s(e,u,f,c,o,t.children,i,a,ne)}if(n!==l.kT)for(var h in n)(0,l.Gg)(h)||h in r||s(e,h,n[h],null,o,t.children,i,a,ne);"value"in r&&s(e,"value",n.value,r.value)}},V=function(e,t,n,r,i,a,u,s,c){var l=t.el=e?e.el:h(""),f=t.anchor=e?e.anchor:h(""),d=t.patchFlag,v=t.dynamicChildren,p=t.slotScopeIds;p&&(s=s?s.concat(p):p),null==e?(o(l,n,r),o(f,n,r),N(t.children,n,f,i,a,u,s,c)):d>0&&64&d&&v&&e.dynamicChildren?(M(e.dynamicChildren,v,n,i,a,u,s),(null!=t.key||i&&t===i.subTree)&&Pt(e,t,!0)):K(e,t,n,f,i,a,u,s,c)},j=function(e,t,n,r,i,a,o,u,s){t.slotScopeIds=u,null==e?512&t.shapeFlag?i.ctx.activate(t,n,r,o,s):U(t,n,r,i,a,o,s):B(e,t,s)},U=function(e,t,n,r,i,a,o){var u=e.component=En(e,r,i);if(be(e)&&(u.ctx.renderer=ae),On(u),u.asyncDep){if(i&&i.registerDep(u,q),!e.el){var s=u.subTree=fn(Ht);_(null,s,t,n)}}else q(u,e,t,n,i,a,o)},B=function(e,t,n){var r=t.component=e.component;if(J(e,t,n)){if(r.asyncDep&&!r.asyncResolved)return void G(r,t,n);r.next=t,O(r.update),r.update()}else t.el=e.el,r.vnode=t},q=function(e,t,n,r,a,o,u){var s=function(){if(e.isMounted){var s,c=e.next,f=e.bu,h=e.u,d=e.parent,v=e.vnode,p=c;0,Lt(e,!1),c?(c.el=v.el,G(e,c,u)):c=v,f&&(0,l.ir)(f),(s=c.props&&c.props.onVnodeBeforeUpdate)&&kn(s,d,c,v),Lt(e,!0);var g=H(e);0;var m=e.subTree;e.subTree=g,x(m,g,y(m.el),re(m),e,a,o),c.el=g.el,null===p&&$(e,g.el),h&&Nt(h,a),(s=c.props&&c.props.onVnodeUpdated)&&Nt((function(){return kn(s,d,c,v)}),a)}else{var w,k=t,b=k.el,E=k.props,_=e.bm,I=e.m,S=e.parent,T=ke(t);if(Lt(e,!1),_&&(0,l.ir)(_),!T&&(w=E&&E.onVnodeBeforeMount)&&kn(w,S,t),Lt(e,!0),b&&i){var A=function(){e.subTree=H(e),i(b,e.subTree,e,a,null)};T?t.type.__asyncLoader().then((function(){return!e.isUnmounted&&A()})):A()}else{0;var Z=e.subTree=H(e);0,x(null,Z,n,r,e,a,o),t.el=Z.el}if(I&&Nt(I,a),!T&&(w=E&&E.onVnodeMounted)){var C=t;Nt((function(){return kn(w,S,C)}),a)}(256&t.shapeFlag||S&&ke(S.vnode)&&256&S.vnode.shapeFlag)&&e.a&&Nt(e.a,a),e.isMounted=!0,t=n=r=null}},f=e.effect=new c.qq(s,(function(){return C(h)}),e.scope),h=e.update=function(){return f.run()};h.id=e.uid,Lt(e,!0),h()},G=function(e,t,n){t.component=e;var r=e.vnode.props;e.vnode=t,e.next=null,dt(e,t.props,r,n),Tt(e,t.children,n),(0,c.Jd)(),L(void 0,e.update),(0,c.lk)()},K=function(e,t,n,r,i,a,o,u){var s=arguments.length>8&&void 0!==arguments[8]&&arguments[8],c=e&&e.children,l=e?e.shapeFlag:0,f=t.children,h=t.patchFlag,d=t.shapeFlag;if(h>0){if(128&h)return void W(c,f,n,r,i,a,o,u,s);if(256&h)return void z(c,f,n,r,i,a,o,u,s)}8&d?(16&l&&ne(c,i,a),f!==c&&p(n,f)):16&l?16&d?W(c,f,n,r,i,a,o,u,s):ne(c,i,a,!0):(8&l&&p(n,""),16&d&&N(f,n,r,i,a,o,u,s))},z=function(e,t,n,r,i,a,o,u,s){e=e||l.Z6,t=t||l.Z6;var c,f=e.length,h=t.length,d=Math.min(f,h);for(c=0;c<d;c++){var v=t[c]=s?gn(t[c]):yn(t[c]);x(e[c],v,n,null,i,a,o,u,s)}f>h?ne(e,i,a,!0,!1,d):N(t,n,r,i,a,o,u,s,d)},W=function(e,t,n,r,i,a,o,u,s){var c=0,f=t.length,h=e.length-1,d=f-1;while(c<=h&&c<=d){var v=e[c],p=t[c]=s?gn(t[c]):yn(t[c]);if(!on(v,p))break;x(v,p,n,null,i,a,o,u,s),c++}while(c<=h&&c<=d){var y=e[h],g=t[d]=s?gn(t[d]):yn(t[d]);if(!on(y,g))break;x(y,g,n,null,i,a,o,u,s),h--,d--}if(c>h){if(c<=d){var m=d+1,w=m<f?t[m].el:r;while(c<=d)x(null,t[c]=s?gn(t[c]):yn(t[c]),n,w,i,a,o,u,s),c++}}else if(c>d)while(c<=h)Y(e[c],i,a,!0),c++;else{var k,b=c,E=c,_=new Map;for(c=E;c<=d;c++){var I=t[c]=s?gn(t[c]):yn(t[c]);null!=I.key&&_.set(I.key,c)}var S=0,T=d-E+1,A=!1,Z=0,C=new Array(T);for(c=0;c<T;c++)C[c]=0;for(c=b;c<=h;c++){var D=e[c];if(S>=T)Y(D,i,a,!0);else{var O=void 0;if(null!=D.key)O=_.get(D.key);else for(k=E;k<=d;k++)if(0===C[k-E]&&on(D,t[k])){O=k;break}void 0===O?Y(D,i,a,!0):(C[O-E]=c+1,O>=Z?Z=O:A=!0,x(D,t[O],n,null,i,a,o,u,s),S++)}}var N=A?Ft(C):l.Z6;for(k=N.length-1,c=T-1;c>=0;c--){var R=E+c,M=t[R],L=R+1<f?t[R+1].el:r;0===C[c]?x(null,M,n,L,i,a,o,u,s):A&&(k<0||c!==N[k]?Q(M,n,L,2):k--)}}},Q=function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,u=t.el,s=t.type,c=t.transition,l=t.children,f=t.shapeFlag;if(6&f)e(t.component.subTree,n,r,i);else if(128&f)t.suspense.move(n,r,i);else if(64&f)s.move(t,n,r,ae);else if(s!==Kt)if(s!==Wt){var h=2!==i&&1&f&&c;if(h)if(0===i)c.beforeEnter(u),o(u,n,r),Nt((function(){return c.enter(u)}),a);else{var d=c.leave,v=c.delayLeave,p=c.afterLeave,y=function(){return o(u,n,r)},g=function(){d(u,(function(){y(),p&&p()}))};v?v(u,y,g):g()}else o(u,n,r)}else S(t,n,r);else{o(u,n,r);for(var m=0;m<l.length;m++)e(l[m],n,r,i);o(t.anchor,n,r)}},Y=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=e.type,o=e.props,u=e.ref,s=e.children,c=e.dynamicChildren,l=e.shapeFlag,f=e.patchFlag,h=e.dirs;if(null!=u&&Dt(u,null,n,e,!0),256&l)t.ctx.deactivate(e);else{var d,v=1&l&&h,p=!ke(e);if(p&&(d=o&&o.onVnodeBeforeUnmount)&&kn(d,t,e),6&l)te(e.component,n,r);else{if(128&l)return void e.suspense.unmount(n,r);v&&Be(e,null,t,"beforeUnmount"),64&l?e.type.remove(e,t,n,i,ae,r):c&&(a!==Kt||f>0&&64&f)?ne(c,t,n,!1,!0):(a===Kt&&384&f||!i&&16&l)&&ne(s,t,n),r&&X(e)}(p&&(d=o&&o.onVnodeUnmounted)||v)&&Nt((function(){d&&kn(d,t,e),v&&Be(e,null,t,"unmounted")}),n)}},X=function(e){var t=e.type,n=e.el,r=e.anchor,i=e.transition;if(t!==Kt)if(t!==Wt){var a=function(){u(n),i&&!i.persisted&&i.afterLeave&&i.afterLeave()};if(1&e.shapeFlag&&i&&!i.persisted){var o=i.leave,s=i.delayLeave,c=function(){return o(n,a)};s?s(e.el,a,c):c()}else a()}else T(e);else ee(n,r)},ee=function(e,t){var n;while(e!==t)n=g(e),u(e),e=n;u(t)},te=function(e,t,n){var r=e.bum,i=e.scope,a=e.update,o=e.subTree,u=e.um;r&&(0,l.ir)(r),i.stop(),a&&(a.active=!1,Y(o,e,t,n)),u&&Nt(u,t),Nt((function(){e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},ne=function(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=a;o<e.length;o++)Y(e[o],t,n,r,i)},re=function e(t){return 6&t.shapeFlag?e(t.component.subTree):128&t.shapeFlag?t.suspense.next():g(t.anchor||t.el)},ie=function(e,t,n){null==e?t._vnode&&Y(t._vnode,null,null,!0):x(t._vnode||null,e,t,null,null,null,n),P(),t._vnode=e},ae={p:x,um:Y,m:Q,r:X,mt:U,mc:N,pc:K,pbc:M,n:re,o:e};if(t){var oe=t(ae),ue=(0,a.Z)(oe,2);r=ue[0],i=ue[1]}return{render:ie,hydrate:r,createApp:Ct(ie,r)}}function Lt(e,t){var n=e.effect,r=e.update;n.allowRecurse=r.allowRecurse=t}function Pt(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.children,i=t.children;if((0,l.kJ)(r)&&(0,l.kJ)(i))for(var a=0;a<r.length;a++){var o=r[a],u=i[a];1&u.shapeFlag&&!u.dynamicChildren&&((u.patchFlag<=0||32===u.patchFlag)&&(u=i[a]=gn(i[a]),u.el=o.el),n||Pt(o,u))}}function Ft(e){var t,n,r,i,a,o=e.slice(),u=[0],s=e.length;for(t=0;t<s;t++){var c=e[t];if(0!==c){if(n=u[u.length-1],e[n]<c){o[t]=n,u.push(t);continue}r=0,i=u.length-1;while(r<i)a=r+i>>1,e[u[a]]<c?r=a+1:i=a;c<e[u[r]]&&(r>0&&(o[t]=u[r-1]),u[r]=t)}}r=u.length,i=u[r-1];while(r-- >0)u[r]=i,i=o[i];return u}var Vt=function(e){return e.__isTeleport},jt=function(e){return e&&(e.disabled||""===e.disabled)},Ut=function(e){return"undefined"!==typeof SVGElement&&e instanceof SVGElement},Bt=function(e,t){var n=e&&e.to;if((0,l.HD)(n)){if(t){var r=t(n);return r}return null}return n};(function(e){function t(t,n,r,i,a,o,u,s,c,l){return e.apply(this,arguments)}t.toString=function(){return e.toString()}})((function(e,t,n,r,i,a,o,u,s,c){var l=c.mc,f=c.pc,h=c.pbc,d=c.o,v=d.insert,p=d.querySelector,y=d.createText,g=(d.createComment,jt(t.props)),m=t.shapeFlag,w=t.children,k=t.dynamicChildren;if(null==e){var b=t.el=y(""),x=t.anchor=y("");v(b,n,r),v(x,n,r);var E=t.target=Bt(t.props,p),_=t.targetAnchor=y("");E&&(v(_,E),o=o||Ut(E));var I=function(e,t){16&m&&l(w,e,t,i,a,o,u,s)};g?I(n,x):E&&I(E,_)}else{t.el=e.el;var S=t.anchor=e.anchor,T=t.target=e.target,A=t.targetAnchor=e.targetAnchor,Z=jt(e.props),C=Z?n:T,D=Z?S:A;if(o=o||Ut(T),k?(h(e.dynamicChildren,k,C,i,a,o,u),Pt(e,t,!0)):s||f(e,t,C,D,i,a,o,u,!1),g)Z||qt(t,n,S,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){var O=t.target=Bt(t.props,p);O&&qt(t,O,null,c,0)}else Z&&qt(t,T,A,c,1)}}));function qt(e,t,n,r){var i=r.o.insert,a=r.m,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2;0===o&&i(e.targetAnchor,t,n);var u=e.el,s=e.anchor,c=e.shapeFlag,l=e.children,f=e.props,h=2===o;if(h&&i(u,t,n),(!h||jt(f))&&16&c)for(var d=0;d<l.length;d++)a(l[d],t,n,2);h&&i(s,t,n)}function Gt(e,t,n,r,i,a,o,u){var s=o.o,c=s.nextSibling,l=s.parentNode,f=s.querySelector,h=t.target=Bt(t.props,f);if(h){var d=h._lpa||h.firstChild;if(16&t.shapeFlag)if(jt(t.props))t.anchor=u(c(e),t,l(e),n,r,i,a),t.targetAnchor=d;else{t.anchor=c(e);var v=d;while(v)if(v=c(v),v&&8===v.nodeType&&"teleport anchor"===v.data){t.targetAnchor=v,h._lpa=t.targetAnchor&&c(t.targetAnchor);break}u(d,t,h,n,r,i,a)}}return t.anchor&&c(t.anchor)}var Kt=Symbol(void 0),zt=Symbol(void 0),Ht=Symbol(void 0),Wt=Symbol(void 0),Qt=[],Jt=null;function Yt(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Qt.push(Jt=e?null:[])}function $t(){Qt.pop(),Jt=Qt[Qt.length-1]||null}var Xt=1;function en(e){Xt+=e}function tn(e){return e.dynamicChildren=Xt>0?Jt||l.Z6:null,$t(),Xt>0&&Jt&&Jt.push(e),e}function nn(e,t,n,r,i,a){return tn(ln(e,t,n,r,i,a,!0))}function rn(e,t,n,r,i){return tn(fn(e,t,n,r,i,!0))}function an(e){return!!e&&!0===e.__v_isVNode}function on(e,t){return e.type===t.type&&e.key===t.key}var un="__vInternal",sn=function(e){var t=e.key;return null!=t?t:null},cn=function(e){var t=e.ref,n=e.ref_key,r=e.ref_for;return null!=t?(0,l.HD)(t)||(0,c.dq)(t)||(0,l.mf)(t)?{i:q,r:t,k:n,f:!!r}:t:null};function ln(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e===Kt?0:1,o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]&&arguments[7],s={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&sn(t),ref:t&&cn(t),scopeId:G,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null};return u?(mn(s,n),128&a&&e.normalize(s)):n&&(s.shapeFlag|=(0,l.HD)(n)?8:16),Xt>0&&!o&&Jt&&(s.patchFlag>0||6&a)&&32!==s.patchFlag&&Jt.push(s),s}var fn=hn;function hn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(e&&e!==Ke||(e=Ht),an(e)){var o=vn(e,t,!0);return n&&mn(o,n),Xt>0&&!a&&Jt&&(6&o.shapeFlag?Jt[Jt.indexOf(e)]=o:Jt.push(o)),o.patchFlag|=-2,o}if(jn(e)&&(e=e.__vccOpts),t){t=dn(t);var u=t,s=u["class"],f=u.style;s&&!(0,l.HD)(s)&&(t["class"]=(0,l.C_)(s)),(0,l.Kn)(f)&&((0,c.X3)(f)&&!(0,l.kJ)(f)&&(f=(0,l.l7)({},f)),t.style=(0,l.j5)(f))}var h=(0,l.HD)(e)?1:X(e)?128:Vt(e)?64:(0,l.Kn)(e)?4:(0,l.mf)(e)?2:0;return ln(e,t,n,r,i,h,a,!0)}function dn(e){return e?(0,c.X3)(e)||un in e?(0,l.l7)({},e):e:null}function vn(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.props,i=e.ref,a=e.patchFlag,o=e.children,u=t?wn(r||{},t):r,s={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&sn(u),ref:t&&t.ref?n&&i?(0,l.kJ)(i)?i.concat(cn(t)):[i,cn(t)]:cn(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Kt?-1===a?16:16|a:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&vn(e.ssContent),ssFallback:e.ssFallback&&vn(e.ssFallback),el:e.el,anchor:e.anchor};return s}function pn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:" ",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return fn(zt,null,e,t)}function yn(e){return null==e||"boolean"===typeof e?fn(Ht):(0,l.kJ)(e)?fn(Kt,null,e.slice()):"object"===(0,i.Z)(e)?gn(e):fn(zt,null,String(e))}function gn(e){return null===e.el||e.memo?e:vn(e)}function mn(e,t){var n=0,r=e.shapeFlag;if(null==t)t=null;else if((0,l.kJ)(t))n=16;else if("object"===(0,i.Z)(t)){if(65&r){var a=t["default"];return void(a&&(a._c&&(a._d=!1),mn(e,a()),a._c&&(a._d=!0)))}n=32;var o=t._;o||un in t?3===o&&q&&(1===q.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=q}else(0,l.mf)(t)?(t={default:t,_ctx:q},n=32):(t=String(t),64&r?(n=16,t=[pn(t)]):n=8);e.children=t,e.shapeFlag|=n}function wn(){for(var e={},t=0;t<arguments.length;t++){var n=t<0||arguments.length<=t?void 0:arguments[t];for(var r in n)if("class"===r)e["class"]!==n["class"]&&(e["class"]=(0,l.C_)([e["class"],n["class"]]));else if("style"===r)e.style=(0,l.j5)([e.style,n.style]);else if((0,l.F7)(r)){var i=e[r],a=n[r];!a||i===a||(0,l.kJ)(i)&&i.includes(a)||(e[r]=i?[].concat(i,a):a)}else""!==r&&(e[r]=n[r])}return e}function kn(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;h(e,t,7,[n,r])}var bn=At(),xn=0;function En(e,t,n){var r=e.type,i=(t?t.appContext:e.appContext)||bn,a={uid:xn++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new c.Bj(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:yt(r,i),emitsOptions:U(r,i),emit:null,emitted:null,propsDefaults:l.kT,inheritAttrs:r.inheritAttrs,ctx:l.kT,data:l.kT,props:l.kT,attrs:l.kT,slots:l.kT,refs:l.kT,setupState:l.kT,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=j.bind(null,a),e.ce&&e.ce(a),a}var _n=null,In=function(){return _n||q},Sn=function(e){_n=e,e.scope.on()},Tn=function(){_n&&_n.scope.off(),_n=null};function An(e){return 4&e.vnode.shapeFlag}var Zn,Cn,Dn=!1;function On(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Dn=t;var n=e.vnode,r=n.props,i=n.children,a=An(e);ht(e,r,a,t),St(e,i);var o=a?Nn(e,t):void 0;return Dn=!1,o}function Nn(e,t){var n=e.type;e.accessCache=Object.create(null),e.proxy=(0,c.Xl)(new Proxy(e.ctx,Ye));var r=n.setup;if(r){var i=e.setupContext=r.length>1?Pn(e):null;Sn(e),(0,c.Jd)();var a=f(r,e,0,[e.props,i]);if((0,c.lk)(),Tn(),(0,l.tI)(a)){if(a.then(Tn,Tn),t)return a.then((function(n){Rn(e,n,t)}))["catch"]((function(t){d(t,e,0)}));e.asyncDep=a}else Rn(e,a,t)}else Mn(e,t)}function Rn(e,t,n){(0,l.mf)(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:(0,l.Kn)(t)&&(e.setupState=(0,c.WL)(t)),Mn(e,n)}function Mn(e,t,n){var r=e.type;if(!e.render){if(!t&&Zn&&!r.render){var i=r.template;if(i){0;var a=e.appContext.config,o=a.isCustomElement,u=a.compilerOptions,s=r.delimiters,f=r.compilerOptions,h=(0,l.l7)((0,l.l7)({isCustomElement:o,delimiters:s},u),f);r.render=Zn(i,h)}}e.render=r.render||l.dG,Cn&&Cn(e)}Sn(e),(0,c.Jd)(),Xe(e),(0,c.lk)(),Tn()}function Ln(e){return new Proxy(e.attrs,{get:function(t,n){return(0,c.j)(e,"get","$attrs"),t[n]}})}function Pn(e){var t,n=function(t){e.exposed=t||{}};return{get attrs(){return t||(t=Ln(e))},slots:e.slots,emit:e.emit,expose:n}}function Fn(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy((0,c.WL)((0,c.Xl)(e.exposed)),{get:function(t,n){return n in t?t[n]:n in Je?Je[n](e):void 0}}))}function Vn(e){return(0,l.mf)(e)&&e.displayName||e.name}function jn(e){return(0,l.mf)(e)&&"__vccOpts"in e}var Un=function(e,t){return(0,c.Fl)(e,t,Dn)};function Bn(e,t,n){var r=arguments.length;return 2===r?(0,l.Kn)(t)&&!(0,l.kJ)(t)?an(t)?fn(e,null,[t]):fn(e,t):fn(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):3===r&&an(n)&&(n=[n]),fn(e,t,n))}Symbol("");var qn="3.2.36"},9242:(e,t,n)=>{"use strict";n.d(t,{bM:()=>ue,ri:()=>de});n(6347);var r=n(2833),i=n(3087),a=(n(9110),n(7946),n(6084)),o=n(3336),u=n(9584),s=(n(9600),n(2222),n(9554),n(1539),n(4747),n(6755),n(4916),n(7601),n(5306),n(7042),n(6699),n(2023),n(3843),n(3710),n(4812),n(4723),n(9653),n(1249),n(8309),n(7941),n(8011),n(9070),n(5218),n(5212),n(8862),n(3123),n(189),n(8783),n(3948),n(2564),n(4129),n(7327),n(3210),n(561),n(7139)),c=n(3396),l=(n(4870),"http://www.w3.org/2000/svg"),f="undefined"!==typeof document?document:null,h=f&&f.createElement("template"),d={insert:function(e,t,n){t.insertBefore(e,n||null)},remove:function(e){var t=e.parentNode;t&&t.removeChild(e)},createElement:function(e,t,n,r){var i=t?f.createElementNS(l,e):f.createElement(e,n?{is:n}:void 0);return"select"===e&&r&&null!=r.multiple&&i.setAttribute("multiple",r.multiple),i},createText:function(e){return f.createTextNode(e)},createComment:function(e){return f.createComment(e)},setText:function(e,t){e.nodeValue=t},setElementText:function(e,t){e.textContent=t},parentNode:function(e){return e.parentNode},nextSibling:function(e){return e.nextSibling},querySelector:function(e){return f.querySelector(e)},setScopeId:function(e,t){e.setAttribute(t,"")},cloneNode:function(e){var t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent:function(e,t,n,r,i,a){var o=n?n.previousSibling:t.lastChild;if(i&&(i===a||i.nextSibling)){while(1)if(t.insertBefore(i.cloneNode(!0),n),i===a||!(i=i.nextSibling))break}else{h.innerHTML=r?"<svg>".concat(e,"</svg>"):e;var u=h.content;if(r){var s=u.firstChild;while(s.firstChild)u.appendChild(s.firstChild);u.removeChild(s)}t.insertBefore(u,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function v(e,t,n){var r=e._vtc;r&&(t=(t?[t].concat((0,u.Z)(r)):(0,u.Z)(r)).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function p(e,t,n){var r=e.style,i=(0,s.HD)(n);if(n&&!i){for(var a in n)g(r,a,n[a]);if(t&&!(0,s.HD)(t))for(var o in t)null==n[o]&&g(r,o,"")}else{var u=r.display;i?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=u)}}var y=/\s*!important$/;function g(e,t,n){if((0,s.kJ)(n))n.forEach((function(n){return g(e,t,n)}));else if(null==n&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{var r=k(e,t);y.test(n)?e.setProperty((0,s.rs)(r),n.replace(y,""),"important"):e[r]=n}}var m=["Webkit","Moz","ms"],w={};function k(e,t){var n=w[t];if(n)return n;var r=(0,s._A)(t);if("filter"!==r&&r in e)return w[t]=r;r=(0,s.kC)(r);for(var i=0;i<m.length;i++){var a=m[i]+r;if(a in e)return w[t]=a}return t}var b="http://www.w3.org/1999/xlink";function x(e,t,n,r,i){if(r&&t.startsWith("xlink:"))null==n?e.removeAttributeNS(b,t.slice(6,t.length)):e.setAttributeNS(b,t,n);else{var a=(0,s.Pq)(t);null==n||a&&!(0,s.yA)(n)?e.removeAttribute(t):e.setAttribute(t,a?"":n)}}function E(e,t,n,r,i,a,u){if("innerHTML"===t||"textContent"===t)return r&&u(r,i,a),void(e[t]=null==n?"":n);if("value"===t&&"PROGRESS"!==e.tagName&&!e.tagName.includes("-")){e._value=n;var c=null==n?"":n;return e.value===c&&"OPTION"!==e.tagName||(e.value=c),void(null==n&&e.removeAttribute(t))}var l=!1;if(""===n||null==n){var f=(0,o.Z)(e[t]);"boolean"===f?n=(0,s.yA)(n):null==n&&"string"===f?(n="",l=!0):"number"===f&&(n=0,l=!0)}try{e[t]=n}catch(h){0}l&&e.removeAttribute(t)}var _=function(){var e=Date.now,t=!1;if("undefined"!==typeof window){Date.now()>document.createEvent("Event").timeStamp&&(e=performance.now.bind(performance));var n=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(n&&Number(n[1])<=53)}return[e,t]}(),I=(0,a.Z)(_,2),S=I[0],T=I[1],A=0,Z=Promise.resolve(),C=function(){A=0},D=function(){return A||(Z.then(C),A=S())};function O(e,t,n,r){e.addEventListener(t,n,r)}function N(e,t,n,r){e.removeEventListener(t,n,r)}function R(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=e._vei||(e._vei={}),u=o[t];if(r&&u)u.value=r;else{var s=L(t),c=(0,a.Z)(s,2),l=c[0],f=c[1];if(r){var h=o[t]=P(r,i);O(e,l,h,f)}else u&&(N(e,l,u,f),o[t]=void 0)}}var M=/(?:Once|Passive|Capture)$/;function L(e){var t;if(M.test(e)){var n;t={};while(n=e.match(M))e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[(0,s.rs)(e.slice(2)),t]}function P(e,t){var n=function e(n){var r=n.timeStamp||S();(T||r>=e.attached-1)&&(0,c.$d)(F(n,e.value),t,5,[n])};return n.value=e,n.attached=D(),n}function F(e,t){if((0,s.kJ)(t)){var n=e.stopImmediatePropagation;return e.stopImmediatePropagation=function(){n.call(e),e._stopped=!0},t.map((function(e){return function(t){return!t._stopped&&e&&e(t)}}))}return t}var V=/^on[a-z]/,j=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0,u=arguments.length>7?arguments[7]:void 0,c=arguments.length>8?arguments[8]:void 0;"class"===t?v(e,r,i):"style"===t?p(e,n,r):(0,s.F7)(t)?(0,s.tR)(t)||R(e,t,n,r,o):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):U(e,t,r,i))?E(e,t,r,a,o,u,c):("true-value"===t?e._trueValue=r:"false-value"===t&&(e._falseValue=r),x(e,t,r,i))};function U(e,t,n,r){return r?"innerHTML"===t||"textContent"===t||!!(t in e&&V.test(t)&&(0,s.mf)(n)):"spellcheck"!==t&&"draggable"!==t&&"translate"!==t&&("form"!==t&&(("list"!==t||"INPUT"!==e.tagName)&&(("type"!==t||"TEXTAREA"!==e.tagName)&&((!V.test(t)||!(0,s.HD)(n))&&t in e))))}"undefined"!==typeof HTMLElement&&HTMLElement;var B="transition",q="animation",G=function(e,t){var n=t.slots;return(0,c.h)(c.P$,W(e),n)};G.displayName="Transition";var K={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},z=(G.props=(0,s.l7)({},c.P$.props,K),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];(0,s.kJ)(e)?e.forEach((function(e){return e.apply(void 0,(0,u.Z)(t))})):e&&e.apply(void 0,(0,u.Z)(t))}),H=function(e){return!!e&&((0,s.kJ)(e)?e.some((function(e){return e.length>1})):e.length>1)};function W(e){var t={};for(var n in e)n in K||(t[n]=e[n]);if(!1===e.css)return t;var r=e.name,i=void 0===r?"v":r,a=e.type,o=e.duration,u=e.enterFromClass,c=void 0===u?"".concat(i,"-enter-from"):u,l=e.enterActiveClass,f=void 0===l?"".concat(i,"-enter-active"):l,h=e.enterToClass,d=void 0===h?"".concat(i,"-enter-to"):h,v=e.appearFromClass,p=void 0===v?c:v,y=e.appearActiveClass,g=void 0===y?f:y,m=e.appearToClass,w=void 0===m?d:m,k=e.leaveFromClass,b=void 0===k?"".concat(i,"-leave-from"):k,x=e.leaveActiveClass,E=void 0===x?"".concat(i,"-leave-active"):x,_=e.leaveToClass,I=void 0===_?"".concat(i,"-leave-to"):_,S=Q(o),T=S&&S[0],A=S&&S[1],Z=t.onBeforeEnter,C=t.onEnter,D=t.onEnterCancelled,O=t.onLeave,N=t.onLeaveCancelled,R=t.onBeforeAppear,M=void 0===R?Z:R,L=t.onAppear,P=void 0===L?C:L,F=t.onAppearCancelled,V=void 0===F?D:F,j=function(e,t,n){$(e,t?w:d),$(e,t?g:f),n&&n()},U=function(e,t){e._isLeaving=!1,$(e,b),$(e,I),$(e,E),t&&t()},B=function(e){return function(t,n){var r=e?P:C,i=function(){return j(t,e,n)};z(r,[t,i]),X((function(){$(t,e?p:c),Y(t,e?w:d),H(r)||te(t,a,T,i)}))}};return(0,s.l7)(t,{onBeforeEnter:function(e){z(Z,[e]),Y(e,c),Y(e,f)},onBeforeAppear:function(e){z(M,[e]),Y(e,p),Y(e,g)},onEnter:B(!1),onAppear:B(!0),onLeave:function(e,t){e._isLeaving=!0;var n=function(){return U(e,t)};Y(e,b),ae(),Y(e,E),X((function(){e._isLeaving&&($(e,b),Y(e,I),H(O)||te(e,a,A,n))})),z(O,[e,n])},onEnterCancelled:function(e){j(e,!1),z(D,[e])},onAppearCancelled:function(e){j(e,!0),z(V,[e])},onLeaveCancelled:function(e){U(e),z(N,[e])}})}function Q(e){if(null==e)return null;if((0,s.Kn)(e))return[J(e.enter),J(e.leave)];var t=J(e);return[t,t]}function J(e){var t=(0,s.He)(e);return t}function Y(e,t){t.split(/\s+/).forEach((function(t){return t&&e.classList.add(t)})),(e._vtc||(e._vtc=new Set)).add(t)}function $(e,t){t.split(/\s+/).forEach((function(t){return t&&e.classList.remove(t)}));var n=e._vtc;n&&(n["delete"](t),n.size||(e._vtc=void 0))}function X(e){requestAnimationFrame((function(){requestAnimationFrame(e)}))}var ee=0;function te(e,t,n,r){var i=e._endId=++ee,a=function(){i===e._endId&&r()};if(n)return setTimeout(a,n);var o=ne(e,t),u=o.type,s=o.timeout,c=o.propCount;if(!u)return r();var l=u+"end",f=0,h=function(){e.removeEventListener(l,d),a()},d=function(t){t.target===e&&++f>=c&&h()};setTimeout((function(){f<c&&h()}),s+1),e.addEventListener(l,d)}function ne(e,t){var n=window.getComputedStyle(e),r=function(e){return(n[e]||"").split(", ")},i=r(B+"Delay"),a=r(B+"Duration"),o=re(i,a),u=r(q+"Delay"),s=r(q+"Duration"),c=re(u,s),l=null,f=0,h=0;t===B?o>0&&(l=B,f=o,h=a.length):t===q?c>0&&(l=q,f=c,h=s.length):(f=Math.max(o,c),l=f>0?o>c?B:q:null,h=l?l===B?a.length:s.length:0);var d=l===B&&/\b(transform|all)(,|$)/.test(n[B+"Property"]);return{type:l,timeout:f,propCount:h,hasTransform:d}}function re(e,t){while(e.length<t.length)e=e.concat(e);return Math.max.apply(Math,(0,u.Z)(t.map((function(t,n){return ie(t)+ie(e[n])}))))}function ie(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function ae(){return document.body.offsetHeight}new WeakMap,new WeakMap;var oe=function(e){var t=e.props["onUpdate:modelValue"]||!1;return(0,s.kJ)(t)?function(e){return(0,s.ir)(t,e)}:t};var ue={deep:!0,created:function(e,t,n){var r=t.value,i=t.modifiers.number,a=(0,s.DM)(r);O(e,"change",(function(){var t=Array.prototype.filter.call(e.options,(function(e){return e.selected})).map((function(e){return i?(0,s.He)(ce(e)):ce(e)}));e._assign(e.multiple?a?new Set(t):t:t[0])})),e._assign=oe(n)},mounted:function(e,t){var n=t.value;se(e,n)},beforeUpdate:function(e,t,n){e._assign=oe(n)},updated:function(e,t){var n=t.value;se(e,n)}};function se(e,t){var n=e.multiple;if(!n||(0,s.kJ)(t)||(0,s.DM)(t)){for(var r=0,i=e.options.length;r<i;r++){var a=e.options[r],o=ce(a);if(n)(0,s.kJ)(t)?a.selected=(0,s.hq)(t,o)>-1:a.selected=t.has(o);else if((0,s.WV)(ce(a),t))return void(e.selectedIndex!==r&&(e.selectedIndex=r))}n||-1===e.selectedIndex||(e.selectedIndex=-1)}}function ce(e){return"_value"in e?e._value:e.value}var le,fe=(0,s.l7)({patchProp:j},d);function he(){return le||(le=(0,c.Us)(fe))}var de=function(){var e,t=(e=he()).createApp.apply(e,arguments);var n=t.mount;return t.mount=function(e){var r=ve(e);if(r){var i=t._component;(0,s.mf)(i)||i.render||i.template||(i.template=r.innerHTML),r.innerHTML="";var a=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),a}},t};function ve(e){if((0,s.HD)(e)){var t=document.querySelector(e);return t}return e}},7139:(e,t,n)=>{"use strict";n.d(t,{C_:()=>w,DM:()=>V,E9:()=>ce,F7:()=>D,Gg:()=>Y,HD:()=>B,He:()=>se,Kn:()=>G,NO:()=>Z,Nj:()=>ue,Od:()=>R,PO:()=>Q,Pq:()=>d,RI:()=>L,S0:()=>J,W7:()=>W,WV:()=>b,Z6:()=>T,_A:()=>ee,_N:()=>F,aU:()=>ae,dG:()=>A,e1:()=>f,fY:()=>c,hR:()=>ie,hq:()=>x,ir:()=>oe,j5:()=>p,kC:()=>re,kJ:()=>P,kT:()=>S,l7:()=>N,mf:()=>U,rs:()=>ne,tI:()=>K,tR:()=>O,yA:()=>v,yk:()=>q,zw:()=>_});var r,i,a=n(3336),o=n(6084),u=n(9584),s=n(2482);n(8011),n(4916),n(3123),n(7327),n(1539),n(2222),n(2481),n(9600),n(7601),n(9554),n(4747),n(3210),n(6755),n(7042),n(5306),n(7941),n(4553),n(6647),n(3710),n(9714),n(8862),n(5827),n(3948),n(3371),n(2772),n(561),n(9753),n(1058),n(3304),n(9070),n(4678),n(5837);function c(e,t){for(var n=Object.create(null),r=e.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return t?function(e){return!!n[e.toLowerCase()]}:function(e){return!!n[e]}}r={},(0,s.Z)(r,1,"TEXT"),(0,s.Z)(r,2,"CLASS"),(0,s.Z)(r,4,"STYLE"),(0,s.Z)(r,8,"PROPS"),(0,s.Z)(r,16,"FULL_PROPS"),(0,s.Z)(r,32,"HYDRATE_EVENTS"),(0,s.Z)(r,64,"STABLE_FRAGMENT"),(0,s.Z)(r,128,"KEYED_FRAGMENT"),(0,s.Z)(r,256,"UNKEYED_FRAGMENT"),(0,s.Z)(r,512,"NEED_PATCH"),(0,s.Z)(r,1024,"DYNAMIC_SLOTS"),(0,s.Z)(r,2048,"DEV_ROOT_FRAGMENT"),(0,s.Z)(r,-1,"HOISTED"),(0,s.Z)(r,-2,"BAIL"),i={},(0,s.Z)(i,1,"STABLE"),(0,s.Z)(i,2,"DYNAMIC"),(0,s.Z)(i,3,"FORWARDED");var l="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",f=c(l);var h="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",d=c(h);function v(e){return!!e||""===e}function p(e){if(P(e)){for(var t={},n=0;n<e.length;n++){var r=e[n],i=B(r)?m(r):p(r);if(i)for(var a in i)t[a]=i[a]}return t}return B(e)||G(e)?e:void 0}var y=/;(?![^(]*\))/g,g=/:(.+)/;function m(e){var t={};return e.split(y).forEach((function(e){if(e){var n=e.split(g);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function w(e){var t="";if(B(e))t=e;else if(P(e))for(var n=0;n<e.length;n++){var r=w(e[n]);r&&(t+=r+" ")}else if(G(e))for(var i in e)e[i]&&(t+=i+" ");return t.trim()}function k(e,t){if(e.length!==t.length)return!1;for(var n=!0,r=0;n&&r<e.length;r++)n=b(e[r],t[r]);return n}function b(e,t){if(e===t)return!0;var n=j(e),r=j(t);if(n||r)return!(!n||!r)&&e.getTime()===t.getTime();if(n=q(e),r=q(t),n||r)return e===t;if(n=P(e),r=P(t),n||r)return!(!n||!r)&&k(e,t);if(n=G(e),r=G(t),n||r){if(!n||!r)return!1;var i=Object.keys(e).length,a=Object.keys(t).length;if(i!==a)return!1;for(var o in e){var u=e.hasOwnProperty(o),s=t.hasOwnProperty(o);if(u&&!s||!u&&s||!b(e[o],t[o]))return!1}}return String(e)===String(t)}function x(e,t){return e.findIndex((function(e){return b(e,t)}))}var E,_=function(e){return B(e)?e:null==e?"":P(e)||G(e)&&(e.toString===z||!U(e.toString))?JSON.stringify(e,I,2):String(e)},I=function e(t,n){return n&&n.__v_isRef?e(t,n.value):F(n)?(0,s.Z)({},"Map(".concat(n.size,")"),(0,u.Z)(n.entries()).reduce((function(e,t){var n=(0,o.Z)(t,2),r=n[0],i=n[1];return e["".concat(r," =>")]=i,e}),{})):V(n)?(0,s.Z)({},"Set(".concat(n.size,")"),(0,u.Z)(n.values())):!G(n)||P(n)||Q(n)?n:String(n)},S={},T=[],A=function(){},Z=function(){return!1},C=/^on[^a-z]/,D=function(e){return C.test(e)},O=function(e){return e.startsWith("onUpdate:")},N=Object.assign,R=function(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)},M=Object.prototype.hasOwnProperty,L=function(e,t){return M.call(e,t)},P=Array.isArray,F=function(e){return"[object Map]"===H(e)},V=function(e){return"[object Set]"===H(e)},j=function(e){return"[object Date]"===H(e)},U=function(e){return"function"===typeof e},B=function(e){return"string"===typeof e},q=function(e){return"symbol"===(0,a.Z)(e)},G=function(e){return null!==e&&"object"===(0,a.Z)(e)},K=function(e){return G(e)&&U(e.then)&&U(e["catch"])},z=Object.prototype.toString,H=function(e){return z.call(e)},W=function(e){return H(e).slice(8,-1)},Q=function(e){return"[object Object]"===H(e)},J=function(e){return B(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e},Y=c(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),$=function(e){var t=Object.create(null);return function(n){var r=t[n];return r||(t[n]=e(n))}},X=/-(\w)/g,ee=$((function(e){return e.replace(X,(function(e,t){return t?t.toUpperCase():""}))})),te=/\B([A-Z])/g,ne=$((function(e){return e.replace(te,"-$1").toLowerCase()})),re=$((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),ie=$((function(e){return e?"on".concat(re(e)):""})),ae=function(e,t){return!Object.is(e,t)},oe=function(e,t){for(var n=0;n<e.length;n++)e[n](t)},ue=function(e,t,n){Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},se=function(e){var t=parseFloat(e);return isNaN(t)?e:t},ce=function(){return E||(E="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{})}},6780:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r.Z});var r=n(2661),i="firebase",a="9.9.0";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
r.Z.registerVersion(i,a,"app-compat")},5892:(e,t,n)=>{"use strict";var r=n(5507),i=n(9110),a=n(7946),o=n(6347),u=n(3336),s=n(3087),c=n(2833),l=(n(9575),n(1539),n(2472),n(8675),n(2990),n(8927),n(3105),n(5035),n(4345),n(7174),n(2846),n(4731),n(7209),n(6319),n(8867),n(7789),n(3739),n(9368),n(4483),n(2056),n(3462),n(678),n(7462),n(3824),n(5021),n(2974),n(5016),n(2222),n(8783),n(4129),n(3948),n(4916),n(5306),n(4812),n(1249),n(9554),n(4747),n(2661)),f=(n(1299),n(4819),n(5003),n(2040));function h(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=(0,f.Z)(e),null===e)break;return e}function d(){return d="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=h(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},d.apply(this,arguments)}var v,p=n(6084),y=n(124),g=n(8534),m=n(9584),w=(n(8862),n(1703),n(6647),n(3710),n(9714),n(8309),n(1532),n(2564),n(6541),n(3112),n(3843),n(7042),n(9600),n(2772),n(7327),n(3123),n(7601),n(9826),n(4723),n(9653),n(5069),n(189),n(2707),n(5505),n(7714),n(2801),n(1174),n(7479),n(2165),n(2526),n(1817),n(4603),n(8450),n(8386),n(3650),n(3161),n(4363),n(5994),n(7941),n(2262),n(4506),n(5212),n(561),n(8733),n(5827),n(9841),n(6716),n(8264),n(1038),n(2479),n(4553),n(86),n(6699),n(2023),n(489),n(4765),n(9753),n(2866)),k=n(7142),b=n(5168),x=n(5287),E=(n(5837),n(3210),n(4678),n(1058),n(9070),"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{}),_={},I=I||{},S=E||self;function T(){}function A(e){var t=(0,u.Z)(e);return t="object"!=t?t:e?Array.isArray(e)?"array":t:"null","array"==t||"object"==t&&"number"==typeof e.length}function Z(e){var t=(0,u.Z)(e);return"object"==t&&null!=e||"function"==t}function C(e){return Object.prototype.hasOwnProperty.call(e,D)&&e[D]||(e[D]=++O)}var D="closure_uid_"+(1e9*Math.random()>>>0),O=0;function N(e,t,n){return e.call.apply(e.bind,arguments)}function R(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function M(e,t,n){return M=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?N:R,M.apply(null,arguments)}function L(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function P(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function F(){this.s=this.s,this.o=this.o}var V=0,j={};F.prototype.s=!1,F.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0!=V)){var e=C(this);delete j[e]}},F.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var U=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},B=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function q(e){e:{for(var t=ur,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}function G(e){return Array.prototype.concat.apply([],arguments)}function K(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function z(e){return/^[\s\xa0]*$/.test(e)}var H,W=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Q(e,t){return-1!=e.indexOf(t)}function J(e,t){return e<t?-1:e>t?1:0}e:{var Y=S.navigator;if(Y){var $=Y.userAgent;if($){H=$;break e}}H=""}function X(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function ee(e){var t={};for(var n in e)t[n]=e[n];return t}var te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(var a=0;a<te.length;a++)n=te[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function re(e){return re[" "](e),e}function ie(e){var t=ge;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}re[" "]=T;var ae,oe=Q(H,"Opera"),ue=Q(H,"Trident")||Q(H,"MSIE"),se=Q(H,"Edge"),ce=se||ue,le=Q(H,"Gecko")&&!(Q(H.toLowerCase(),"webkit")&&!Q(H,"Edge"))&&!(Q(H,"Trident")||Q(H,"MSIE"))&&!Q(H,"Edge"),fe=Q(H.toLowerCase(),"webkit")&&!Q(H,"Edge");function he(){var e=S.document;return e?e.documentMode:void 0}e:{var de="",ve=function(){var e=H;return le?/rv:([^\);]+)(\)|;)/.exec(e):se?/Edge\/([\d\.]+)/.exec(e):ue?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):fe?/WebKit\/(\S+)/.exec(e):oe?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(ve&&(de=ve?ve[1]:""),ue){var pe=he();if(null!=pe&&pe>parseFloat(de)){ae=String(pe);break e}}ae=de}var ye,ge={};function me(){return ie((function(){for(var e=0,t=W(String(ae)).split("."),n=W("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=J(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||J(0==a[2].length,0==o[2].length)||J(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(S.document&&ue){var we=he();ye=we||(parseInt(ae,10)||void 0)}else ye=void 0;var ke=ye,be=function(){if(!S.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{S.addEventListener("test",T,t),S.removeEventListener("test",T,t)}catch(n){}return e}();function xe(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Ee(e,t){if(xe.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(le){e:{try{re(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:_e[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ee.Z.h.call(this)}}xe.prototype.h=function(){this.defaultPrevented=!0},P(Ee,xe);var _e={2:"touch",3:"pen",4:"mouse"};Ee.prototype.h=function(){Ee.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ie="closure_listenable_"+(1e6*Math.random()|0),Se=0;function Te(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Se,this.ca=this.fa=!1}function Ae(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Ze(e){this.src=e,this.g={},this.h=0}function Ce(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=U(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Ae(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function De(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Ze.prototype.add=function(e,t,n,r,i){var a=e.toString();e=this.g[a],e||(e=this.g[a]=[],this.h++);var o=De(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):(t=new Te(t,this.src,a,!!r,i),t.fa=n,e.push(t)),t};var Oe="closure_lm_"+(1e6*Math.random()|0),Ne={};function Re(e,t,n,r,i){if(r&&r.once)return Pe(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Re(e,t[a],n,r,i);return null}return n=Ge(n),e&&e[Ie]?e.N(t,n,Z(r)?!!r.capture:!!r,i):Me(e,t,n,!1,r,i)}function Me(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Z(i)?!!i.capture:!!i,u=Be(e);if(u||(e[Oe]=u=new Ze(e)),n=u.add(t,n,r,o,a),n.proxy)return n;if(r=Le(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)be||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(je(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Le(){function e(n){return t.call(e.src,e.listener,n)}var t=Ue;return e}function Pe(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Pe(e,t[a],n,r,i);return null}return n=Ge(n),e&&e[Ie]?e.O(t,n,Z(r)?!!r.capture:!!r,i):Me(e,t,n,!0,r,i)}function Fe(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Fe(e,t[a],n,r,i);else r=Z(r)?!!r.capture:!!r,n=Ge(n),e&&e[Ie]?(e=e.i,t=String(t).toString(),t in e.g&&(a=e.g[t],n=De(a,n,r,i),-1<n&&(Ae(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Be(e))&&(t=e.g[t.toString()],e=-1,t&&(e=De(t,n,r,i)),(n=-1<e?t[e]:null)&&Ve(n))}function Ve(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Ie])Ce(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(je(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Be(t))?(Ce(n,e),0==n.h&&(n.src=null,t[Oe]=null)):Ae(e)}}}function je(e){return e in Ne?Ne[e]:Ne[e]="on"+e}function Ue(e,t){if(e.ca)e=!0;else{t=new Ee(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Ve(e),e=n.call(r,t)}return e}function Be(e){return e=e[Oe],e instanceof Ze?e:null}var qe="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ge(e){return"function"===typeof e?e:(e[qe]||(e[qe]=function(t){return e.handleEvent(t)}),e[qe])}function Ke(){F.call(this),this.i=new Ze(this),this.P=this,this.I=null}function ze(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new xe(t,e);else if(t instanceof xe)t.target=t.target||e;else{var i=t;t=new xe(r,e),ne(t,i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=He(o,r,!0,t)&&i}if(o=t.g=e,i=He(o,r,!0,t)&&i,i=He(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)o=t.g=n[a],i=He(o,r,!1,t)&&i}function He(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&Ce(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}P(Ke,F),Ke.prototype[Ie]=!0,Ke.prototype.removeEventListener=function(e,t,n,r){Fe(this,e,t,n,r)},Ke.prototype.M=function(){if(Ke.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ae(n[r]);delete t.g[e],t.h--}}this.I=null},Ke.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Ke.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var We=S.JSON.stringify;function Qe(){var e=it,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Je,Ye=function(){function e(){(0,s.Z)(this,e),this.h=this.g=null}return(0,c.Z)(e,[{key:"add",value:function(e,t){var n=$e.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),$e=new(function(){function e(t,n){(0,s.Z)(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return(0,c.Z)(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Xe}),(function(e){return e.reset()})),Xe=function(){function e(){(0,s.Z)(this,e),this.next=this.g=this.h=null}return(0,c.Z)(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function et(e){S.setTimeout((function(){throw e}),0)}function tt(e,t){Je||nt(),rt||(Je(),rt=!0),it.add(e,t)}function nt(){var e=S.Promise.resolve(void 0);Je=function(){e.then(at)}}var rt=!1,it=new Ye;function at(){for(var e;e=Qe();){try{e.h.call(e.g)}catch(n){et(n)}var t=$e;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}rt=!1}function ot(e,t){Ke.call(this),this.h=e||1,this.g=t||S,this.j=M(this.kb,this),this.l=Date.now()}function ut(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function st(e,t,n){if("function"===typeof e)n&&(e=M(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=M(e.handleEvent,e)}return 2147483647<Number(t)?-1:S.setTimeout(e,t||0)}function ct(e){e.g=st((function(){e.g=null,e.i&&(e.i=!1,ct(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}P(ot,Ke),v=ot.prototype,v.da=!1,v.S=null,v.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ze(this,"tick"),this.da&&(ut(this),this.start()))}},v.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},v.M=function(){ot.Z.M.call(this),ut(this),delete this.g};var lt=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r){var i;return(0,s.Z)(this,n),i=t.call(this),i.m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return(0,c.Z)(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:ct(this)}},{key:"M",value:function(){d((0,f.Z)(n.prototype),"M",this).call(this),this.g&&(S.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(F);function ft(e){F.call(this),this.h=e,this.g={}}P(ft,F);var ht=[];function dt(e,t,n,r){Array.isArray(n)||(n&&(ht[0]=n.toString()),n=ht);for(var i=0;i<n.length;i++){var a=Re(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function vt(e){X(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Ve(e)}),e),e.g={}}function pt(){this.g=!0}function yt(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}function gt(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}function mt(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+kt(e,n)+(r?" "+r:"")}))}function wt(e,t){e.info((function(){return"TIMEOUT: "+t}))}function kt(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return We(n)}catch(u){return t}}ft.prototype.M=function(){ft.Z.M.call(this),vt(this)},ft.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},pt.prototype.Aa=function(){this.g=!1},pt.prototype.info=function(){};var bt={},xt=null;function Et(){return xt=xt||new Ke}function _t(e){xe.call(this,bt.Ma,e)}function It(e){var t=Et();ze(t,new _t(t,e))}function St(e,t){xe.call(this,bt.STAT_EVENT,e),this.stat=t}function Tt(e){var t=Et();ze(t,new St(t,e))}function At(e,t){xe.call(this,bt.Na,e),this.size=t}function Zt(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return S.setTimeout((function(){e()}),t)}bt.Ma="serverreachability",P(_t,xe),bt.STAT_EVENT="statevent",P(St,xe),bt.Na="timingevent",P(At,xe);var Ct={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Dt={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Ot(){}function Nt(e){return e.h||(e.h=e.i())}function Rt(){}Ot.prototype.h=null;var Mt,Lt={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Pt(){xe.call(this,"d")}function Ft(){xe.call(this,"c")}function Vt(){}function jt(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new ft(this),this.P=Bt,e=ce?125:void 0,this.W=new ot(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Ut}function Ut(){this.i=null,this.g="",this.h=!1}P(Pt,xe),P(Ft,xe),P(Vt,Ot),Vt.prototype.g=function(){return new XMLHttpRequest},Vt.prototype.i=function(){return{}},Mt=new Vt;var Bt=45e3,qt={},Gt={};function Kt(e,t,n){e.K=1,e.v=gn(fn(t)),e.s=n,e.U=!0,zt(e,null)}function zt(e,t){e.F=Date.now(),Jt(e),e.A=fn(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),On(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Ut,e.g=Fr(e.l,n?t:null,!e.s),0<e.O&&(e.L=new lt(M(e.Ia,e,e.g),e.O)),dt(e.V,e.g,"readystatechange",e.gb),t=e.H?ee(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),It(1),yt(e.j,e.u,e.A,e.m,e.X,e.s)}function Ht(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Wt(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if(r=Qt(e,n),r==Gt){4==t&&(e.o=4,Tt(14),i=!1),mt(e.j,e.m,null,"[Incomplete Response]");break}if(r==qt){e.o=4,Tt(15),mt(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}mt(e.j,e.m,r,null),tn(e,r)}Ht(e)&&r!=Gt&&r!=qt&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Tt(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Cr(t),t.L=!0,Tt(11))):(mt(e.j,e.m,n,"[Invalid Chunked Response]"),en(e),Xt(e))}function Qt(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Gt:(n=Number(t.substring(n,r)),isNaN(n)?qt:(r+=1,r+n>t.length?Gt:(t=t.substr(r,n),e.C=r+n,t)))}function Jt(e){e.Y=Date.now()+e.P,Yt(e,e.P)}function Yt(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Zt(M(e.eb,e),t)}function $t(e){e.B&&(S.clearTimeout(e.B),e.B=null)}function Xt(e){0==e.l.G||e.I||Nr(e.l,e)}function en(e){$t(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,ut(e.W),vt(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function tn(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||jn(n.i,e)))if(n.I=e.N,!e.J&&jn(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Or(n),kr(n)}Zr(n),Tt(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Zt(M(n.ab,n),6e3));if(1>=Vn(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Mr(n,11)}else if((e.J||n.g==e)&&Or(n),!z(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Q(l,"spdy")||Q(l,"quic")||Q(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Un(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,yn(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var d=e;if(r.oa=Pr(r,r.H?r.la:null,r.W),d.J){Bn(r.i,d);var v=d,p=r.K;p&&v.setTimeout(p),v.B&&($t(v),Jt(v)),r.g=d}else Ar(r);0<n.l.length&&Er(n)}else"stop"!=a[0]&&"close"!=a[0]||Mr(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Mr(n,7):wr(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}It(4)}catch(a){}}function nn(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(A(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function rn(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(A(e)||"string"===typeof e)B(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(A(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=nn(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function an(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof an)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function on(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];un(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)r=e.g[t],un(i,r)||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function un(e,t){return Object.prototype.hasOwnProperty.call(e,t)}v=jt.prototype,v.setTimeout=function(e){this.P=e},v.gb=function(e){e=e.target;var t=this.L;t&&3==dr(e)?t.l():this.Ia(e)},v.Ia=function(e){try{if(e==this.g)e:{var t=dr(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||ce||this.g&&(this.h.h||this.g.ga()||vr(this.g)))){this.I||4!=t||7==n||It(8==n||0>=r?3:2),$t(this);var i=this.g.ba();this.N=i;t:if(Ht(this)){var a=vr(this.g);e="";var o=a.length,u=4==dr(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){en(this),Xt(this);var s="";break t}this.h.i=new S.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,gt(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Tt(12),en(this),Xt(this);break e}mt(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,tn(this,i)}this.U?(Wt(this,t,s),ce&&this.i&&3==t&&(dt(this.V,this.W,"tick",this.fb),this.W.start())):(mt(this.j,this.m,s,null),tn(this,s)),4==t&&en(this),this.i&&!this.I&&(4==t?Nr(this.l,this):(this.i=!1,Jt(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,Tt(12)):(this.o=0,Tt(13)),en(this),Xt(this)}}}catch(t){}},v.fb=function(){if(this.g){var e=dr(this.g),t=this.g.ga();this.C<t.length&&($t(this),Wt(this,e,t),this.i&&4!=e&&Jt(this))}},v.cancel=function(){this.I=!0,en(this)},v.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(wt(this.j,this.A),2!=this.K&&(It(3),Tt(17)),en(this),this.o=2,Xt(this)):Yt(this,this.Y-e)},v=an.prototype,v.R=function(){on(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},v.T=function(){return on(this),this.g.concat()},v.get=function(e,t){return un(this.h,e)?this.h[e]:t},v.set=function(e,t){un(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},v.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var sn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function cn(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ln(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof ln){this.g=void 0!==t?t:e.g,hn(this,e.j),this.s=e.s,dn(this,e.i),vn(this,e.m),this.l=e.l,t=e.h;var n=new An;n.i=t.i,t.g&&(n.g=new an(t.g),n.h=t.h),pn(this,n),this.o=e.o}else e&&(n=String(e).match(sn))?(this.g=!!t,hn(this,n[1]||"",!0),this.s=kn(n[2]||""),dn(this,n[3]||"",!0),vn(this,n[4]),this.l=kn(n[5]||"",!0),pn(this,n[6]||"",!0),this.o=kn(n[7]||"")):(this.g=!!t,this.h=new An(null,this.g))}function fn(e){return new ln(e)}function hn(e,t,n){e.j=n?kn(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function dn(e,t,n){e.i=n?kn(t,!0):t}function vn(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function pn(e,t,n){t instanceof An?(e.h=t,Rn(e.h,e.g)):(n||(t=bn(t,Sn)),e.h=new An(t,e.g))}function yn(e,t,n){e.h.set(t,n)}function gn(e){return yn(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function mn(e){return e instanceof ln?fn(e):new ln(e,void 0)}function wn(e,t,n,r){var i=new ln(null,void 0);return e&&hn(i,e),t&&dn(i,t),n&&vn(i,n),r&&(i.l=r),i}function kn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function bn(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,xn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function xn(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(15&e).toString(16)}ln.prototype.toString=function(){var e=[],t=this.j;t&&e.push(bn(t,En,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(bn(t,En,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,null!=n&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(bn(n,"/"==n.charAt(0)?In:_n,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",bn(n,Tn)),e.join("")};var En=/[#\/\?@]/g,_n=/[#\?:]/g,In=/[#\?]/g,Sn=/[#\?@]/g,Tn=/#/g;function An(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Zn(e){e.g||(e.g=new an,e.h=0,e.i&&cn(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Cn(e,t){Zn(e),t=Nn(e,t),un(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,un(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&on(e)))}function Dn(e,t){return Zn(e),t=Nn(e,t),un(e.g.h,t)}function On(e,t,n){Cn(e,t),0<n.length&&(e.i=null,e.g.set(Nn(e,t),K(n)),e.h+=n.length)}function Nn(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Rn(e,t){t&&!e.j&&(Zn(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Cn(this,t),On(this,n,e))}),e)),e.j=t}v=An.prototype,v.add=function(e,t){Zn(this),this.i=null,e=Nn(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},v.forEach=function(e,t){Zn(this),this.g.forEach((function(n,r){B(n,(function(n){e.call(t,n,r,this)}),this)}),this)},v.T=function(){Zn(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},v.R=function(e){Zn(this);var t=[];if("string"===typeof e)Dn(this,e)&&(t=G(t,this.g.get(Nn(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=G(t,e[n])}return t},v.set=function(e,t){return Zn(this),this.i=null,e=Nn(this,e),Dn(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},v.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t},v.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Mn=(0,c.Z)((function e(t,n){(0,s.Z)(this,e),this.h=t,this.g=n}));function Ln(e){this.l=e||Pn,S.PerformanceNavigationTiming?(e=S.performance.getEntriesByType("navigation"),e=0<e.length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol)):e=!!(S.g&&S.g.Ea&&S.g.Ea()&&S.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Pn=10;function Fn(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Vn(e){return e.h?1:e.g?e.g.size:0}function jn(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Un(e,t){e.g?e.g.add(t):e.h=t}function Bn(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g["delete"](t)}function qn(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=(0,o.Z)(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return K(e.i)}function Gn(){}function Kn(){this.g=new Gn}function zn(e,t,n){var r=n||"";try{rn(e,(function(e,n){var i=e;Z(e)&&(i=We(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Hn(e,t){var n=new pt;if(S.Image){var r=new Image;r.onload=L(Wn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=L(Wn,n,r,"TestLoadImage: error",!1,t),r.onabort=L(Wn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=L(Wn,n,r,"TestLoadImage: timeout",!1,t),S.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}function Wn(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Qn(e){this.l=e.$b||null,this.j=e.ib||!1}function Jn(e,t){Ke.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Yn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ln.prototype.cancel=function(){if(this.i=qn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=(0,o.Z)(this.g.values());try{for(t.s();!(e=t.n()).done;){var n=e.value;n.cancel()}}catch(r){t.e(r)}finally{t.f()}this.g.clear()}},Gn.prototype.stringify=function(e){return S.JSON.stringify(e,void 0)},Gn.prototype.parse=function(e){return S.JSON.parse(e,void 0)},P(Qn,Ot),Qn.prototype.g=function(){return new Jn(this.l,this.j)},Qn.prototype.i=function(e){return function(){return e}}({}),P(Jn,Ke);var Yn=0;function $n(e){e.j.read().then(e.Sa.bind(e))["catch"](e.ha.bind(e))}function Xn(e){e.readyState=4,e.l=null,e.j=null,e.A=null,er(e)}function er(e){e.onreadystatechange&&e.onreadystatechange.call(e)}v=Jn.prototype,v.open=function(e,t){if(this.readyState!=Yn)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,er(this)},v.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||S).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},v.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Xn(this)),this.readyState=Yn},v.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,er(this)),this.g&&(this.readyState=3,er(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof S.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;$n(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},v.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Xn(this):er(this),3==this.readyState&&$n(this)}},v.Ua=function(e){this.g&&(this.response=this.responseText=e,Xn(this))},v.Ta=function(e){this.g&&(this.response=e,Xn(this))},v.ha=function(){this.g&&Xn(this)},v.setRequestHeader=function(e,t){this.v.append(e,t)},v.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},v.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Jn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var tr=S.JSON.parse;function nr(e){Ke.call(this),this.headers=new an,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=rr,this.K=this.L=!1}P(nr,Ke);var rr="",ir=/^https?$/i,ar=["POST","PUT"];function or(e){return ue&&me()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}function ur(e){return"content-type"==e.toLowerCase()}function sr(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,cr(e),fr(e)}function cr(e){e.D||(e.D=!0,ze(e,"complete"),ze(e,"error"))}function lr(e){if(e.h&&"undefined"!=typeof I&&(!e.C[1]||4!=dr(e)||2!=e.ba()))if(e.v&&4==dr(e))st(e.Fa,0,e);else if(ze(e,"readystatechange"),4==dr(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(sn)[1]||null;if(!a&&S.self&&S.self.location){var o=S.self.location.protocol;a=o.substr(0,o.length-1)}i=!ir.test(a?a.toLowerCase():"")}t=i}if(t)ze(e,"complete"),ze(e,"success");else{e.m=6;try{var u=2<dr(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",cr(e)}}finally{fr(e)}}}function fr(e,t){if(e.g){hr(e);var n=e.g,r=e.C[0]?T:null;e.g=null,e.C=null,t||ze(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function hr(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(S.clearTimeout(e.A),e.A=null)}function dr(e){return e.g?e.g.readyState:0}function vr(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case rr:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function pr(e){var t="";return X(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function yr(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=pr(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):yn(e,t,n))}function gr(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function mr(e){this.za=0,this.l=[],this.h=new pt,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=gr("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=gr("baseRetryDelayMs",5e3,e),this.$a=gr("retryDelaySeedMs",1e4,e),this.Ya=gr("forwardChannelMaxRetries",2,e),this.ra=gr("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Ln(e&&e.concurrentRequestLimit),this.Ca=new Kn,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function wr(e){if(br(e),3==e.G){var t=e.V++,n=fn(e.F);yn(n,"SID",e.J),yn(n,"RID",t),yn(n,"TYPE","terminate"),Sr(e,n),t=new jt(e,e.h,t,void 0),t.K=2,t.v=gn(fn(n)),n=!1,S.navigator&&S.navigator.sendBeacon&&(n=S.navigator.sendBeacon(t.v.toString(),"")),!n&&S.Image&&((new Image).src=t.v,n=!0),n||(t.g=Fr(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Jt(t)}Lr(e)}function kr(e){e.g&&(Cr(e),e.g.cancel(),e.g=null)}function br(e){kr(e),e.u&&(S.clearTimeout(e.u),e.u=null),Or(e),e.i.cancel(),e.m&&("number"===typeof e.m&&S.clearTimeout(e.m),e.m=null)}function xr(e,t){e.l.push(new Mn(e.Za++,t)),3==e.G&&Er(e)}function Er(e){Fn(e.i)||e.m||(e.m=!0,tt(e.Ha,e),e.C=0)}function _r(e,t){return!(Vn(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Zt(M(e.Ha,e,t),Rr(e,e.C)),e.C++,!0))}function Ir(e,t){var n;n=t?t.m:e.V++;var r=fn(e.F);yn(r,"SID",e.J),yn(r,"RID",n),yn(r,"AID",e.U),Sr(e,r),e.o&&e.s&&yr(r,e.o,e.s),n=new jt(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Tr(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Un(e.i,n),Kt(n,r,t)}function Sr(e,t){e.j&&rn({},(function(e,n){yn(t,n,e)}))}function Tr(e,t,n){n=Math.min(e.l.length,n);var r=e.j?M(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(c-=a,0>c)a=Math.max(0,i[s].h-100),u=!1;else try{zn(l,o,"req"+c+"_")}catch(vi){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Ar(e){e.g||e.u||(e.Y=1,tt(e.Ga,e),e.A=0)}function Zr(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Zt(M(e.Ga,e),Rr(e,e.A)),e.A++,!0)}function Cr(e){null!=e.B&&(S.clearTimeout(e.B),e.B=null)}function Dr(e){e.g=new jt(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=fn(e.oa);yn(t,"RID","rpc"),yn(t,"SID",e.J),yn(t,"CI",e.N?"0":"1"),yn(t,"AID",e.U),Sr(e,t),yn(t,"TYPE","xmlhttp"),e.o&&e.s&&yr(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=gn(fn(t)),n.s=null,n.U=!0,zt(n,e)}function Or(e){null!=e.v&&(S.clearTimeout(e.v),e.v=null)}function Nr(e,t){var n=null;if(e.g==t){Or(e),Cr(e),e.g=null;var r=2}else{if(!jn(e.i,t))return;n=t.D,Bn(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;r=Et(),ze(r,new At(r,n,t,i)),Er(e)}else Ar(e);else if(i=t.o,3==i||0==i&&0<e.I||!(1==r&&_r(e,t)||2==r&&Zr(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Mr(e,5);break;case 4:Mr(e,10);break;case 3:Mr(e,6);break;default:Mr(e,2)}}function Rr(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Mr(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=M(e.jb,e);n||(n=new ln("//www.google.com/images/cleardot.gif"),S.location&&"http"==S.location.protocol||hn(n,"https"),gn(n)),Hn(n.toString(),r)}else Tt(2);e.G=0,e.j&&e.j.va(t),Lr(e),br(e)}function Lr(e){e.G=0,e.I=-1,e.j&&(0==qn(e.i).length&&0==e.l.length||(e.i.i.length=0,K(e.l),e.l.length=0),e.j.ua())}function Pr(e,t,n){var r=mn(n);if(""!=r.i)t&&dn(r,t+"."+r.i),vn(r,r.m);else{var i=S.location;r=wn(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&X(e.aa,(function(e,t){yn(r,t,e)})),t=e.D,n=e.sa,t&&n&&yn(r,t,n),yn(r,"VER",e.ma),Sr(e,r),r}function Fr(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new nr(new Qn({ib:!0})):new nr(e.qa),t.L=e.H,t}function Vr(){}function jr(){if(ue&&!(10<=Number(ke)))throw Error("Environmental error: no available transport.")}function Ur(e,t){Ke.call(this),this.g=new mr(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!z(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!z(t)&&(this.g.D=t,e=this.h,null!==e&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Gr(this)}function Br(e){Pt.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function qr(){Ft.call(this),this.status=1}function Gr(e){this.g=e}v=nr.prototype,v.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Mt.g(),this.C=this.u?Nt(this.u):Nt(Mt),this.g.onreadystatechange=M(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void sr(this,a)}e=n||"";var i=new an(this.headers);r&&rn(r,(function(e,t){i.set(t,e)})),r=q(i.T()),n=S.FormData&&e instanceof S.FormData,!(0<=U(ar,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{hr(this),0<this.B&&((this.K=or(this.g))?(this.g.timeout=this.B,this.g.ontimeout=M(this.pa,this)):this.A=st(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){sr(this,a)}},v.pa=function(){"undefined"!=typeof I&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ze(this,"timeout"),this.abort(8))},v.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ze(this,"complete"),ze(this,"abort"),fr(this))},v.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),fr(this,!0)),nr.Z.M.call(this)},v.Fa=function(){this.s||(this.F||this.v||this.l?lr(this):this.cb())},v.cb=function(){lr(this)},v.ba=function(){try{return 2<dr(this)?this.g.status:-1}catch(e){return-1}},v.ga=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},v.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),tr(t)}},v.Da=function(){return this.m},v.La=function(){return"string"===typeof this.j?this.j:String(this.j)},v=mr.prototype,v.ma=8,v.G=1,v.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},v.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new jt(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=ee(n),ne(n,this.P)):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(a="__data__"in a.g&&(a=a.g.__data__,"string"===typeof a)?a.length:void 0,void 0===a)break;if(r+=a,4096<r){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Tr(this,t,r),i=fn(this.F),yn(i,"RID",e),yn(i,"CVER",22),this.D&&yn(i,"X-HTTP-Session-Id",this.D),Sr(this,i),this.o&&n&&yr(i,this.o,n),Un(this.i,t),this.Ra&&yn(i,"TYPE","init"),this.ja?(yn(i,"$req",r),yn(i,"SID","null"),t.$=!0,Kt(t,i,null)):Kt(t,i,r),this.G=2}}else 3==this.G&&(e?Ir(this,e):0==this.l.length||Fn(this.i)||Ir(this))},v.Ga=function(){if(this.u=null,Dr(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Zt(M(this.bb,this),e)}},v.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Tt(10),kr(this),Dr(this))},v.ab=function(){null!=this.v&&(this.v=null,kr(this),Zr(this),Tt(19))},v.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Tt(2)):(this.h.info("Failed to ping google.com"),Tt(1))},v=Vr.prototype,v.xa=function(){},v.wa=function(){},v.va=function(){},v.ua=function(){},v.Oa=function(){},jr.prototype.g=function(e,t){return new Ur(e,t)},P(Ur,Ke),Ur.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),tt(M(e.hb,e,t))),Tt(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Pr(e,null,e.W),Er(e)},Ur.prototype.close=function(){wr(this.g)},Ur.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,xr(this.g,t)}else this.v?(t={},t.__data__=We(e),xr(this.g,t)):xr(this.g,e)},Ur.prototype.M=function(){this.g.j=null,delete this.j,wr(this.g),delete this.g,Ur.Z.M.call(this)},P(Br,Pt),P(qr,Ft),P(Gr,Vr),Gr.prototype.xa=function(){ze(this.g,"a")},Gr.prototype.wa=function(e){ze(this.g,new Br(e))},Gr.prototype.va=function(e){ze(this.g,new qr(e))},Gr.prototype.ua=function(){ze(this.g,"b")},jr.prototype.createWebChannel=jr.prototype.g,Ur.prototype.send=Ur.prototype.u,Ur.prototype.open=Ur.prototype.m,Ur.prototype.close=Ur.prototype.close,Ct.NO_ERROR=0,Ct.TIMEOUT=8,Ct.HTTP_ERROR=6,Dt.COMPLETE="complete",Rt.EventType=Lt,Lt.OPEN="a",Lt.CLOSE="b",Lt.ERROR="c",Lt.MESSAGE="d",Ke.prototype.listen=Ke.prototype.N,nr.prototype.listenOnce=nr.prototype.O,nr.prototype.getLastError=nr.prototype.La,nr.prototype.getLastErrorCode=nr.prototype.Da,nr.prototype.getStatus=nr.prototype.ba,nr.prototype.getResponseJson=nr.prototype.Qa,nr.prototype.getResponseText=nr.prototype.ga,nr.prototype.send=nr.prototype.ea;var Kr=_.createWebChannelTransport=function(){return new jr},zr=_.getStatEventTarget=function(){return Et()},Hr=_.ErrorCode=Ct,Wr=_.EventType=Dt,Qr=_.Event=bt,Jr=_.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Yr=_.FetchXmlHttpFactory=Qn,$r=_.WebChannel=Rt,Xr=_.XhrIo=nr,ei="@firebase/firestore",ti=function(){function e(t){(0,s.Z)(this,e),this.uid=t}return(0,c.Z)(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();ti.UNAUTHENTICATED=new ti(null),ti.GOOGLE_CREDENTIALS=new ti("google-credentials-uid"),ti.FIRST_PARTY=new ti("first-party-uid"),ti.MOCK_USER=new ti("mock-user");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ni="9.9.0",ri=new b.Yd("@firebase/firestore");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(){return ri.logLevel}function ai(e){ri.setLogLevel(e)}function oi(e){if(ri.logLevel<=b["in"].DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ci);ri.debug.apply(ri,["Firestore (".concat(ni,"): ").concat(e)].concat((0,m.Z)(i)))}}function ui(e){if(ri.logLevel<=b["in"].ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ci);ri.error.apply(ri,["Firestore (".concat(ni,"): ").concat(e)].concat((0,m.Z)(i)))}}function si(e){if(ri.logLevel<=b["in"].WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ci);ri.warn.apply(ri,["Firestore (".concat(ni,"): ").concat(e)].concat((0,m.Z)(i)))}}function ci(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(ni,") INTERNAL ASSERTION FAILED: ")+e;throw ui(t),new Error(t)}function fi(e,t){e||li()}function hi(e,t){e||li()}function di(e,t){return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vi={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},pi=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r){var i;return(0,s.Z)(this,n),i=t.call(this,e,r),i.code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return(0,c.Z)(n)}(x.ZR),yi=(0,c.Z)((function e(){var t=this;(0,s.Z)(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),gi=(0,c.Z)((function e(t,n){(0,s.Z)(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),mi=function(){function e(){(0,s.Z)(this,e)}return(0,c.Z)(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(ti.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),wi=function(){function e(t){(0,s.Z)(this,e),this.token=t,this.changeListener=null}return(0,c.Z)(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),ki=function(){function e(t){(0,s.Z)(this,e),this.t=t,this.currentUser=ti.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return(0,c.Z)(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new yi;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new yi,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable((0,g.Z)((0,y.Z)().mark((function e(){return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){oi("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(oi("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new yi)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(oi("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(fi("string"==typeof n.accessToken),new gi(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return fi(null===e||"string"==typeof e),new ti(e)}}]),e}(),bi=(0,c.Z)((function e(t,n,r){(0,s.Z)(this,e),this.type="FirstParty",this.user=ti.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),xi=function(){function e(t,n,r){(0,s.Z)(this,e),this.h=t,this.l=n,this.m=r}return(0,c.Z)(e,[{key:"getToken",value:function(){return Promise.resolve(new bi(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(ti.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Ei=(0,c.Z)((function e(t){(0,s.Z)(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),_i=function(){function e(t){(0,s.Z)(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return(0,c.Z)(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&oi("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,oi("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){oi("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):oi("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(fi("string"==typeof t.token),e.p=t.token,new Ei(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ii(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Si=function(){function e(){(0,s.Z)(this,e)}return(0,c.Z)(e,null,[{key:"I",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Ii(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Ti(e,t){return e<t?-1:e>t?1:0}function Ai(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Zi(e){return e+"\0"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ci=function(){function e(t,n){if((0,s.Z)(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new pi(vi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pi(vi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new pi(vi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new pi(vi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return(0,c.Z)(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Ti(this.nanoseconds,e.nanoseconds):Ti(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new e(n,r)}}]),e}(),Di=function(){function e(t){(0,s.Z)(this,e),this.timestamp=t}return(0,c.Z)(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Ci(0,0))}},{key:"max",value:function(){return new e(new Ci(253402300799,999999999))}}]),e}(),Oi=function(){function e(t,n,r){(0,s.Z)(this,e),void 0===n?n=0:n>t.length&&li(),void 0===r?r=t.length-n:r>t.length-n&&li(),this.segments=t,this.offset=n,this.len=r}return(0,c.Z)(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Ni=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,s.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new pi(vi.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,(0,m.Z)(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Oi),Ri=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Mi=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,s.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Ri.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new pi(vi.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new pi(vi.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new pi(vi.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new pi(vi.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Oi),Li=function(){function e(t){(0,s.Z)(this,e),this.path=t}return(0,c.Z)(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Ni.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Ni.fromString(t))}},{key:"fromName",value:function(t){return new e(Ni.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Ni.emptyPath())}},{key:"comparator",value:function(e,t){return Ni.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Ni(t.slice()))}}]),e}(),Pi=(0,c.Z)((function e(t,n,r,i){(0,s.Z)(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(e){return e.fields.find((function(e){return 2===e.kind}))}function Vi(e){return e.fields.filter((function(e){return 2!==e.kind}))}Pi.UNKNOWN_ID=-1;var ji=(0,c.Z)((function e(t,n){(0,s.Z)(this,e),this.fieldPath=t,this.kind=n})),Ui=function(){function e(t,n){(0,s.Z)(this,e),this.sequenceNumber=t,this.offset=n}return(0,c.Z)(e,null,[{key:"empty",value:function(){return new e(0,Gi.min())}}]),e}();function Bi(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Di.fromTimestamp(1e9===r?new Ci(n+1,0):new Ci(n,r));return new Gi(i,Li.empty(),t)}function qi(e){return new Gi(e.readTime,e.key,-1)}var Gi=function(){function e(t,n,r){(0,s.Z)(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return(0,c.Z)(e,null,[{key:"min",value:function(){return new e(Di.min(),Li.empty(),-1)}},{key:"max",value:function(){return new e(Di.max(),Li.empty(),-1)}}]),e}();function Ki(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Li.comparator(e.documentKey,t.documentKey),0!==n?n:Ti(e.largestBatchId,t.largestBatchId))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zi="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Hi=function(){function e(){(0,s.Z)(this,e),this.onCommittedListeners=[]}return(0,c.Z)(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Wi(e){return Qi.apply(this,arguments)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(){return Qi=(0,g.Z)((0,y.Z)().mark((function e(t){return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.code===vi.FAILED_PRECONDITION&&t.message===zi){e.next=2;break}throw t;case 2:oi("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Qi.apply(this,arguments)}var Ji=function(){function e(t){var n=this;(0,s.Z)(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return(0,c.Z)(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&li(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=(0,o.Z)(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(u){i.e(u)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(u){var s=u;n(t[s]).next((function(t){a[s]=t,++o,o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u(s)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){var i=function i(){!0===t()?n().next((function(){i()}),r):e()};i()}))}}]),e}(),Yi=function(){function e(t,n){var r=this;(0,s.Z)(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.T=new yi,this.transaction.oncomplete=function(){r.T.resolve()},this.transaction.onabort=function(){n.error?r.T.reject(new ea(t,n.error)):r.T.resolve()},this.transaction.onerror=function(e){var n=aa(e.target.error);r.T.reject(new ea(t,n))}}return(0,c.Z)(e,[{key:"A",get:function(){return this.T.promise}},{key:"abort",value:function(e){e&&this.T.reject(e),this.aborted||(oi("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"R",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new na(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new ea(n,t)}}}]),e}(),$i=function(){function e(t,n,r){(0,s.Z)(this,e),this.name=t,this.version=n,this.P=r,12.2===e.v((0,x.z$)())&&ui("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return(0,c.Z)(e,[{key:"k",value:function(){var e=(0,g.Z)((0,y.Z)().mark((function e(t){var n=this;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return oi("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new ea(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new pi(vi.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new pi(vi.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new ea(t,n))},i.onupgradeneeded=function(e){oi("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.P.O(t,i.transaction,e.oldVersion,n.version).next((function(){oi("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.M&&(this.db.onversionchange=function(e){return n.M(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"F",value:function(e){this.M=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=(0,g.Z)((0,y.Z)().mark((function e(t,n,r,i){var a,o,s,c,l,f=this;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield((0,y.Z)().mark((function e(){var n,o;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f.k(t);case 2:return f.db=e.sent,n=Yi.open(f.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.R(),e}))["catch"]((function(e){return n.abort(e),Ji.reject(e)})).toPromise(),o["catch"]((function(){})),e.next=7,n.A;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if(s=e.t0,"object"!==(0,u.Z)(s)){e.next=8;break}return e.abrupt("return",s.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e["catch"](3),c=e.t1,l="FirebaseError"!==c.name&&o<3,oi("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),this.close(),l){e.next=15;break}return e.abrupt("return",Promise.reject(c));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));function t(t,n,r,i){return e.apply(this,arguments)}return t}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return oi("SimpleDb","Removing database:",e),ra(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"V",value:function(){if(!(0,x.hl)())return!1;if(e.S())return!0;var t=(0,x.z$)(),n=e.v(t),r=0<n&&n<10,i=e.D(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"S",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",BASE_URL:"/"})||void 0===e?void 0:e.C)}},{key:"N",value:function(e,t){return e.store(t)}},{key:"v",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"D",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Xi=function(){function e(t){(0,s.Z)(this,e),this.$=t,this.B=!1,this.L=null}return(0,c.Z)(e,[{key:"isDone",get:function(){return this.B}},{key:"U",get:function(){return this.L}},{key:"cursor",set:function(e){this.$=e}},{key:"done",value:function(){this.B=!0}},{key:"q",value:function(e){this.L=e}},{key:"delete",value:function(){return ra(this.$["delete"]())}}]),e}(),ea=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r){var i;return(0,s.Z)(this,n),i=t.call(this,vi.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r)),i.name="IndexedDbTransactionError",i}return(0,c.Z)(n)}(pi);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ta(e){return"IndexedDbTransactionError"===e.name}var na=function(){function e(t){(0,s.Z)(this,e),this.store=t}return(0,c.Z)(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(oi("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(oi("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),ra(n)}},{key:"add",value:function(e){return oi("SimpleDb","ADD",this.store.name,e,e),ra(this.store.add(e))}},{key:"get",value:function(e){var t=this;return ra(this.store.get(e)).next((function(n){return void 0===n&&(n=null),oi("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return oi("SimpleDb","DELETE",this.store.name,e),ra(this.store["delete"](e))}},{key:"count",value:function(){return oi("SimpleDb","COUNT",this.store.name),ra(this.store.count())}},{key:"K",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.G(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Ji((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"j",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Ji((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"W",value:function(e,t){oi("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.H=!1;var r=this.cursor(n);return this.G(r,(function(e,t,n){return n["delete"]()}))}},{key:"J",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.G(r,t)}},{key:"Y",value:function(e){var t=this.cursor({});return new Ji((function(n,r){t.onerror=function(e){var t=aa(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r["continue"]():n()})):n()}}))}},{key:"G",value:function(e,t){var n=[];return new Ji((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Xi(i),o=t(i.primaryKey,i.value,a);if(o instanceof Ji){var u=o["catch"]((function(e){return a.done(),Ji.reject(e)}));n.push(u)}a.isDone?r():null===a.U?i["continue"]():i["continue"](a.U)}else r()}})).next((function(){return Ji.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function ra(e){return new Ji((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=aa(e.target.error);n(t)}}))}var ia=!1;function aa(e){var t=$i.v((0,x.z$)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new pi("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return ia||(ia=!0,setTimeout((function(){throw r}),0)),r}}return e}var oa=function(){function e(t,n){(0,s.Z)(this,e),this.asyncQueue=t,this.X=n,this.task=null}return(0,c.Z)(e,[{key:"start",value:function(){}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"Z",value:function(e){var t=this;oi("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,g.Z)((0,y.Z)().mark((function e(){return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=oi,e.t1="Documents written: ",e.next=6,t.X.tt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e["catch"](1),!ta(e.t4)){e.next=17;break}oi("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Wi(e.t4);case 19:return e.next=21,t.Z(1);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),ua=function(){function e(t,n){(0,s.Z)(this,e),this.localStore=t,this.persistence=n}return(0,c.Z)(e,[{key:"tt",value:function(){var e=(0,g.Z)((0,y.Z)().mark((function e(){var t,n=this,r=arguments;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.et(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"et",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return Ji.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return oi("IndexBackiller","Processing collection: ".concat(t)),n.nt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"nt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.st(i,n)})).next((function(n){return oi("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"st",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=qi(t);Ki(r,n)>0&&(n=r)})),new Gi(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),sa=function(){function e(t,n){var r=this;(0,s.Z)(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.it(e)},this.rt=function(e){return n.writeSequenceNumber(e)})}return(0,c.Z)(e,[{key:"it",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.rt&&this.rt(e),e}}]),e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ca(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function la(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function fa(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sa.ot=-1;var ha=function(){function e(t,n){(0,s.Z)(this,e),this.comparator=t,this.root=n||va.EMPTY}return(0,c.Z)(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,va.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,va.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new da(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new da(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new da(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new da(this.root,e,this.comparator,!0)}}]),e}(),da=function(){function e(t,n,r,i){(0,s.Z)(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return(0,c.Z)(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),va=function(){function e(t,n,r,i,a){(0,s.Z)(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return(0,c.Z)(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw li();if(this.right.isRed())throw li();var e=this.left.check();if(e!==this.right.check())throw li();return e+(this.isRed()?0:1)}}]),e}();va.EMPTY=null,va.RED=!0,va.BLACK=!1,va.EMPTY=new(function(){function e(){(0,s.Z)(this,e),this.size=0}return(0,c.Z)(e,[{key:"key",get:function(){throw li()}},{key:"value",get:function(){throw li()}},{key:"color",get:function(){throw li()}},{key:"left",get:function(){throw li()}},{key:"right",get:function(){throw li()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new va(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var pa=function(){function e(t){(0,s.Z)(this,e),this.comparator=t,this.data=new ha(this.comparator)}return(0,c.Z)(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new ya(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new ya(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),ya=function(){function e(t){(0,s.Z)(this,e),this.iter=t}return(0,c.Z)(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function ga(e){return e.hasNext()?e.getNext():void 0}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ma=function(){function e(t){(0,s.Z)(this,e),this.fields=t,t.sort(Mi.comparator)}return(0,c.Z)(e,[{key:"unionWith",value:function(t){var n,r=new pa(Mi.comparator),i=(0,o.Z)(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(l){i.e(l)}finally{i.f()}var u,s=(0,o.Z)(t);try{for(s.s();!(u=s.n()).done;){var c=u.value;r=r.add(c)}}catch(l){s.e(l)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=(0,o.Z)(this.fields);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.isPrefixOf(e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Ai(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wa(){return"undefined"!=typeof atob}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ka=function(e){function t(e){(0,s.Z)(this,t),this.binaryString=e}return(0,c.Z)(t,[{key:e,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Ti(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=atob(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}(Symbol.iterator);ka.EMPTY_BYTE_STRING=new ka("");var ba=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xa(e){if(fi(!!e),"string"==typeof e){var t=0,n=ba.exec(e);if(fi(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ea(e.seconds),nanos:Ea(e.nanos)}}function Ea(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function _a(e){return"string"==typeof e?ka.fromBase64String(e):ka.fromUint8Array(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ia(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Sa(e){var t=e.mapValue.fields.__previous_value__;return Ia(t)?Sa(t):t}function Ta(e){var t=xa(e.mapValue.fields.__local_write_time__.timestampValue);return new Ci(t.seconds,t.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Aa=(0,c.Z)((function e(t,n,r,i,a,o,u,c){(0,s.Z)(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=c})),Za=function(){function e(t,n){(0,s.Z)(this,e),this.projectId=t,this.database=n||"(default)"}return(0,c.Z)(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ca(e){return null==e}function Da(e){return 0===e&&1/e==-1/0}function Oa(e){return"number"==typeof e&&Number.isInteger(e)&&!Da(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Na={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ra={nullValue:"NULL_VALUE"};function Ma(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ia(e)?4:Qa(e)?9007199254740991:10:li()}function La(e,t){if(e===t)return!0;var n=Ma(e);if(n!==Ma(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ta(e).isEqual(Ta(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=xa(e.timestampValue),r=xa(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return _a(e.bytesValue).isEqual(_a(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ea(e.geoPointValue.latitude)===Ea(t.geoPointValue.latitude)&&Ea(e.geoPointValue.longitude)===Ea(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ea(e.integerValue)===Ea(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Ea(e.doubleValue),r=Ea(t.doubleValue);return n===r?Da(n)===Da(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ai(e.arrayValue.values||[],t.arrayValue.values||[],La);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ca(n)!==ca(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!La(n[i],r[i])))return!1;return!0}(e,t);default:return li()}}function Pa(e,t){return void 0!==(e.values||[]).find((function(e){return La(e,t)}))}function Fa(e,t){if(e===t)return 0;var n=Ma(e),r=Ma(t);if(n!==r)return Ti(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ti(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Ea(e.integerValue||e.doubleValue),r=Ea(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Va(e.timestampValue,t.timestampValue);case 4:return Va(Ta(e),Ta(t));case 5:return Ti(e.stringValue,t.stringValue);case 6:return function(e,t){var n=_a(e),r=_a(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Ti(n[i],r[i]);if(0!==a)return a}return Ti(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Ti(Ea(e.latitude),Ea(t.latitude));return 0!==n?n:Ti(Ea(e.longitude),Ea(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Fa(n[i],r[i]);if(a)return a}return Ti(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Na.mapValue&&t===Na.mapValue)return 0;if(e===Na.mapValue)return 1;if(t===Na.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Ti(r[o],a[o]);if(0!==u)return u;var s=Fa(n[r[o]],i[a[o]]);if(0!==s)return s}return Ti(r.length,a.length)}(e.mapValue,t.mapValue);default:throw li()}}function Va(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ti(e,t);var n=xa(e),r=xa(t),i=Ti(n.seconds,r.seconds);return 0!==i?i:Ti(n.nanos,r.nanos)}function ja(e){return Ua(e)}function Ua(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=xa(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?_a(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Li.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=(0,o.Z)(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Ua(a)}}catch(u){i.e(u)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n=Object.keys(e.fields||{}).sort(),r="{",i=!0,a=(0,o.Z)(n);try{for(a.s();!(t=a.n()).done;){var u=t.value;i?i=!1:r+=",",r+="".concat(u,":").concat(Ua(e.fields[u]))}}catch(s){a.e(s)}finally{a.f()}return r+"}"}(e.mapValue):li();var t,n}function Ba(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function qa(e){return!!e&&"integerValue"in e}function Ga(e){return!!e&&"arrayValue"in e}function Ka(e){return!!e&&"nullValue"in e}function za(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ha(e){return!!e&&"mapValue"in e}function Wa(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==(0,u.Z)(e.timestampValue))return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return la(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Wa(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Wa(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Qa(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ja(e){return"nullValue"in e?Ra:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Ba(Za.empty(),Li.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:li()}function Ya(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Ba(Za.empty(),Li.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Na:li()}function $a(e,t){var n=Fa(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Xa(e,t){var n=Fa(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eo=function(){function e(t){(0,s.Z)(this,e),this.value=t}return(0,c.Z)(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Ha(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wa(t)}},{key:"setAll",value:function(e){var t=this,n=Mi.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Wa(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Ha(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return La(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Ha(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){la(t,(function(t,n){return e[t]=n}));var r,i=(0,o.Z)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(u){i.e(u)}finally{i.f()}}},{key:"clone",value:function(){return new e(Wa(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function to(e){var t=[];return la(e.fields,(function(e,n){var r=new Mi([e]);if(Ha(n)){var i=to(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,u=(0,o.Z)(i);try{for(u.s();!(a=u.n()).done;){var s=a.value;t.push(r.child(s))}}catch(c){u.e(c)}finally{u.f()}}}else t.push(r)})),new ma(t)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var no=function(){function e(t,n,r,i,a,o){(0,s.Z)(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return(0,c.Z)(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=eo.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=eo.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Di.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Di.min(),Di.min(),eo.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Di.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Di.min(),eo.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Di.min(),eo.empty(),2)}}]),e}(),ro=(0,c.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;(0,s.Z)(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ut=null}));
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function io(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new ro(e,t,n,r,i,a,o)}function ao(e){var t=di(e);if(null===t.ut){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+ja(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Ca(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return ja(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return ja(e)})).join(",")),t.ut=n}return t.ut}function oo(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(ja(t.value));var t})).join(", "),"]")),Ca(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return ja(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return ja(e)})).join(",")),"Target(".concat(t,")")}function uo(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!_o(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!La(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!So(e.startAt,t.startAt)&&So(e.endAt,t.endAt)}function so(e){return Li.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function co(e,t){return e.filters.filter((function(e){return e instanceof ho&&e.field.isEqual(t)}))}function lo(e,t,n){var r,i=Ra,a=!0,u=(0,o.Z)(co(e,t));try{for(u.s();!(r=u.n()).done;){var s=r.value,c=Ra,l=!0;switch(s.op){case"<":case"<=":c=Ja(s.value);break;case"==":case"in":case">=":c=s.value;break;case">":c=s.value,l=!1;break;case"!=":case"not-in":c=Ra}$a({value:i,inclusive:a},{value:c,inclusive:l})<0&&(i=c,a=l)}}catch(d){u.e(d)}finally{u.f()}if(null!==n)for(var f=0;f<e.orderBy.length;++f)if(e.orderBy[f].field.isEqual(t)){var h=n.position[f];$a({value:i,inclusive:a},{value:h,inclusive:n.inclusive})<0&&(i=h,a=n.inclusive);break}return{value:i,inclusive:a}}function fo(e,t,n){var r,i=Na,a=!0,u=(0,o.Z)(co(e,t));try{for(u.s();!(r=u.n()).done;){var s=r.value,c=Na,l=!0;switch(s.op){case">=":case">":c=Ya(s.value),l=!1;break;case"==":case"in":case"<=":c=s.value;break;case"<":c=s.value,l=!1;break;case"!=":case"not-in":c=Na}Xa({value:i,inclusive:a},{value:c,inclusive:l})>0&&(i=c,a=l)}}catch(d){u.e(d)}finally{u.f()}if(null!==n)for(var f=0;f<e.orderBy.length;++f)if(e.orderBy[f].field.isEqual(t)){var h=n.position[f];Xa({value:i,inclusive:a},{value:h,inclusive:n.inclusive})>0&&(i=h,a=n.inclusive);break}return{value:i,inclusive:a}}var ho=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r,i){var a;return(0,s.Z)(this,n),a=t.call(this),a.field=e,a.op=r,a.value=i,a}return(0,c.Z)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(Fa(t,this.value)):null!==t&&Ma(this.value)===Ma(t)&&this.at(Fa(t,this.value))}},{key:"at",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return li()}}},{key:"ht",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,r):new vo(e,t,r):"array-contains"===t?new mo(e,r):"in"===t?new wo(e,r):"not-in"===t?new ko(e,r):"array-contains-any"===t?new bo(e,r):new n(e,t,r)}},{key:"ct",value:function(e,t,n){return"in"===t?new po(e,n):new yo(e,n)}}]),n}(function(){function e(){(0,s.Z)(this,e)}return(0,c.Z)(e)}()),vo=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r,i){var a;return(0,s.Z)(this,n),a=t.call(this,e,r,i),a.key=Li.fromName(i.referenceValue),a}return(0,c.Z)(n,[{key:"matches",value:function(e){var t=Li.comparator(e.key,this.key);return this.at(t)}}]),n}(ho),po=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r){var i;return(0,s.Z)(this,n),i=t.call(this,e,"in",r),i.keys=go("in",r),i}return(0,c.Z)(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(ho),yo=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r){var i;return(0,s.Z)(this,n),i=t.call(this,e,"not-in",r),i.keys=go("not-in",r),i}return(0,c.Z)(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(ho);function go(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Li.fromName(e.referenceValue)}))}var mo=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r){return(0,s.Z)(this,n),t.call(this,e,"array-contains",r)}return(0,c.Z)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Ga(t)&&Pa(t.arrayValue,this.value)}}]),n}(ho),wo=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r){return(0,s.Z)(this,n),t.call(this,e,"in",r)}return(0,c.Z)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Pa(this.value.arrayValue,t)}}]),n}(ho),ko=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r){return(0,s.Z)(this,n),t.call(this,e,"not-in",r)}return(0,c.Z)(n,[{key:"matches",value:function(e){if(Pa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Pa(this.value.arrayValue,t)}}]),n}(ho),bo=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r){return(0,s.Z)(this,n),t.call(this,e,"array-contains-any",r)}return(0,c.Z)(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Ga(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Pa(t.value.arrayValue,e)}))}}]),n}(ho),xo=(0,c.Z)((function e(t,n){(0,s.Z)(this,e),this.position=t,this.inclusive=n})),Eo=(0,c.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";(0,s.Z)(this,e),this.field=t,this.dir=n}));function _o(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Io(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Li.comparator(Li.fromName(o.referenceValue),n.key):Fa(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function So(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!La(e.position[n],t.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var To=(0,c.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;(0,s.Z)(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=c,this.lt=null,this.ft=null,this.startAt,this.endAt}));function Ao(e,t,n,r,i,a,o,u){return new To(e,t,n,r,i,a,o,u)}function Zo(e){return new To(e)}function Co(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Do(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Oo(e){var t,n=(0,o.Z)(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.ht())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function No(e){return null!==e.collectionGroup}function Ro(e){var t=di(e);if(null===t.lt){t.lt=[];var n=Oo(t),r=Do(t);if(null!==n&&null===r)n.isKeyField()||t.lt.push(new Eo(n)),t.lt.push(new Eo(Mi.keyField(),"asc"));else{var i,a=!1,u=(0,o.Z)(t.explicitOrderBy);try{for(u.s();!(i=u.n()).done;){var s=i.value;t.lt.push(s),s.field.isKeyField()&&(a=!0)}}catch(l){u.e(l)}finally{u.f()}if(!a){var c=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new Eo(Mi.keyField(),c))}}}return t.lt}function Mo(e){var t=di(e);if(!t.ft)if("F"===t.limitType)t.ft=io(t.path,t.collectionGroup,Ro(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=(0,o.Z)(Ro(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,u="desc"===a.dir?"asc":"desc";r.push(new Eo(a.field,u))}}catch(l){i.e(l)}finally{i.f()}var s=t.endAt?new xo(t.endAt.position,t.endAt.inclusive):null,c=t.startAt?new xo(t.startAt.position,t.startAt.inclusive):null;t.ft=io(t.path,t.collectionGroup,r,t.filters,t.limit,s,c)}return t.ft}function Lo(e,t,n){return new To(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Po(e,t){return uo(Mo(e),Mo(t))&&e.limitType===t.limitType}function Fo(e){return"".concat(ao(Mo(e)),"|lt:").concat(e.limitType)}function Vo(e){return"Query(target=".concat(oo(Mo(e)),"; limitType=").concat(e.limitType,")")}function jo(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Li.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=(0,o.Z)(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=(0,o.Z)(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.matches(t))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Io(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Ro(e),t))&&!(e.endAt&&!function(e,t,n){var r=Io(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Ro(e),t))}(e,t)}function Uo(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Bo(e){return function(t,n){var r,i=!1,a=(0,o.Z)(Ro(e));try{for(a.s();!(r=a.n()).done;){var u=r.value,s=qo(u,t,n);if(0!==s)return s;i=i||u.field.isKeyField()}}catch(c){a.e(c)}finally{a.f()}return 0}}function qo(e,t,n){var r=e.field.isKeyField()?Li.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Fa(r,i):li()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return li()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Go(e,t){if(e.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Da(t)?"-0":t}}function Ko(e){return{integerValue:""+e}}function zo(e,t){return Oa(t)?Ko(t):Go(e,t)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ho=(0,c.Z)((function e(){(0,s.Z)(this,e),this._=void 0}));function Wo(e,t,n){return e instanceof Yo?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof $o?Xo(e,t):e instanceof eu?tu(e,t):function(e,t){var n=Jo(e,t),r=ru(n)+ru(e._t);return qa(n)&&qa(e._t)?Ko(r):Go(e.wt,r)}(e,t)}function Qo(e,t,n){return e instanceof $o?Xo(e,t):e instanceof eu?tu(e,t):n}function Jo(e,t){return e instanceof nu?qa(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Yo=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,s.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n)}(Ho),$o=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e){var r;return(0,s.Z)(this,n),r=t.call(this),r.elements=e,r}return(0,c.Z)(n)}(Ho);function Xo(e,t){var n,r=iu(t),i=(0,o.Z)(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return La(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(u){i.e(u)}finally{i.f()}return{arrayValue:{values:r}}}var eu=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e){var r;return(0,s.Z)(this,n),r=t.call(this),r.elements=e,r}return(0,c.Z)(n)}(Ho);function tu(e,t){var n,r=iu(t),i=(0,o.Z)(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!La(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(u){i.e(u)}finally{i.f()}return{arrayValue:{values:r}}}var nu=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r){var i;return(0,s.Z)(this,n),i=t.call(this),i.wt=e,i._t=r,i}return(0,c.Z)(n)}(Ho);function ru(e){return Ea(e.integerValue||e.doubleValue)}function iu(e){return Ga(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var au=(0,c.Z)((function e(t,n){(0,s.Z)(this,e),this.field=t,this.transform=n}));function ou(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof $o&&t instanceof $o||e instanceof eu&&t instanceof eu?Ai(e.elements,t.elements,La):e instanceof nu&&t instanceof nu?La(e._t,t._t):e instanceof Yo&&t instanceof Yo}(e.transform,t.transform)}var uu=(0,c.Z)((function e(t,n){(0,s.Z)(this,e),this.version=t,this.transformResults=n})),su=function(){function e(t,n){(0,s.Z)(this,e),this.updateTime=t,this.exists=n}return(0,c.Z)(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function cu(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var lu=(0,c.Z)((function e(){(0,s.Z)(this,e)}));function fu(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Eu(e.key,su.none()):new yu(e.key,e.data,su.none());var n,r=e.data,i=eo.empty(),a=new pa(Mi.comparator),u=(0,o.Z)(t.fields);try{for(u.s();!(n=u.n()).done;){var s=n.value;if(!a.has(s)){var c=r.field(s);null===c&&s.length>1&&(s=s.popLast(),c=r.field(s)),null===c?i["delete"](s):i.set(s,c),a=a.add(s)}}}catch(l){u.e(l)}finally{u.f()}return new gu(e.key,i,new ma(a.toArray()),su.none())}function hu(e,t,n){e instanceof yu?function(e,t,n){var r=e.value.clone(),i=wu(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof gu?function(e,t,n){if(cu(e.precondition,t)){var r=wu(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(mu(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function du(e,t,n,r){return e instanceof yu?function(e,t,n,r){if(!cu(e.precondition,t))return n;var i=e.value.clone(),a=ku(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof gu?function(e,t,n,r){if(!cu(e.precondition,t))return n;var i=ku(e.fieldTransforms,r,t),a=t.data;return a.setAll(mu(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return cu(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function vu(e,t){var n,r=null,i=(0,o.Z)(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,u=t.data.field(a.field),s=Jo(a.transform,u||null);null!=s&&(null===r&&(r=eo.empty()),r.set(a.field,s))}}catch(c){i.e(c)}finally{i.f()}return r||null}function pu(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ai(e,t,(function(e,t){return ou(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var yu=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return(0,s.Z)(this,n),a=t.call(this),a.key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return(0,c.Z)(n,[{key:"getFieldMask",value:function(){return null}}]),n}(lu),gu=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return(0,s.Z)(this,n),o=t.call(this),o.key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return(0,c.Z)(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(lu);function mu(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function wu(e,t,n){var r=new Map;fi(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Qo(o,u,n[i]))}return r}function ku(e,t,n){var r,i=new Map,a=(0,o.Z)(e);try{for(a.s();!(r=a.n()).done;){var u=r.value,s=u.transform,c=n.data.field(u.field);i.set(u.field,Wo(s,c,t))}}catch(l){a.e(l)}finally{a.f()}return i}var bu,xu,Eu=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r){var i;return(0,s.Z)(this,n),i=t.call(this),i.key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return(0,c.Z)(n,[{key:"getFieldMask",value:function(){return null}}]),n}(lu),_u=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r){var i;return(0,s.Z)(this,n),i=t.call(this),i.key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return(0,c.Z)(n,[{key:"getFieldMask",value:function(){return null}}]),n}(lu),Iu=(0,c.Z)((function e(t){(0,s.Z)(this,e),this.count=t}));function Su(e){switch(e){default:return li();case vi.CANCELLED:case vi.UNKNOWN:case vi.DEADLINE_EXCEEDED:case vi.RESOURCE_EXHAUSTED:case vi.INTERNAL:case vi.UNAVAILABLE:case vi.UNAUTHENTICATED:return!1;case vi.INVALID_ARGUMENT:case vi.NOT_FOUND:case vi.ALREADY_EXISTS:case vi.PERMISSION_DENIED:case vi.FAILED_PRECONDITION:case vi.ABORTED:case vi.OUT_OF_RANGE:case vi.UNIMPLEMENTED:case vi.DATA_LOSS:return!0}}function Tu(e){if(void 0===e)return ui("GRPC error has no .code"),vi.UNKNOWN;switch(e){case bu.OK:return vi.OK;case bu.CANCELLED:return vi.CANCELLED;case bu.UNKNOWN:return vi.UNKNOWN;case bu.DEADLINE_EXCEEDED:return vi.DEADLINE_EXCEEDED;case bu.RESOURCE_EXHAUSTED:return vi.RESOURCE_EXHAUSTED;case bu.INTERNAL:return vi.INTERNAL;case bu.UNAVAILABLE:return vi.UNAVAILABLE;case bu.UNAUTHENTICATED:return vi.UNAUTHENTICATED;case bu.INVALID_ARGUMENT:return vi.INVALID_ARGUMENT;case bu.NOT_FOUND:return vi.NOT_FOUND;case bu.ALREADY_EXISTS:return vi.ALREADY_EXISTS;case bu.PERMISSION_DENIED:return vi.PERMISSION_DENIED;case bu.FAILED_PRECONDITION:return vi.FAILED_PRECONDITION;case bu.ABORTED:return vi.ABORTED;case bu.OUT_OF_RANGE:return vi.OUT_OF_RANGE;case bu.UNIMPLEMENTED:return vi.UNIMPLEMENTED;case bu.DATA_LOSS:return vi.DATA_LOSS;default:return li()}}(xu=bu||(bu={}))[xu.OK=0]="OK",xu[xu.CANCELLED=1]="CANCELLED",xu[xu.UNKNOWN=2]="UNKNOWN",xu[xu.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xu[xu.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xu[xu.NOT_FOUND=5]="NOT_FOUND",xu[xu.ALREADY_EXISTS=6]="ALREADY_EXISTS",xu[xu.PERMISSION_DENIED=7]="PERMISSION_DENIED",xu[xu.UNAUTHENTICATED=16]="UNAUTHENTICATED",xu[xu.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xu[xu.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xu[xu.ABORTED=10]="ABORTED",xu[xu.OUT_OF_RANGE=11]="OUT_OF_RANGE",xu[xu.UNIMPLEMENTED=12]="UNIMPLEMENTED",xu[xu.INTERNAL=13]="INTERNAL",xu[xu.UNAVAILABLE=14]="UNAVAILABLE",xu[xu.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Au=function(){function e(t,n){(0,s.Z)(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return(0,c.Z)(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=(0,o.Z)(n);try{for(i.s();!(r=i.n()).done;){var a=(0,p.Z)(r.value,2),u=a[0],s=a[1];if(this.equalsFn(u,e))return s}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){la(this.inner,(function(t,n){var r,i=(0,o.Z)(n);try{for(i.s();!(r=i.n()).done;){var a=(0,p.Z)(r.value,2),u=a[0],s=a[1];e(u,s)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return fa(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Zu=new ha(Li.comparator);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(){return Zu}var Du=new ha(Li.comparator);function Ou(){for(var e=Du,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Nu(e){var t=Du;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Ru(){return Lu()}function Mu(){return Lu()}function Lu(){return new Au((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Pu=new ha(Li.comparator),Fu=new pa(Li.comparator);function Vu(){for(var e=Fu,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var ju=new pa(Ti);function Uu(){return ju}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bu=function(){function e(t,n,r,i,a){(0,s.Z)(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return(0,c.Z)(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,qu.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Di.min(),r,Uu(),Cu(),Vu())}}]),e}(),qu=function(){function e(t,n,r,i,a){(0,s.Z)(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return(0,c.Z)(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(ka.EMPTY_BYTE_STRING,n,Vu(),Vu(),Vu())}}]),e}(),Gu=(0,c.Z)((function e(t,n,r,i){(0,s.Z)(this,e),this.gt=t,this.removedTargetIds=n,this.key=r,this.yt=i})),Ku=(0,c.Z)((function e(t,n){(0,s.Z)(this,e),this.targetId=t,this.It=n})),zu=(0,c.Z)((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ka.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;(0,s.Z)(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Hu=function(){function e(){(0,s.Z)(this,e),this.Tt=0,this.Et=Ju(),this.At=ka.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}return(0,c.Z)(e,[{key:"current",get:function(){return this.Rt}},{key:"resumeToken",get:function(){return this.At}},{key:"Pt",get:function(){return 0!==this.Tt}},{key:"vt",get:function(){return this.bt}},{key:"Vt",value:function(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}},{key:"St",value:function(){var e=Vu(),t=Vu(),n=Vu();return this.Et.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:li()}})),new qu(this.At,this.Rt,e,t,n)}},{key:"Dt",value:function(){this.bt=!1,this.Et=Ju()}},{key:"Ct",value:function(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}},{key:"xt",value:function(e){this.bt=!0,this.Et=this.Et.remove(e)}},{key:"Nt",value:function(){this.Tt+=1}},{key:"kt",value:function(){this.Tt-=1}},{key:"Ot",value:function(){this.bt=!0,this.Rt=!0}}]),e}(),Wu=function(){function e(t){(0,s.Z)(this,e),this.Mt=t,this.Ft=new Map,this.$t=Cu(),this.Bt=Qu(),this.Lt=new pa(Ti)}return(0,c.Z)(e,[{key:"Ut",value:function(e){var t,n=(0,o.Z)(e.gt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.yt&&e.yt.isFoundDocument()?this.qt(r,e.yt):this.Kt(r,e.key,e.yt)}}catch(s){n.e(s)}finally{n.f()}var i,a=(0,o.Z)(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var u=i.value;this.Kt(u,e.key,e.yt)}}catch(s){a.e(s)}finally{a.f()}}},{key:"Gt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Qt(n);switch(e.state){case 0:t.jt(n)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||t.removeTarget(n);break;case 3:t.jt(n)&&(r.Ot(),r.Vt(e.resumeToken));break;case 4:t.jt(n)&&(t.Wt(n),r.Vt(e.resumeToken));break;default:li()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((function(e,r){n.jt(r)&&t(r)}))}},{key:"zt",value:function(e){var t=e.targetId,n=e.It.count,r=this.Ht(t);if(r){var i=r.target;if(so(i))if(0===n){var a=new Li(i.path);this.Kt(t,a,no.newNoDocument(a,Di.min()))}else fi(1===n);else this.Jt(t)!==n&&(this.Wt(t),this.Lt=this.Lt.add(t))}}},{key:"Yt",value:function(e){var t=this,n=new Map;this.Ft.forEach((function(r,i){var a=t.Ht(i);if(a){if(r.current&&so(a.target)){var o=new Li(a.target.path);null!==t.$t.get(o)||t.Xt(i,o)||t.Kt(i,o,no.newNoDocument(o,e))}r.vt&&(n.set(i,r.St()),r.Dt())}}));var r=Vu();this.Bt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Ht(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.$t.forEach((function(t,n){return n.setReadTime(e)}));var i=new Bu(e,n,this.Lt,this.$t,r);return this.$t=Cu(),this.Bt=Qu(),this.Lt=new pa(Ti),i}},{key:"qt",value:function(e,t){if(this.jt(e)){var n=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,n),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}}},{key:"Kt",value:function(e,t,n){if(this.jt(e)){var r=this.Qt(e);this.Xt(e,t)?r.Ct(t,1):r.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t)["delete"](e)),n&&(this.$t=this.$t.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Ft["delete"](e)}},{key:"Jt",value:function(e){var t=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Nt",value:function(e){this.Qt(e).Nt()}},{key:"Qt",value:function(e){var t=this.Ft.get(e);return t||(t=new Hu,this.Ft.set(e,t)),t}},{key:"Zt",value:function(e){var t=this.Bt.get(e);return t||(t=new pa(Ti),this.Bt=this.Bt.insert(e,t)),t}},{key:"jt",value:function(e){var t=null!==this.Ht(e);return t||oi("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Ht",value:function(e){var t=this.Ft.get(e);return t&&t.Pt?null:this.Mt.te(e)}},{key:"Wt",value:function(e){var t=this;this.Ft.set(e,new Hu),this.Mt.getRemoteKeysForTarget(e).forEach((function(n){t.Kt(e,n,null)}))}},{key:"Xt",value:function(e,t){return this.Mt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Qu(){return new ha(Li.comparator)}function Ju(){return new ha(Li.comparator)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yu=function(){var e={asc:"ASCENDING",desc:"DESCENDING"};return e}(),$u=function(){var e={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};return e}(),Xu=(0,c.Z)((function e(t,n){(0,s.Z)(this,e),this.databaseId=t,this.dt=n}));function es(e,t){return e.dt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function ts(e,t){return e.dt?t.toBase64():t.toUint8Array()}function ns(e,t){return es(e,t.toTimestamp())}function rs(e){return fi(!!e),Di.fromTimestamp(function(e){var t=xa(e);return new Ci(t.seconds,t.nanos)}(e))}function is(e,t){return function(e){return new Ni(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function as(e){var t=Ni.fromString(e);return fi(Ds(t)),t}function os(e,t){return is(e.databaseId,t.path)}function us(e,t){var n=as(t);if(n.get(1)!==e.databaseId.projectId)throw new pi(vi.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new pi(vi.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Li(fs(n))}function ss(e,t){return is(e.databaseId,t)}function cs(e){var t=as(e);return 4===t.length?Ni.emptyPath():fs(t)}function ls(e){return new Ni(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function fs(e){return fi(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function hs(e,t,n){return{name:os(e,t),fields:n.value.mapValue.fields}}function ds(e,t,n){var r=us(e,t.name),i=rs(t.updateTime),a=new eo({mapValue:{fields:t.fields}}),o=no.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function vs(e,t){return"found"in t?function(e,t){fi(!!t.found),t.found.name,t.found.updateTime;var n=us(e,t.found.name),r=rs(t.found.updateTime),i=new eo({mapValue:{fields:t.found.fields}});return no.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){fi(!!t.missing),fi(!!t.readTime);var n=us(e,t.missing),r=rs(t.readTime);return no.newNoDocument(n,r)}(e,t):li()}function ps(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:li()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.dt?(fi(void 0===t||"string"==typeof t),ka.fromBase64String(t||"")):(fi(void 0===t||t instanceof Uint8Array),ka.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?vi.UNKNOWN:Tu(e.code);return new pi(t,e.message||"")}(o);n=new zu(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=us(e,s.document.name),l=rs(s.document.updateTime),f=new eo({mapValue:{fields:s.document.fields}}),h=no.newFoundDocument(c,l,f),d=s.targetIds||[],v=s.removedTargetIds||[];n=new Gu(d,v,h.key,h)}else if("documentDelete"in t){t.documentDelete;var p=t.documentDelete;p.document;var y=us(e,p.document),g=p.readTime?rs(p.readTime):Di.min(),m=no.newNoDocument(y,g),w=p.removedTargetIds||[];n=new Gu([],w,m.key,m)}else if("documentRemove"in t){t.documentRemove;var k=t.documentRemove;k.document;var b=us(e,k.document),x=k.removedTargetIds||[];n=new Gu([],x,b,null)}else{if(!("filter"in t))return li();t.filter;var E=t.filter;E.targetId;var _=E.count||0,I=new Iu(_),S=E.targetId;n=new Ku(S,I)}return n}function ys(e,t){var n;if(t instanceof yu)n={update:hs(e,t.key,t.value)};else if(t instanceof Eu)n={delete:os(e,t.key)};else if(t instanceof gu)n={update:hs(e,t.key,t.data),updateMask:Cs(t.fieldMask)};else{if(!(t instanceof _u))return li();n={verify:os(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Yo)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof $o)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof eu)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof nu)return{fieldPath:t.field.canonicalString(),increment:n._t};throw li()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:ns(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:li()}(e,t.precondition)),n}function gs(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?su.updateTime(rs(e.updateTime)):void 0!==e.exists?su.exists(e.exists):su.none()}(t.currentDocument):su.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)fi("REQUEST_TIME"===t.setToServerValue),n=new Yo;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new $o(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new eu(i)}else"increment"in t?n=new nu(e,t.increment):li();var a=Mi.fromServerFormat(t.fieldPath);return new au(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=us(e,t.update.name),a=new eo({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new ma(t.map((function(e){return Mi.fromServerFormat(e)})))}(t.updateMask);return new gu(i,a,o,n,r)}return new yu(i,a,n,r)}if(t["delete"]){var u=us(e,t["delete"]);return new Eu(u,n)}if(t.verify){var s=us(e,t.verify);return new _u(s,n)}return li()}function ms(e,t){return e&&e.length>0?(fi(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?rs(e.updateTime):rs(t);return n.isEqual(Di.min())&&(n=rs(t)),new uu(n,e.transformResults||[])}(e,t)}))):[]}function ws(e,t){return{documents:[ss(e,t.path)]}}function ks(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=ss(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ss(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(za(e.value))return{unaryFilter:{field:Ss(e.field),op:"IS_NAN"}};if(Ka(e.value))return{unaryFilter:{field:Ss(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(za(e.value))return{unaryFilter:{field:Ss(e.field),op:"IS_NOT_NAN"}};if(Ka(e.value))return{unaryFilter:{field:Ss(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ss(e.field),op:Is(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Ss(e.field),direction:_s(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.dt||Ca(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function bs(e){var t=cs(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){fi(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Es(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Eo(Ts(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var c=null;n.limit&&(c=function(e){var t;return t="object"==(0,u.Z)(e)?e.value:e,Ca(t)?null:t}(n.limit));var l=null;n.startAt&&(l=function(e){var t=!!e.before,n=e.values||[];return new xo(n,t)}(n.startAt));var f=null;return n.endAt&&(f=function(e){var t=!e.before,n=e.values||[];return new xo(n,t)}(n.endAt)),Ao(t,i,s,o,c,"F",l,f)}function xs(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return li()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}function Es(e){return e?void 0!==e.unaryFilter?[Zs(e)]:void 0!==e.fieldFilter?[As(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Es(e)})).reduce((function(e,t){return e.concat(t)})):li():[]}function _s(e){return Yu[e]}function Is(e){return $u[e]}function Ss(e){return{fieldPath:e.canonicalString()}}function Ts(e){return Mi.fromServerFormat(e.fieldPath)}function As(e){return ho.create(Ts(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return li()}}(e.fieldFilter.op),e.fieldFilter.value)}function Zs(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Ts(e.unaryFilter.field);return ho.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Ts(e.unaryFilter.field);return ho.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ts(e.unaryFilter.field);return ho.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ts(e.unaryFilter.field);return ho.create(i,"!=",{nullValue:"NULL_VALUE"});default:return li()}}function Cs(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Ds(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Os(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Rs(t)),t=Ns(e.get(n),t);return Rs(t)}function Ns(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="";break;case"":n+="";break;default:n+=a}}return n}function Rs(e){return e+""}function Ms(e){var t=e.length;if(fi(t>=2),2===t)return fi(""===e.charAt(0)&&""===e.charAt(1)),Ni.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("",a);switch((o<0||o>n)&&li(),e.charAt(o+1)){case"":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(i+=u,s=i,i=""),r.push(s);break;case"":i+=e.substring(a,o),i+="\0";break;case"":i+=e.substring(a,o+1);break;default:li()}a=o+2}return new Ni(r)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ls=["userId","batchId"];
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ps(e,t){return[e,Os(t)]}function Fs(e,t,n){return[e,Os(t),n]}var Vs={},js=["prefixPath","collectionGroup","readTime","documentId"],Us=["prefixPath","collectionGroup","documentId"],Bs=["collectionGroup","readTime","prefixPath","documentId"],qs=["canonicalId","targetId"],Gs=["targetId","path"],Ks=["path","targetId"],zs=["collectionId","parent"],Hs=["indexId","uid"],Ws=["uid","sequenceNumber"],Qs=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Js=["indexId","uid","orderedDocumentKey"],Ys=["userId","collectionPath","documentId"],$s=["userId","collectionPath","largestBatchId"],Xs=["userId","collectionGroup","largestBatchId"],ec=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),tc=[].concat((0,m.Z)(ec),["documentOverlays"]),nc=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],rc=nc,ic=[].concat(rc,["indexConfiguration","indexState","indexEntries"]),ac=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r){var i;return(0,s.Z)(this,n),i=t.call(this),i.ee=e,i.currentSequenceNumber=r,i}return(0,c.Z)(n)}(Hi);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oc(e,t){var n=di(e);return $i.N(n.ee,t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uc=function(){function e(t,n,r,i){(0,s.Z)(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return(0,c.Z)(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&hu(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=(0,o.Z)(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=du(i,e,t,this.localWriteTime))}}catch(c){r.e(c)}finally{r.f()}var a,u=(0,o.Z)(this.mutations);try{for(u.s();!(a=u.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=du(s,e,t,this.localWriteTime))}}catch(c){u.e(c)}finally{u.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Mu();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields);u=t.has(i.key)?null:u;var s=fu(o,u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(Di.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Vu())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Ai(this.mutations,e.mutations,(function(e,t){return pu(e,t)}))&&Ai(this.baseMutations,e.baseMutations,(function(e,t){return pu(e,t)}))}}]),e}(),sc=function(){function e(t,n,r,i){(0,s.Z)(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return(0,c.Z)(e,null,[{key:"from",value:function(t,n,r){fi(t.mutations.length===r.length);for(var i=Pu,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),cc=function(){function e(t,n){(0,s.Z)(this,e),this.largestBatchId=t,this.mutation=n}return(0,c.Z)(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),lc=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Di.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Di.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ka.EMPTY_BYTE_STRING;(0,s.Z)(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return(0,c.Z)(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),fc=(0,c.Z)((function e(t){(0,s.Z)(this,e),this.ne=t}));function hc(e,t){var n;if(t.document)n=ds(e.ne,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Li.fromSegments(t.noDocument.path),i=yc(t.noDocument.readTime);n=no.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return li();var a=Li.fromSegments(t.unknownDocument.path),o=yc(t.unknownDocument.version);n=no.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Ci(e[0],e[1]);return Di.fromTimestamp(t)}(t.readTime)),n}function dc(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:vc(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:os(e,t.key),fields:t.data.value.mapValue.fields,updateTime:es(e,t.version.toTimestamp())}}(e.ne,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:pc(t.version)};else{if(!t.isUnknownDocument())return li();r.unknownDocument={path:n.path.toArray(),version:pc(t.version)}}return r}function vc(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function pc(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function yc(e){var t=new Ci(e.seconds,e.nanoseconds);return Di.fromTimestamp(t)}function gc(e,t){for(var n=(t.baseMutations||[]).map((function(t){return gs(e.ne,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return gs(e.ne,t)})),u=Ci.fromMillis(t.localWriteTimeMs);return new uc(t.batchId,u,n,o)}function mc(e){var t,n,r=yc(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?yc(e.lastLimboFreeSnapshotVersion):Di.min();return void 0!==e.query.documents?(fi(1===(n=e.query).documents.length),t=Mo(Zo(cs(n.documents[0])))):t=function(e){return Mo(bs(e))}(e.query),new lc(t,e.targetId,0,e.lastListenSequenceNumber,r,i,ka.fromBase64String(e.resumeToken))}function wc(e,t){var n,r=pc(t.snapshotVersion),i=pc(t.lastLimboFreeSnapshotVersion);n=so(t.target)?ws(e.ne,t.target):ks(e.ne,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:ao(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function kc(e){var t=bs({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Lo(t,t.limit,"L"):t}function bc(e,t){return new cc(t.largestBatchId,gs(e.ne,t.overlayMutation))}function xc(e,t){var n=t.path.lastSegment();return[e,Os(t.path.popLast()),n]}function Ec(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:pc(r.readTime),documentKey:Os(r.documentKey.path),largestBatchId:r.largestBatchId}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _c=function(){function e(){(0,s.Z)(this,e)}return(0,c.Z)(e,[{key:"getBundleMetadata",value:function(e,t){return Ic(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:yc(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Ic(e).put({bundleId:(n=t).id,createTime:pc(rs(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Sc(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:kc(t.bundledQuery),readTime:yc(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Sc(e).put(function(e){return{name:e.name,readTime:pc(rs(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Ic(e){return oc(e,"bundles")}function Sc(e){return oc(e,"namedQueries")}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tc=function(){function e(t,n){(0,s.Z)(this,e),this.wt=t,this.userId=n}return(0,c.Z)(e,[{key:"getOverlay",value:function(e,t){var n=this;return Ac(e).get(xc(this.userId,t)).next((function(e){return e?bc(n.wt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Ru();return Ji.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new cc(t,a);i.push(r.ie(e,o))})),Ji.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Os(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Ac(e).W("collectionPathOverlayIndex",i))})),Ji.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Ru(),a=Os(t),u=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Ac(e).K("collectionPathOverlayIndex",u).next((function(e){var t,n=(0,o.Z)(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,u=bc(r.wt,a);i.set(u.getKey(),u)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Ru(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Ac(e).J({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=bc(a.wt,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ie",value:function(e,t){return Ac(e).put(function(e,t,n){var r=xc(t,n.mutation.key),i=(0,p.Z)(r,3),a=(i[0],i[1]),o=i[2];return{userId:t,collectionPath:a,documentId:o,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:ys(e.ne,n.mutation)}}(this.wt,this.userId,t))}}],[{key:"se",value:function(t,n){var r=n.uid||"";return new e(t,r)}}]),e}();function Ac(e){return oc(e,"documentOverlays")}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zc=function(){function e(){(0,s.Z)(this,e)}return(0,c.Z)(e,[{key:"re",value:function(e,t){this.oe(e,t),t.ue()}},{key:"oe",value:function(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(Ea(e.integerValue));else if("doubleValue"in e){var n=Ea(e.doubleValue);isNaN(n)?this.ce(t,13):(this.ce(t,15),Da(n)?t.ae(0):t.ae(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he("".concat(r.seconds||"")),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(_a(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ce(t,45),t.ae(i.latitude||0),t.ae(i.longitude||0)}else"mapValue"in e?Qa(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):li()}},{key:"le",value:function(e,t){this.ce(t,25),this.ge(e,t)}},{key:"ge",value:function(e,t){t.he(e)}},{key:"we",value:function(e,t){var n=e.fields||{};this.ce(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.le(a,t),this.oe(n[a],t)}}},{key:"me",value:function(e,t){var n=e.values||[];this.ce(t,50);var r,i=(0,o.Z)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.oe(a,t)}}catch(u){i.e(u)}finally{i.f()}}},{key:"_e",value:function(e,t){var n=this;this.ce(t,37),Li.fromName(e).path.forEach((function(e){n.ce(t,60),n.ge(e,t)}))}},{key:"ce",value:function(e,t){e.ae(t)}},{key:"fe",value:function(e){e.ae(2)}}]),e}();function Cc(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Dc(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Cc(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Zc.ye=new Zc;var Oc=function(){function e(){(0,s.Z)(this,e),this.buffer=new Uint8Array(1024),this.position=0}return(0,c.Z)(e,[{key:"pe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ie(n.value),n=t.next();this.Te()}},{key:"Ee",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ae(n.value),n=t.next();this.Re()}},{key:"be",value:function(e){var t,n=(0,o.Z)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ie(i);else if(i<2048)this.Ie(960|i>>>6),this.Ie(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ie(480|i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i);else{var a=r.codePointAt(0);this.Ie(240|a>>>18),this.Ie(128|63&a>>>12),this.Ie(128|63&a>>>6),this.Ie(128|63&a)}}}catch(u){n.e(u)}finally{n.f()}this.Te()}},{key:"Pe",value:function(e){var t,n=(0,o.Z)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{var a=r.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}}catch(u){n.e(u)}finally{n.f()}this.Re()}},{key:"ve",value:function(e){var t=this.Ve(e),n=Dc(t);this.Se(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"De",value:function(e){var t=this.Ve(e),n=Dc(t);this.Se(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Ce",value:function(){this.xe(255),this.xe(255)}},{key:"Ne",value:function(){this.ke(255),this.ke(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Oe",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ve",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ie",value:function(e){var t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}},{key:"Ae",value:function(e){var t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}},{key:"Te",value:function(){this.xe(0),this.xe(1)}},{key:"Re",value:function(){this.ke(0),this.ke(1)}},{key:"xe",value:function(e){this.Se(1),this.buffer[this.position++]=e}},{key:"ke",value:function(e){this.Se(1),this.buffer[this.position++]=~e}},{key:"Se",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Nc=function(){function e(t){(0,s.Z)(this,e),this.Me=t}return(0,c.Z)(e,[{key:"de",value:function(e){this.Me.pe(e)}},{key:"he",value:function(e){this.Me.be(e)}},{key:"ae",value:function(e){this.Me.ve(e)}},{key:"ue",value:function(){this.Me.Ce()}}]),e}(),Rc=function(){function e(t){(0,s.Z)(this,e),this.Me=t}return(0,c.Z)(e,[{key:"de",value:function(e){this.Me.Ee(e)}},{key:"he",value:function(e){this.Me.Pe(e)}},{key:"ae",value:function(e){this.Me.De(e)}},{key:"ue",value:function(){this.Me.Ne()}}]),e}(),Mc=function(){function e(){(0,s.Z)(this,e),this.Me=new Oc,this.Fe=new Nc(this.Me),this.$e=new Rc(this.Me)}return(0,c.Z)(e,[{key:"seed",value:function(e){this.Me.seed(e)}},{key:"Be",value:function(e){return 0===e?this.Fe:this.$e}},{key:"Oe",value:function(){return this.Me.Oe()}},{key:"reset",value:function(){this.Me.reset()}}]),e}(),Lc=function(){function e(t,n,r,i){(0,s.Z)(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return(0,c.Z)(e,[{key:"Le",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Pc(e,t){var n=e.indexId-t.indexId;return 0!==n?n:(n=Fc(e.arrayValue,t.arrayValue),0!==n?n:(n=Fc(e.directionalValue,t.directionalValue),0!==n?n:Li.comparator(e.documentKey,t.documentKey)))}function Fc(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vc=function(){function e(t){(0,s.Z)(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.qe=[];var n,r=(0,o.Z)(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value,a=i;a.ht()?this.Ke=a:this.qe.push(a)}}catch(u){r.e(u)}finally{r.f()}}return(0,c.Z)(e,[{key:"Ge",value:function(e){var t=Fi(e);if(void 0!==t&&!this.Qe(t))return!1;for(var n=Vi(e),r=0,i=0;r<n.length&&this.Qe(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Ke){var a=n[r];if(!this.je(this.Ke,a)||!this.We(this.Ue[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ue.length||!this.We(this.Ue[i++],o))return!1}return!0}},{key:"Qe",value:function(e){var t,n=(0,o.Z)(this.qe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.je(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"je",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"We",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),jc=function(){function e(){(0,s.Z)(this,e),this.ze=new Uc}return(0,c.Z)(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.ze.add(t),Ji.resolve()}},{key:"getCollectionParents",value:function(e,t){return Ji.resolve(this.ze.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Ji.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Ji.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Ji.resolve(null)}},{key:"getIndexType",value:function(e,t){return Ji.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Ji.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Ji.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Ji.resolve(Gi.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Ji.resolve(Gi.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Ji.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Ji.resolve()}}]),e}(),Uc=function(){function e(){(0,s.Z)(this,e),this.index={}}return(0,c.Z)(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new pa(Ni.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new pa(Ni.comparator)).toArray()}}]),e}(),Bc=new Uint8Array(0),qc=function(){function e(t,n){(0,s.Z)(this,e),this.user=t,this.databaseId=n,this.He=new Uc,this.Je=new Au((function(e){return ao(e)}),(function(e,t){return uo(e,t)})),this.uid=t.uid||""}return(0,c.Z)(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.He.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.He.add(t)}));var a={collectionId:r,parent:Os(i)};return Gc(e).put(a)}return Ji.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Zi(t),""],!1,!0);return Gc(e).K(r).next((function(e){var r,i=(0,o.Z)(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Ms(a.parent))}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=zc(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=Hc(e);return a.next((function(e){o.put(Ec(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=zc(e),r=Hc(e),i=Kc(e);return n["delete"](t.indexId).next((function(){return r["delete"](IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i["delete"](IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Kc(e),i=!0,a=new Map;return Ji.forEach(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Vu(),u=[];return Ji.forEach(a,(function(i,a){var s;oi("IndexedDbIndexManager","Using index ".concat((s=i,"id=".concat(s.indexId,"|cg=").concat(s.collectionGroup,"|f=").concat(s.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(ao(t)));var c=function(e,t){var n=Fi(t);if(void 0===n)return null;var r,i=(0,o.Z)(co(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(u){i.e(u)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=new Map,i=(0,o.Z)(Vi(t));try{for(i.s();!(n=i.n()).done;){var a,u=n.value,s=(0,o.Z)(co(e,u.fieldPath));try{for(s.s();!(a=s.n()).done;){var c=a.value;switch(c.op){case"==":case"in":r.set(u.fieldPath.canonicalString(),c.value);break;case"not-in":case"!=":return r.set(u.fieldPath.canonicalString(),c.value),Array.from(r.values())}}}catch(l){s.e(l)}finally{s.f()}}}catch(l){i.e(l)}finally{i.f()}return null}(a,i),f=function(e,t){var n,r=[],i=!0,a=(0,o.Z)(Vi(t));try{for(a.s();!(n=a.n()).done;){var u=n.value,s=0===u.kind?lo(e,u.fieldPath,e.startAt):fo(e,u.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(c){a.e(c)}finally{a.f()}return new xo(r,i)}(a,i),h=function(e,t){var n,r=[],i=!0,a=(0,o.Z)(Vi(t));try{for(a.s();!(n=a.n()).done;){var u=n.value,s=0===u.kind?fo(e,u.fieldPath,e.endAt):lo(e,u.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(c){a.e(c)}finally{a.f()}return new xo(r,i)}(a,i),d=n.Ze(i,a,f),v=n.Ze(i,a,h),p=n.tn(i,a,l),y=n.en(i.indexId,c,d,f.inclusive,v,h.inclusive,p);return Ji.forEach(y,(function(n){return r.j(n,t.limit).next((function(t){t.forEach((function(t){var n=Li.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),u.push(n))}))}))}))})).next((function(){return u}))}return Ji.resolve(null)}))}},{key:"Ye",value:function(e){var t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}},{key:"en",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.nn(t[s/c]):Bc,h=u.sn(e,f,n[s%c],r),d=u.rn(e,f,i[s%c],a),v=o.map((function(t){return u.sn(e,f,t,!0)}));l.push.apply(l,(0,m.Z)(u.createRange(h,d,v)))},h=0;h<s;++h)f(h);return l}},{key:"sn",value:function(e,t,n,r){var i=new Lc(e,Li.empty(),t,n);return r?i:i.Le()}},{key:"rn",value:function(e,t,n,r){var i=new Lc(e,Li.empty(),t,n);return r?i.Le():i}},{key:"Xe",value:function(e,t){var n=new Vc(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=(0,o.Z)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.Ge(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(u){i.e(u)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return Ji.forEach(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new pa(Mi.comparator),r=!1,i=(0,o.Z)(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value,u=a;u.field.isKeyField()||("array-contains"===u.op||"array-contains-any"===u.op?r=!0:n=n.add(u.field))}}catch(f){i.e(f)}finally{i.f()}var s,c=(0,o.Z)(e.orderBy);try{for(c.s();!(s=c.n()).done;){var l=s.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"on",value:function(e,t){var n,r=new Mc,i=(0,o.Z)(Vi(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,u=t.data.field(a.fieldPath);if(null==u)return null;var s=r.Be(a.kind);Zc.ye.re(u,s)}}catch(c){i.e(c)}finally{i.f()}return r.Oe()}},{key:"nn",value:function(e){var t=new Mc;return Zc.ye.re(e,t.Be(0)),t.Oe()}},{key:"un",value:function(e,t){var n=new Mc;return Zc.ye.re(Ba(this.databaseId,t),n.Be(function(e){var t=Vi(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Oe()}},{key:"tn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Mc);var i,a=0,u=(0,o.Z)(Vi(e));try{for(u.s();!(i=u.n()).done;){var s,c=i.value,l=n[a++],f=(0,o.Z)(r);try{for(f.s();!(s=f.n()).done;){var h=s.value;if(this.cn(t,c.fieldPath)&&Ga(l))r=this.an(r,c,l);else{var d=h.Be(c.kind);Zc.ye.re(l,d)}}}catch(v){f.e(v)}finally{f.f()}}}catch(v){u.e(v)}finally{u.f()}return this.hn(r)}},{key:"Ze",value:function(e,t,n){return this.tn(e,t,n.position)}},{key:"hn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Oe();return t}},{key:"an",value:function(e,t,n){var r,i=(0,m.Z)(e),a=[],u=(0,o.Z)(n.arrayValue.values||[]);try{for(u.s();!(r=u.n()).done;){var s,c=r.value,l=(0,o.Z)(i);try{for(l.s();!(s=l.n()).done;){var f=s.value,h=new Mc;h.seed(f.Oe()),Zc.ye.re(c,h.Be(t.kind)),a.push(h)}}catch(d){l.e(d)}finally{l.f()}}}catch(d){u.e(d)}finally{u.f()}return a}},{key:"cn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof ho&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=zc(e),i=Hc(e);return(t?r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.K()).next((function(e){var t=[];return Ji.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Ui(t.sequenceNumber,new Gi(yc(t.readTime),new Li(Ms(t.documentKey)),t.largestBatchId)):Ui.empty(),r=e.fields.map((function(e){var t=(0,p.Z)(e,2),n=t[0],r=t[1];return new ji(Mi.fromServerFormat(n),r)}));return new Pi(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Ti(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=zc(e),a=Hc(e);return this.ln(e).next((function(e){return i.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Ji.forEach(t,(function(t){return a.put(Ec(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Ji.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Ji.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Ji.forEach(a,(function(r){return n.fn(e,t,r).next((function(t){var a=n.dn(i,r);return t.isEqual(a)?Ji.resolve():n._n(e,i,r,t,a)}))}))}))}))}},{key:"wn",value:function(e,t,n,r){return Kc(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.un(n,t.key),documentKey:t.key.path.toArray()})}},{key:"mn",value:function(e,t,n,r){return Kc(e)["delete"]([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.un(n,t.key),t.key.path.toArray()])}},{key:"fn",value:function(e,t,n){var r=Kc(e),i=new pa(Pc);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.un(n,t)])},(function(e,r){i=i.add(new Lc(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"dn",value:function(e,t){var n=new pa(Pc),r=this.on(t,e);if(null==r)return n;var i=Fi(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Ga(a)){var u,s=(0,o.Z)(a.arrayValue.values||[]);try{for(s.s();!(u=s.n()).done;){var c=u.value;n=n.add(new Lc(t.indexId,e.key,this.nn(c),r))}}catch(l){s.e(l)}finally{s.f()}}}else n=n.add(new Lc(t.indexId,e.key,Bc,r));return n}},{key:"_n",value:function(e,t,n,r,i){var a=this;oi("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=ga(a),s=ga(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=ga(o)):l?(i(u),u=ga(a)):(u=ga(a),s=ga(o))}}(r,i,Pc,(function(r){o.push(a.wn(e,t,n,r))}),(function(r){o.push(a.mn(e,t,n,r))})),Ji.waitFor(o)}},{key:"ln",value:function(e){var t=1;return Hc(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Pc(e,t)})).filter((function(e,t,n){return!t||0!==Pc(e,n[t-1])}));var r=[];r.push(e);var i,a=(0,o.Z)(n);try{for(a.s();!(i=a.n()).done;){var u=i.value,s=Pc(u,e),c=Pc(u,t);if(0===s)r[0]=e.Le();else if(s>0&&c<0)r.push(u),r.push(u.Le());else if(c>0)break}}catch(h){a.e(h)}finally{a.f()}r.push(t);for(var l=[],f=0;f<r.length;f+=2)l.push(IDBKeyRange.bound([r[f].indexId,this.uid,r[f].arrayValue,r[f].directionalValue,Bc,[]],[r[f+1].indexId,this.uid,r[f+1].arrayValue,r[f+1].directionalValue,Bc,[]]));return l}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(Wc)}},{key:"getMinOffset",value:function(e,t){var n=this;return Ji.mapArray(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){return e||li()}))})).next(Wc)}}]),e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(e){return oc(e,"collectionParents")}function Kc(e){return oc(e,"indexEntries")}function zc(e){return oc(e,"indexConfiguration")}function Hc(e){return oc(e,"indexState")}function Wc(e){fi(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Ki(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Gi(t.readTime,t.documentKey,n)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Jc=function(){function e(t,n,r){(0,s.Z)(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return(0,c.Z)(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Yc(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],u=IDBKeyRange.only(n.batchId),s=0,c=r.J({range:u},(function(e,t,n){return s++,n["delete"]()}));a.push(c.next((function(){fi(1===s)})));var l,f=[],h=(0,o.Z)(n.mutations);try{for(h.s();!(l=h.n()).done;){var d=l.value,v=Fs(t,d.key.path,n.batchId);a.push(i["delete"](v)),f.push(d.key)}}catch(p){h.e(p)}finally{h.f()}return Ji.waitFor(a).next((function(){return f}))}function $c(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw li();t=e.noDocument}return JSON.stringify(t).length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jc.DEFAULT_COLLECTION_PERCENTILE=10,Jc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jc.DEFAULT=new Jc(41943040,Jc.DEFAULT_COLLECTION_PERCENTILE,Jc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jc.DISABLED=new Jc(-1,0,0);var Xc=function(){function e(t,n,r,i){(0,s.Z)(this,e),this.userId=t,this.wt=n,this.indexManager=r,this.referenceDelegate=i,this.gn={}}return(0,c.Z)(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return tl(e).J({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=nl(e),u=tl(e);return u.add({}).next((function(s){fi("number"==typeof s);var c,l=new uc(s,t,n,r),f=function(e,t,n){var r=n.baseMutations.map((function(t){return ys(e.ne,t)})),i=n.mutations.map((function(t){return ys(e.ne,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.wt,i.userId,l),h=[],d=new pa((function(e,t){return Ti(e.canonicalString(),t.canonicalString())})),v=(0,o.Z)(r);try{for(v.s();!(c=v.n()).done;){var p=c.value,y=Fs(i.userId,p.key.path,s);d=d.add(p.key.path.popLast()),h.push(u.put(f)),h.push(a.put(y,Vs))}}catch(g){v.e(g)}finally{v.f()}return d.forEach((function(t){h.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.gn[s]=l.keys()})),Ji.waitFor(h).next((function(){return l}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return tl(e).get(t).next((function(e){return e?(fi(e.userId===n.userId),gc(n.wt,e)):null}))}},{key:"yn",value:function(e,t){var n=this;return this.gn[t]?Ji.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.gn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return tl(e).J({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(fi(t.batchId>=r),a=gc(n.wt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return tl(e).J({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return tl(e).K("userMutationsIndex",n).next((function(e){return e.map((function(e){return gc(t.wt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Ps(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return nl(e).J({range:i},(function(r,i,o){var u=(0,p.Z)(r,3),s=u[0],c=u[1],l=u[2],f=Ms(c);if(s===n.userId&&t.path.isEqual(f))return tl(e).get(l).next((function(e){if(!e)throw li();fi(e.userId===n.userId),a.push(gc(n.wt,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new pa(Ti),i=[];return t.forEach((function(t){var a=Ps(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=nl(e).J({range:o},(function(e,i,a){var o=(0,p.Z)(e,3),u=o[0],s=o[1],c=o[2],l=Ms(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),Ji.waitFor(i).next((function(){return n.pn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Ps(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new pa(Ti);return nl(e).J({range:o},(function(e,t,a){var o=(0,p.Z)(e,3),s=o[0],c=o[1],l=o[2],f=Ms(c);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.pn(e,u)}))}},{key:"pn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(tl(e).get(t).next((function(e){if(null===e)throw li();fi(e.userId===n.userId),r.push(gc(n.wt,e))})))})),Ji.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Yc(e.ee,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.In(t.batchId)})),Ji.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"In",value:function(e){delete this.gn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Ji.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return nl(e).J({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Ms(e[1]);i.push(a)}else r.done()})).next((function(){fi(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return el(e,this.userId,t)}},{key:"Tn",value:function(e){var t=this;return rl(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"se",value:function(t,n,r,i){fi(""!==t.uid);var a=t.isAuthenticated()?t.uid:"";return new e(a,n,r,i)}}]),e}();function el(e,t,n){var r=Ps(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return nl(e).J({range:a,H:!0},(function(e,n,r){var a=(0,p.Z)(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function tl(e){return oc(e,"mutations")}function nl(e){return oc(e,"documentMutations")}function rl(e){return oc(e,"mutationQueues")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var il=function(){function e(t){(0,s.Z)(this,e),this.En=t}return(0,c.Z)(e,[{key:"next",value:function(){return this.En+=2,this.En}}],[{key:"An",value:function(){return new e(0)}},{key:"Rn",value:function(){return new e(-1)}}]),e}(),al=function(){function e(t,n){(0,s.Z)(this,e),this.referenceDelegate=t,this.wt=n}return(0,c.Z)(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.bn(e).next((function(n){var r=new il(n.highestTargetId);return n.highestTargetId=r.next(),t.Pn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.bn(e).next((function(e){return Di.fromTimestamp(new Ci(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.bn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.bn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Pn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.vn(e,t).next((function(){return n.bn(e).next((function(r){return r.targetCount+=1,n.Vn(t,r),n.Pn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.vn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return ol(e)["delete"](t.targetId)})).next((function(){return n.bn(e)})).next((function(t){return fi(t.targetCount>0),t.targetCount-=1,n.Pn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return ol(e).J((function(o,u){var s=mc(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return Ji.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return ol(e).J((function(e,n){var r=mc(n);t(r)}))}},{key:"bn",value:function(e){return ul(e).get("targetGlobalKey").next((function(e){return fi(null!==e),e}))}},{key:"Pn",value:function(e,t){return ul(e).put("targetGlobalKey",t)}},{key:"vn",value:function(e,t){return ol(e).put(wc(this.wt,t))}},{key:"Vn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.bn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=ao(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return ol(e).J({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=mc(n);uo(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=sl(e);return t.forEach((function(t){var o=Os(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Ji.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=sl(e);return Ji.forEach(t,(function(t){var a=Os(t.path);return Ji.waitFor([i["delete"]([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=sl(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n["delete"](r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=sl(e),i=Vu();return r.J({range:n,H:!0},(function(e,t,n){var r=Ms(e[1]),a=new Li(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Os(t.path),r=IDBKeyRange.bound([n],[Zi(n)],!1,!0),i=0;return sl(e).J({index:"documentTargetsIndex",H:!0,range:r},(function(e,t,n){var r=(0,p.Z)(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"te",value:function(e,t){return ol(e).get(t).next((function(e){return e?mc(e):null}))}}]),e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ol(e){return oc(e,"targets")}function ul(e){return oc(e,"targetGlobal")}function sl(e){return oc(e,"targetDocuments")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cl(e,t){var n=(0,p.Z)(e,2),r=n[0],i=n[1],a=(0,p.Z)(t,2),o=a[0],u=a[1],s=Ti(r,o);return 0===s?Ti(i,u):s}var ll=function(){function e(t){(0,s.Z)(this,e),this.Sn=t,this.buffer=new pa(cl),this.Dn=0}return(0,c.Z)(e,[{key:"Cn",value:function(){return++this.Dn}},{key:"xn",value:function(e){var t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();cl(t,n)<0&&(this.buffer=this.buffer["delete"](n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),fl=function(){function e(t,n,r){(0,s.Z)(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Nn=null}return(0,c.Z)(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}},{key:"stop",value:function(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}},{key:"started",get:function(){return null!==this.Nn}},{key:"kn",value:function(e){var t=this;oi("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,g.Z)((0,y.Z)().mark((function e(){return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.Nn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e["catch"](1),!ta(e.t0)){e.next=12;break}oi("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Wi(e.t0);case 14:return e.next=16,t.kn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),hl=function(){function e(t,n){(0,s.Z)(this,e),this.On=t,this.params=n}return(0,c.Z)(e,[{key:"calculateTargetCount",value:function(e,t){return this.On.Mn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Ji.resolve(sa.ot);var r=new ll(t);return this.On.forEachTarget(e,(function(e){return r.xn(e.sequenceNumber)})).next((function(){return n.On.Fn(e,(function(e){return r.xn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.On.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.On.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(oi("LruGarbageCollector","Garbage collection skipped; disabled"),Ji.resolve(Qc)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(oi("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Qc):n.$n(e,t)}))}},{key:"getCacheSize",value:function(e){return this.On.getCacheSize(e)}},{key:"$n",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(oi("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),ii()<=b["in"].DEBUG&&oi("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),Ji.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),dl=function(){function e(t,n){(0,s.Z)(this,e),this.db=t,this.garbageCollector=function(e,t){return new hl(e,t)}(this,n)}return(0,c.Z)(e,[{key:"Mn",value:function(e){var t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Bn",value:function(e){var t=0;return this.Fn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Fn",value:function(e,t){return this.Ln(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return vl(e,n)}},{key:"removeReference",value:function(e,t,n){return vl(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return vl(e,t)}},{key:"Un",value:function(e,t){return function(e,t){var n=!1;return rl(e).Y((function(r){return el(e,r,t).next((function(e){return e&&(n=!0),Ji.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ln(e,(function(o,u){if(u<=t){var s=n.Un(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Di.min()),sl(e)["delete"]([0,Os(o.path)])}))}));i.push(s)}})).next((function(){return Ji.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return vl(e,t)}},{key:"Ln",value:function(e,t){var n,r=sl(e),i=sa.ot;return r.J({index:"documentTargetsIndex"},(function(e,r){var a=(0,p.Z)(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==sa.ot&&t(new Li(Ms(n)),i),i=s,n=u):i=sa.ot})).next((function(){i!==sa.ot&&t(new Li(Ms(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function vl(e,t){return sl(e).put(function(e,t){return{targetId:0,path:Os(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pl=function(){function e(){(0,s.Z)(this,e),this.changes=new Au((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return(0,c.Z)(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,no.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Ji.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),yl=function(){function e(t){(0,s.Z)(this,e),this.wt=t}return(0,c.Z)(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return kl(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return kl(e)["delete"](function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],vc(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=no.newInvalidDocument(t);return kl(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(bl(t))},(function(e,i){r=n.Kn(t,i)})).next((function(){return r}))}},{key:"Gn",value:function(e,t){var n=this,r={size:0,document:no.newInvalidDocument(t)};return kl(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(bl(t))},(function(e,i){r={document:n.Kn(t,i),size:$c(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Cu();return this.Qn(e,t,(function(e,t){var i=n.Kn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"jn",value:function(e,t){var n=this,r=Cu(),i=new ha(Li.comparator);return this.Qn(e,t,(function(e,t){var a=n.Kn(e,t);r=r.insert(e,a),i=i.insert(e,$c(t))})).next((function(){return{documents:r,Wn:i}}))}},{key:"Qn",value:function(e,t,n){if(t.isEmpty())return Ji.resolve();var r=new pa(El);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(bl(r.first()),bl(r.last())),a=r.getIterator(),o=a.getNext();return kl(e).J({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Li.fromSegments([].concat((0,m.Z)(t.prefixPath),[t.collectionGroup,t.documentId]));o&&El(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.q(bl(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),vc(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return kl(e).K(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=Cu(),i=(0,o.Z)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,u=r.Kn(Li.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(u.key,u)}}catch(s){i.e(s)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Cu(),o=xl(t,n),u=xl(t,Gi.max());return kl(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.Kn(Li.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);a=a.insert(o.key,o),a.size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new ml(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return wl(e).get("remoteDocumentGlobalKey").next((function(e){return fi(!!e),e}))}},{key:"qn",value:function(e,t){return wl(e).put("remoteDocumentGlobalKey",t)}},{key:"Kn",value:function(e,t){if(t){var n=hc(this.wt,t);if(!n.isNoDocument()||!n.version.isEqual(Di.min()))return n}return no.newInvalidDocument(e)}}]),e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(e){return new yl(e)}var ml=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r){var i;return(0,s.Z)(this,n),i=t.call(this),i.zn=e,i.trackRemovals=r,i.Hn=new Au((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return(0,c.Z)(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new pa((function(e,t){return Ti(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Hn.get(a);if(n.push(t.zn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=dc(t.zn.wt,o);i=i.add(a.path.popLast());var c=$c(s);r+=c-u.size,n.push(t.zn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=dc(t.zn.wt,o.convertToNoDocument(Di.min()));n.push(t.zn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.zn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.zn.updateMetadata(e,r)),Ji.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.zn.Gn(e,t).next((function(e){return n.Hn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.zn.jn(e,t).next((function(e){var t=e.documents,r=e.Wn;return r.forEach((function(e,r){n.Hn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(pl);function wl(e){return oc(e,"remoteDocumentGlobal")}function kl(e){return oc(e,"remoteDocumentsV14")}function bl(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function xl(e,t){var n=t.documentKey.path.toArray();return[e,vc(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function El(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Ti(n[a],r[a]),i)return i;return i=Ti(n.length,r.length),i||(i=Ti(n[n.length-2],r[r.length-2]),i||Ti(n[n.length-1],r[r.length-1]))
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var _l=(0,c.Z)((function e(t,n){(0,s.Z)(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Il=function(){function e(t,n,r,i){(0,s.Z)(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return(0,c.Z)(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&du(r.mutation,e,ma.empty(),Ci.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Vu()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Vu(),i=Ru();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Ou();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Ru();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Vu())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Cu(),a=Lu(),o=Lu();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof gu)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),du(o.mutation,t,o.mutation.getFieldMask(),Ci.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new _l(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Lu(),i=new ha((function(e,t){return e-t})),a=Vu();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=(0,o.Z)(e);try{var u=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||ma.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||Vu()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)u()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=Mu();c.forEach((function(e){if(!a.has(e)){var n=fu(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return Ji.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Li.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):No(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Ji.resolve(Ru()),u=-1,s=a;return o.next((function(t){return Ji.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?Ji.resolve():i.getBaseDocument(e,t,n).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,Vu())})).next((function(e){return{batchId:u,changes:Nu(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Li(t)).next((function(e){var t=Ou();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Ou();return this.indexManager.getCollectionParents(e,i).next((function(o){return Ji.forEach(o,(function(o){var u=function(e,t){return new To(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,no.newInvalidDocument(n)))}));var n=Ou();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&du(a.mutation,i,ma.empty(),Ci.now()),jo(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):Ji.resolve(no.newInvalidDocument(t))}}]),e}(),Sl=function(){function e(t){(0,s.Z)(this,e),this.wt=t,this.Jn=new Map,this.Yn=new Map}return(0,c.Z)(e,[{key:"getBundleMetadata",value:function(e,t){return Ji.resolve(this.Jn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Jn.set(t.id,{id:(n=t).id,version:n.version,createTime:rs(n.createTime)}),Ji.resolve()}},{key:"getNamedQuery",value:function(e,t){return Ji.resolve(this.Yn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Yn.set(t.name,function(e){return{name:e.name,query:kc(e.bundledQuery),readTime:rs(e.readTime)}}(t)),Ji.resolve()}}]),e}(),Tl=function(){function e(){(0,s.Z)(this,e),this.overlays=new ha(Li.comparator),this.Xn=new Map}return(0,c.Z)(e,[{key:"getOverlay",value:function(e,t){return Ji.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Ru();return Ji.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ie(e,t,i)})),Ji.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Xn.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Xn["delete"](n)),Ji.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Ru(),i=t.length+1,a=new Li(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Ji.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new ha((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Ru(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Ru(),c=i.getIterator();c.hasNext();)if(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),s.size()>=r)break;return Ji.resolve(s)}},{key:"ie",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Xn.get(r.largestBatchId)["delete"](n.key);this.Xn.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new cc(t,n));var a=this.Xn.get(t);void 0===a&&(a=Vu(),this.Xn.set(t,a)),this.Xn.set(t,a.add(n.key))}}]),e}(),Al=function(){function e(){(0,s.Z)(this,e),this.Zn=new pa(Zl.ts),this.es=new pa(Zl.ns)}return(0,c.Z)(e,[{key:"isEmpty",value:function(){return this.Zn.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Zl(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}},{key:"ss",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.rs(new Zl(e,t))}},{key:"os",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new Li(new Ni([])),r=new Zl(n,e),i=new Zl(n,e+1),a=[];return this.es.forEachInRange([r,i],(function(e){t.rs(e),a.push(e.key)})),a}},{key:"cs",value:function(){var e=this;this.Zn.forEach((function(t){return e.rs(t)}))}},{key:"rs",value:function(e){this.Zn=this.Zn["delete"](e),this.es=this.es["delete"](e)}},{key:"hs",value:function(e){var t=new Li(new Ni([])),n=new Zl(t,e),r=new Zl(t,e+1),i=Vu();return this.es.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Zl(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Zl=function(){function e(t,n){(0,s.Z)(this,e),this.key=t,this.ls=n}return(0,c.Z)(e,null,[{key:"ts",value:function(e,t){return Li.comparator(e.key,t.key)||Ti(e.ls,t.ls)}},{key:"ns",value:function(e,t){return Ti(e.ls,t.ls)||Li.comparator(e.key,t.key)}}]),e}(),Cl=function(){function e(t,n){(0,s.Z)(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new pa(Zl.ts)}return(0,c.Z)(e,[{key:"checkEmpty",value:function(e){return Ji.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new uc(i,t,n,r);this.mutationQueue.push(a);var u,s=(0,o.Z)(r);try{for(s.s();!(u=s.n()).done;){var c=u.value;this.ds=this.ds.add(new Zl(c.key,i)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast())}}catch(l){s.e(l)}finally{s.f()}return Ji.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Ji.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ws(n),i=r<0?0:r;return Ji.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Ji.resolve(0===this.mutationQueue.length?-1:this.fs-1)}},{key:"getAllMutationBatches",value:function(e){return Ji.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Zl(t,0),i=new Zl(t,Number.POSITIVE_INFINITY),a=[];return this.ds.forEachInRange([r,i],(function(e){var t=n._s(e.ls);a.push(t)})),Ji.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new pa(Ti);return t.forEach((function(e){var t=new Zl(e,0),i=new Zl(e,Number.POSITIVE_INFINITY);n.ds.forEachInRange([t,i],(function(e){r=r.add(e.ls)}))})),Ji.resolve(this.gs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Li.isDocumentKey(i)||(i=i.child(""));var a=new Zl(new Li(i),0),o=new pa(Ti);return this.ds.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ls)),!0)}),a),Ji.resolve(this.gs(o))}},{key:"gs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;fi(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();var r=this.ds;return Ji.forEach(t.mutations,(function(i){var a=new Zl(i.key,t.batchId);return r=r["delete"](a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ds=r}))}},{key:"In",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Zl(t,0),r=this.ds.firstAfterOrEqual(n);return Ji.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Ji.resolve()}},{key:"ys",value:function(e,t){return this.ws(e)}},{key:"ws",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"_s",value:function(e){var t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Dl=function(){function e(t){(0,s.Z)(this,e),this.ps=t,this.docs=new ha(Li.comparator),this.size=0}return(0,c.Z)(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ps(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Ji.resolve(n?n.document.mutableCopy():no.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Cu();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():no.newInvalidDocument(e))})),Ji.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Cu(),i=new Li(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||Ki(qi(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return Ji.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){li()}},{key:"Is",value:function(e,t){return Ji.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Ol(this)}},{key:"getSize",value:function(e){return Ji.resolve(this.size)}}]),e}(),Ol=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e){var r;return(0,s.Z)(this,n),r=t.call(this),r.zn=e,r}return(0,c.Z)(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.zn.addEntry(e,i)):t.zn.removeEntry(r)})),Ji.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.zn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.zn.getEntries(e,t)}}]),n}(pl),Nl=function(){function e(t){(0,s.Z)(this,e),this.persistence=t,this.Ts=new Au((function(e){return ao(e)}),uo),this.lastRemoteSnapshotVersion=Di.min(),this.highestTargetId=0,this.Es=0,this.As=new Al,this.targetCount=0,this.Rs=il.An()}return(0,c.Z)(e,[{key:"forEachTarget",value:function(e,t){return this.Ts.forEach((function(e,n){return t(n)})),Ji.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Ji.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Ji.resolve(this.Es)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Rs.next(),Ji.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Es&&(this.Es=t),Ji.resolve()}},{key:"vn",value:function(e){this.Ts.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Rs=new il(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.vn(t),this.targetCount+=1,Ji.resolve()}},{key:"updateTargetData",value:function(e,t){return this.vn(t),Ji.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Ts["delete"](t.target),this.As.us(t.targetId),this.targetCount-=1,Ji.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Ts.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Ts["delete"](o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Ji.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Ji.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Ts.get(t)||null;return Ji.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.As.ss(t,n),Ji.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.As.os(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Ji.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.As.us(t),Ji.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.As.hs(t);return Ji.resolve(n)}},{key:"containsKey",value:function(e,t){return Ji.resolve(this.As.containsKey(t))}}]),e}(),Rl=function(){function e(t,n){var r=this;(0,s.Z)(this,e),this.bs={},this.overlays={},this.Ps=new sa(0),this.vs=!1,this.vs=!0,this.referenceDelegate=t(this),this.Vs=new Nl(this),this.indexManager=new jc,this.remoteDocumentCache=function(e){return new Dl(e)}((function(e){return r.referenceDelegate.Ss(e)})),this.wt=new fc(n),this.Ds=new Sl(this.wt)}return(0,c.Z)(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.vs=!1,Promise.resolve()}},{key:"started",get:function(){return this.vs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Tl,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.bs[e.toKey()];return n||(n=new Cl(t,this.referenceDelegate),this.bs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;oi("MemoryPersistence","Starting transaction:",e);var i=new Ml(this.Ps.next());return this.referenceDelegate.Cs(),n(i).next((function(e){return r.referenceDelegate.xs(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ns",value:function(e,t){return Ji.or(Object.values(this.bs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Ml=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e){var r;return(0,s.Z)(this,n),r=t.call(this),r.currentSequenceNumber=e,r}return(0,c.Z)(n)}(Hi),Ll=function(){function e(t){(0,s.Z)(this,e),this.persistence=t,this.ks=new Al,this.Os=null}return(0,c.Z)(e,[{key:"Fs",get:function(){if(this.Os)return this.Os;throw li()}},{key:"addReference",value:function(e,t,n){return this.ks.addReference(n,t),this.Fs["delete"](n.toString()),Ji.resolve()}},{key:"removeReference",value:function(e,t,n){return this.ks.removeReference(n,t),this.Fs.add(n.toString()),Ji.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Fs.add(t.toString()),Ji.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.ks.us(t.targetId).forEach((function(e){return n.Fs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Fs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Cs",value:function(){this.Os=new Set}},{key:"xs",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ji.forEach(this.Fs,(function(r){var i=Li.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i,Di.min())}))})).next((function(){return t.Os=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.Fs["delete"](t.toString()):n.Fs.add(t.toString())}))}},{key:"Ss",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return Ji.or([function(){return Ji.resolve(n.ks.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ns(e,t)}])}}],[{key:"Ms",value:function(t){return new e(t)}}]),e}(),Pl=function(){function e(t){(0,s.Z)(this,e),this.wt=t}return(0,c.Z)(e,[{key:"O",value:function(e,t,n,r){var i=this,a=new Yi("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ls,{unique:!0}),e.createObjectStore("documentMutations")}(e),Fl(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Ji.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Fl(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Di.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").K().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ls,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Ji.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Bs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ls(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Us(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Ks(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Ys});t.createIndex("collectionPathOverlayIndex",$s,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Xs,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:js});t.createIndex("documentKeyIndex",Us),t.createIndex("collectionGroupIndex",Bs)}(e)})).next((function(){return i.Gs(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.Qs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Hs}).createIndex("sequenceNumberIndex",Ws,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Qs}).createIndex("documentKeyIndex",Js,{unique:!1})}(e)}))),o}},{key:"Ls",value:function(e){var t=0;return e.store("remoteDocuments").J((function(e,n){t+=$c(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Bs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.K().next((function(n){return Ji.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.K("userMutationsIndex",i).next((function(r){return Ji.forEach(r,(function(r){fi(r.userId===n.userId);var i=gc(t.wt,r);return Yc(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Us",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.J((function(n,i){var a=new Ni(n),o=function(e){return[0,Os(e)]}(a);r.push(t.get(o).next((function(n){return n?Ji.resolve():function(n){return t.put({targetId:0,path:Os(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Ji.waitFor(r)}))}))}},{key:"qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:zs});var n=t.store("collectionParents"),r=new Uc,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Os(i)})}};return t.store("remoteDocuments").J({H:!0},(function(e,t){var n=new Ni(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").J({H:!0},(function(e,t){var n=(0,p.Z)(e,3),r=(n[0],n[1]),a=(n[2],Ms(r));return i(a.popLast())}))}))}},{key:"Ks",value:function(e){var t=this,n=e.store("targets");return n.J((function(e,r){var i=mc(r),a=wc(t.wt,i);return n.put(a)}))}},{key:"Gs",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.J((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Li(Ni.fromString(i.document.name).popFirst(5)):i.noDocument?Li.fromSegments(i.noDocument.path):i.unknownDocument?Li.fromSegments(i.unknownDocument.path):li()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return Ji.waitFor(r)}))}},{key:"Qs",value:function(e,t){var n=this,r=t.store("mutations"),i=gl(this.wt),a=new Rl(Ll.Ms,this.wt.ne);return r.K().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:Vu();gc(n.wt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),Ji.forEach(r,(function(e,r){var o=new ti(r),u=Tc.se(n.wt,o),s=a.getIndexManager(o),c=Xc.se(o,n.wt,s,a.referenceDelegate);return new Il(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new ac(t,sa.ot),e).next()}))}))}}]),e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fl(e){e.createObjectStore("targetDocuments",{keyPath:Gs}).createIndex("documentTargetsIndex",Ks,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",qs,{unique:!0}),e.createObjectStore("targetGlobal")}var Vl="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",jl=function(){function e(t,n,r,i,a,o,u,c,l,f){var h=arguments.length>10&&void 0!==arguments[10]?arguments[10]:14;if((0,s.Z)(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.js=a,this.window=o,this.document=u,this.Ws=l,this.zs=f,this.Hs=h,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=function(e){return Promise.resolve()},!e.V())throw new pi(vi.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new dl(this,i),this.ei=n+"main",this.wt=new fc(c),this.ni=new $i(this.ei,this.Hs,new Pl(this.wt)),this.Vs=new al(this.referenceDelegate,this.wt),this.remoteDocumentCache=gl(this.wt),this.Ds=new _c,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===f&&ui("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return(0,c.Z)(e,[{key:"start",value:function(){var e=this;return this.ii().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new pi(vi.FAILED_PRECONDITION,Vl);return e.ri(),e.oi(),e.ui(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Vs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ps=new sa(t,e.Ws)})).then((function(){e.vs=!0}))["catch"]((function(t){return e.ni&&e.ni.close(),Promise.reject(t)}))}},{key:"ci",value:function(e){var t=this;return this.ti=function(){var n=(0,g.Z)((0,y.Z)().mark((function n(r){return(0,y.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ni.F(function(){var t=(0,g.Z)((0,y.Z)().mark((function t(n){return(0,y.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget((0,g.Z)((0,y.Z)().mark((function e(){return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ii();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ii",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Bl(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.ai(t).next((function(t){t||(e.isPrimary=!1,e.js.enqueueRetryable((function(){return e.ti(!1)})))}))})).next((function(){return e.hi(t)})).next((function(n){return e.isPrimary&&!n?e.li(t).next((function(){return!1})):!!n&&e.fi(t).next((function(){return!0}))}))}))["catch"]((function(t){if(ta(t))return oi("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return oi("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.js.enqueueRetryable((function(){return e.ti(t)})),e.isPrimary=t}))}},{key:"ai",value:function(e){var t=this;return Ul(e).get("owner").next((function(e){return Ji.resolve(t.di(e))}))}},{key:"_i",value:function(e){return Bl(e)["delete"](this.clientId)}},{key:"wi",value:function(){var e=(0,g.Z)((0,y.Z)().mark((function e(){var t,n,r,i,a=this;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.mi(this.Zs,18e5)){e.next=6;break}return this.Zs=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=oc(e,"clientMetadata");return t.K().next((function(e){var n=a.gi(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Ji.forEach(r,(function(e){return t["delete"](e.clientId)})).next((function(){return r}))}))}))["catch"]((function(){return[]}));case 4:if(t=e.sent,this.si){n=(0,o.Z)(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.si.removeItem(this.yi(i.clientId))}catch(u){n.e(u)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"ui",value:function(){var e=this;this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ii().then((function(){return e.wi()})).then((function(){return e.ui()}))}))}},{key:"di",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"hi",value:function(e){var t=this;return this.zs?Ji.resolve(!0):Ul(e).get("owner").next((function(n){if(null!==n&&t.mi(n.leaseTimestampMs,5e3)&&!t.pi(n.ownerId)){if(t.di(n)&&t.networkEnabled)return!0;if(!t.di(n)){if(!n.allowTabSynchronization)throw new pi(vi.FAILED_PRECONDITION,Vl);return!1}}return!(!t.networkEnabled||!t.inForeground)||Bl(e).K().next((function(e){return void 0===t.gi(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&oi("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=(0,g.Z)((0,y.Z)().mark((function e(){var t=this;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.vs=!1,this.Ii(),this.Xs&&(this.Xs.cancel(),this.Xs=null),this.Ti(),this.Ei(),e.next=7,this.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new ac(e,sa.ot);return t.li(n).next((function(){return t._i(n)}))}));case 7:this.ni.close(),this.Ai();case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"gi",value:function(e,t){var n=this;return e.filter((function(e){return n.mi(e.updateTimeMs,t)&&!n.pi(e.clientId)}))}},{key:"Ri",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Bl(t).K().next((function(t){return e.gi(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.vs}},{key:"getMutationQueue",value:function(e,t){return Xc.se(e,this.wt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new qc(e,this.wt.ne.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Tc.se(this.wt,e)}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;oi("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Hs)?ic:14===i?rc:13===i?nc:12===i?tc:11===i?ec:void li();return this.ni.runTransaction(e,o,u,(function(i){return a=new ac(i,r.Ps?r.Ps.next():sa.ot),"readwrite-primary"===t?r.ai(a).next((function(e){return!!e||r.hi(a)})).next((function(t){if(!t)throw ui("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.js.enqueueRetryable((function(){return r.ti(!1)})),new pi(vi.FAILED_PRECONDITION,zi);return n(a)})).next((function(e){return r.fi(a).next((function(){return e}))})):r.bi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"bi",value:function(e){var t=this;return Ul(e).get("owner").next((function(e){if(null!==e&&t.mi(e.leaseTimestampMs,5e3)&&!t.pi(e.ownerId)&&!t.di(e)&&!(t.zs||t.allowTabSynchronization&&e.allowTabSynchronization))throw new pi(vi.FAILED_PRECONDITION,Vl)}))}},{key:"fi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ul(e).put("owner",t)}},{key:"li",value:function(e){var t=this,n=Ul(e);return n.get("owner").next((function(e){return t.di(e)?(oi("IndexedDbPersistence","Releasing primary lease."),n["delete"]("owner")):Ji.resolve()}))}},{key:"mi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(ui("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ri",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=function(){e.js.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ii()}))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ti",value:function(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}},{key:"oi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=function(){t.Ii(),(0,x.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&t.js.enterRestrictedMode(!0),t.js.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Js))}},{key:"Ei",value:function(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}},{key:"pi",value:function(e){var t;try{var n=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return oi("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return ui("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ii",value:function(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(P){ui("Failed to set zombie client id.",P)}}},{key:"Ai",value:function(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch(P){}}},{key:"yi",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"V",value:function(){return $i.V()}}]),e}();function Ul(e){return oc(e,"owner")}function Bl(e){return oc(e,"clientMetadata")}function ql(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var Gl=function(){function e(t,n,r,i){(0,s.Z)(this,e),this.targetId=t,this.fromCache=n,this.Pi=r,this.vi=i}return(0,c.Z)(e,null,[{key:"Vi",value:function(t,n){var r,i=Vu(),a=Vu(),u=(0,o.Z)(n.docChanges);try{for(u.s();!(r=u.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(c){u.e(c)}finally{u.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Kl=function(){function e(){(0,s.Z)(this,e),this.Si=!1}return(0,c.Z)(e,[{key:"initialize",value:function(e,t){this.Di=e,this.indexManager=t,this.Si=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ci(e,t).next((function(a){return a||i.xi(e,t,r,n)})).next((function(n){return n||i.Ni(e,t)}))}},{key:"Ci",value:function(e,t){return Ji.resolve(null)}},{key:"xi",value:function(e,t,n,r){var i=this;return Co(t)||r.isEqual(Di.min())?this.Ni(e,t):this.Di.getDocuments(e,n).next((function(a){var o=i.ki(t,a);return i.Oi(t,o,n,r)?i.Ni(e,t):(ii()<=b["in"].DEBUG&&oi("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Vo(t)),i.Mi(e,o,t,Bi(r,-1)))}))}},{key:"ki",value:function(e,t){var n=new pa(Bo(e));return t.forEach((function(t,r){jo(e,r)&&(n=n.add(r))})),n}},{key:"Oi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ni",value:function(e,t){return ii()<=b["in"].DEBUG&&oi("QueryEngine","Using full collection scan to execute query:",Vo(t)),this.Di.getDocumentsMatchingQuery(e,t,Gi.min())}},{key:"Mi",value:function(e,t,n,r){return this.Di.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),zl=function(){function e(t,n,r,i){(0,s.Z)(this,e),this.persistence=t,this.Fi=n,this.wt=i,this.$i=new ha(Ti),this.Bi=new Au((function(e){return ao(e)}),uo),this.Li=new Map,this.Ui=t.getRemoteDocumentCache(),this.Vs=t.getTargetCache(),this.Ds=t.getBundleCache(),this.qi(r)}return(0,c.Z)(e,[{key:"qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Il(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.$i)}))}}]),e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(e,t,n,r){return new zl(e,t,n,r)}function Wl(e,t){return Ql.apply(this,arguments)}function Ql(){return Ql=(0,g.Z)((0,y.Z)().mark((function e(t,n){var r;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=di(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],u=[],s=Vu(),c=(0,o.Z)(t);try{for(c.s();!(i=c.n()).done;){var l=i.value;a.push(l.batchId);var f,h=(0,o.Z)(l.mutations);try{for(h.s();!(f=h.n()).done;){var d=f.value;s=s.add(d.key)}}catch(k){h.e(k)}finally{h.f()}}}catch(k){c.e(k)}finally{c.f()}var v,p=(0,o.Z)(n);try{for(p.s();!(v=p.n()).done;){var y=v.value;u.push(y.batchId);var g,m=(0,o.Z)(y.mutations);try{for(m.s();!(g=m.n()).done;){var w=g.value;s=s.add(w.key)}}catch(k){m.e(k)}finally{m.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{Ki:e,removedBatchIds:a,addedBatchIds:u}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Ql.apply(this,arguments)}function Jl(e,t){var n=di(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Ji.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);fi(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Vu(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function Yl(e){var t=di(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Vs.getLastRemoteSnapshotVersion(e)}))}function $l(e,t){var n=di(e),r=t.snapshotVersion,i=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Ui.newChangeBuffer({trackRemovals:!0});i=n.$i;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Vs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Vs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(ka.EMPTY_BYTE_STRING,Di.min()).withLastLimboFreeSnapshotVersion(Di.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Vs.updateTargetData(e,c))}}));var u=Cu(),s=Vu();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Xl(e,a,t.documentUpdates).next((function(e){u=e.Gi,s=e.Qi}))),!r.isEqual(Di.min())){var c=n.Vs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Vs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Ji.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.$i=i,e}))}function Xl(e,t,n){var r=Vu(),i=Vu();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Cu();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Di.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):oi("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Gi:r,Qi:i}}))}function ef(e,t){var n=di(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function tf(e,t){var n=di(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Vs.getTargetData(e,t).next((function(i){return i?(r=i,Ji.resolve(r)):n.Vs.allocateTargetId(e).next((function(i){return r=new lc(t,i,0,e.currentSequenceNumber),n.Vs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.$i.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.$i=n.$i.insert(e.targetId,e),n.Bi.set(t,e.targetId)),e}))}function nf(e,t,n){return rf.apply(this,arguments)}function rf(){return rf=(0,g.Z)((0,y.Z)().mark((function e(t,n,r){var i,a,o;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=di(t),a=i.$i.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e["catch"](1),ta(e.t1)){e.next=12;break}throw e.t1;case 12:oi("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.$i=i.$i.remove(n),i.Bi["delete"](a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),rf.apply(this,arguments)}function af(e,t,n){var r=di(e),i=Di.min(),a=Vu();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=di(e),i=r.Bi.get(n);return void 0!==i?Ji.resolve(r.$i.get(i)):r.Vs.getTargetData(t,n)}(r,e,Mo(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Fi.getDocumentsMatchingQuery(e,t,n?i:Di.min(),n?a:Vu())})).next((function(e){return sf(r,Uo(t),e),{documents:e,ji:a}}))}))}function of(e,t){var n=di(e),r=di(n.Vs),i=n.$i.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.te(e,t).next((function(e){return e?e.target:null}))}))}function uf(e,t){var n=di(e),r=n.Li.get(t)||Di.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Ui.getAllFromCollectionGroup(e,t,Bi(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return sf(n,t,e),e}))}function sf(e,t,n){var r=Di.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Li.set(t,r)}function cf(e,t,n,r){return lf.apply(this,arguments)}function lf(){return lf=(0,g.Z)((0,y.Z)().mark((function e(t,n,r,i){var a,u,s,c,l,f,h,d,v,p;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=di(t),u=Vu(),s=Cu(),c=(0,o.Z)(r);try{for(c.s();!(l=c.n()).done;)f=l.value,h=n.Wi(f.metadata.name),f.document&&(u=u.add(h)),d=n.zi(f),d.setReadTime(n.Hi(f.metadata.readTime)),s=s.insert(h,d)}catch(y){c.e(y)}finally{c.f()}return v=a.Ui.newChangeBuffer({trackRemovals:!0}),e.next=7,tf(a,function(e){return Mo(Zo(Ni.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Xl(e,v,s).next((function(t){return v.apply(e),t})).next((function(t){return a.Vs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Vs.addMatchingKeys(e,u,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Gi,t.Qi)})).next((function(){return t.Gi}))}))})));case 9:case"end":return e.stop()}}),e)}))),lf.apply(this,arguments)}function ff(e,t){return hf.apply(this,arguments)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(){return hf=(0,g.Z)((0,y.Z)().mark((function e(t,n){var r,i,a,o=arguments;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Vu(),e.next=3,tf(t,Mo(kc(n.bundledQuery)));case 3:return i=e.sent,a=di(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=rs(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ds.saveNamedQuery(e,n);var o=i.withResumeToken(ka.EMPTY_BYTE_STRING,t);return a.$i=a.$i.insert(o.targetId,o),a.Vs.updateTargetData(e,o).next((function(){return a.Vs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Vs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ds.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),hf.apply(this,arguments)}function df(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function vf(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function pf(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var yf=function(){function e(t,n,r,i){(0,s.Z)(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return(0,c.Z)(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==(0,u.Z)(a)&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==(0,u.Z)(a.error));return o&&a.error&&(o="string"==typeof a.error.message&&"string"==typeof a.error.code,o&&(i=new pi(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(ui("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),gf=function(){function e(t,n,r){(0,s.Z)(this,e),this.targetId=t,this.state=n,this.error=r}return(0,c.Z)(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n){var r,i=JSON.parse(n),a="object"==(0,u.Z)(i)&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==(0,u.Z)(i.error));return a&&i.error&&(a="string"==typeof i.error.message&&"string"==typeof i.error.code,a&&(r=new pi(i.error.code,i.error.message))),a?new e(t,i.state,r):(ui("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),mf=function(){function e(t,n){(0,s.Z)(this,e),this.clientId=t,this.activeTargetIds=n}return(0,c.Z)(e,null,[{key:"Ji",value:function(t,n){for(var r=JSON.parse(n),i="object"==(0,u.Z)(r)&&r.activeTargetIds instanceof Array,a=Uu(),o=0;i&&o<r.activeTargetIds.length;++o)i=Oa(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(ui("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),wf=function(){function e(t,n){(0,s.Z)(this,e),this.clientId=t,this.onlineState=n}return(0,c.Z)(e,null,[{key:"Ji",value:function(t){var n=JSON.parse(t);return"object"==(0,u.Z)(n)&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(ui("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),kf=function(){function e(){(0,s.Z)(this,e),this.activeTargetIds=Uu()}return(0,c.Z)(e,[{key:"Xi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds["delete"](e)}},{key:"Yi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),bf=function(){function e(t,n,r,i,a){(0,s.Z)(this,e),this.window=t,this.js=n,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new ha(Ti),this.started=!1,this.ir=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=df(this.persistenceKey,this.tr),this.ur=function(e){return"firestore_sequence_number_".concat(e)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.persistenceKey),this.sr=this.sr.insert(this.tr,new kf),this.cr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.ar=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.hr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.lr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.dr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.er)}return(0,c.Z)(e,[{key:"start",value:function(){var e=(0,g.Z)((0,y.Z)().mark((function e(){var t,n,r,i,a,u,s,c,l,f,h,d=this;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Ri();case 2:t=e.sent,n=(0,o.Z)(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if(i=r.value,i!==this.tr){e.next=10;break}return e.abrupt("continue",12);case 10:a=this.getItem(df(this.persistenceKey,i)),a&&(u=mf.Ji(i,a),u&&(this.sr=this.sr.insert(u.clientId,u)));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this._r(),s=this.storage.getItem(this.lr),s&&(c=this.wr(s),c&&this.mr(c)),l=(0,o.Z)(this.ir);try{for(l.s();!(f=l.n()).done;)h=f.value,this.nr(h)}catch(v){l.e(v)}finally{l.f()}this.ir=[],this.window.addEventListener("pagehide",(function(){return d.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ur,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.gr(this.sr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.sr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.yr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.yr(e,t,n),this.pr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(pf(this.persistenceKey,e));if(n){var r=gf.Ji(e,n);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ir.Zi(e),this._r()}},{key:"isLocalQueryTarget",value:function(e){return this.Ir.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(pf(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Tr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.pr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Er(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ar(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return oi("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){oi("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){oi("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"nr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(oi("SharedClientState","EVENT",n.key,n.newValue),n.key===this.rr)return void ui("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,g.Z)((0,y.Z)().mark((function e(){var r,i,a,o,u,s,c;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.cr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Rr(n.key),e.abrupt("return",t.br(r,null));case 6:if(i=t.Pr(n.key,n.newValue),!i){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.ar.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(a=t.vr(n.key,n.newValue),!a){e.next=16;break}return e.abrupt("return",t.Vr(a));case 16:e.next=41;break;case 18:if(!t.hr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(o=t.Sr(n.key,n.newValue),!o){e.next=23;break}return e.abrupt("return",t.Dr(o));case 23:e.next=41;break;case 25:if(n.key!==t.lr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(u=t.wr(n.newValue),!u){e.next=30;break}return e.abrupt("return",t.mr(u));case 30:e.next=41;break;case 32:if(n.key!==t.ur){e.next=37;break}s=function(e){var t=sa.ot;if(null!=e)try{var n=JSON.parse(e);fi("number"==typeof n),t=n}catch(e){ui("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==sa.ot&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.dr){e.next=41;break}return c=t.Cr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Nr(e)})));case 41:e.next=44;break;case 43:t.ir.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ir",get:function(){return this.sr.get(this.tr)}},{key:"_r",value:function(){this.setItem(this.rr,this.Ir.Yi())}},{key:"yr",value:function(e,t,n){var r=new yf(this.currentUser,e,t,n),i=vf(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Yi())}},{key:"pr",value:function(e){var t=vf(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Er",value:function(e){var t={clientId:this.tr,onlineState:e};this.storage.setItem(this.lr,JSON.stringify(t))}},{key:"Tr",value:function(e,t,n){var r=pf(this.persistenceKey,e),i=new gf(e,t,n);this.setItem(r,i.Yi())}},{key:"Ar",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}},{key:"Rr",value:function(e){var t=this.cr.exec(e);return t?t[1]:null}},{key:"Pr",value:function(e,t){var n=this.Rr(e);return mf.Ji(n,t)}},{key:"vr",value:function(e,t){var n=this.ar.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return yf.Ji(new ti(i),r,t)}},{key:"Sr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]);return gf.Ji(r,t)}},{key:"wr",value:function(e){return wf.Ji(e)}},{key:"Cr",value:function(e){return JSON.parse(e)}},{key:"Vr",value:function(){var e=(0,g.Z)((0,y.Z)().mark((function e(t){return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.kr(t.batchId,t.state,t.error));case 2:oi("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"Dr",value:function(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),a=this.gr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Mr(o,u).then((function(){n.sr=r}))}},{key:"mr",value:function(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"gr",value:function(e){var t=Uu();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"V",value:function(e){return!(!e||!e.localStorage)}}]),e}(),xf=function(){function e(){(0,s.Z)(this,e),this.Fr=new kf,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return(0,c.Z)(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.$r[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Fr.Zi(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.$r[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Fr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Fr=new kf,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Ef=function(){function e(){(0,s.Z)(this,e)}return(0,c.Z)(e,[{key:"Br",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),_f=function(){function e(){var t=this;(0,s.Z)(this,e),this.Lr=function(){return t.Ur()},this.qr=function(){return t.Kr()},this.Gr=[],this.Qr()}return(0,c.Z)(e,[{key:"Br",value:function(e){this.Gr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}},{key:"Qr",value:function(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}},{key:"Ur",value:function(){oi("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=(0,o.Z)(this.Gr);try{for(t.s();!(e=t.n()).done;){var n=e.value;n(0)}}catch(r){t.e(r)}finally{t.f()}}},{key:"Kr",value:function(){oi("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=(0,o.Z)(this.Gr);try{for(t.s();!(e=t.n()).done;){var n=e.value;n(1)}}catch(r){t.e(r)}finally{t.f()}}}],[{key:"V",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),If={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Sf=function(){function e(t){(0,s.Z)(this,e),this.jr=t.jr,this.Wr=t.Wr}return(0,c.Z)(e,[{key:"zr",value:function(e){this.Hr=e}},{key:"Jr",value:function(e){this.Yr=e}},{key:"onMessage",value:function(e){this.Xr=e}},{key:"close",value:function(){this.Wr()}},{key:"send",value:function(e){this.jr(e)}},{key:"Zr",value:function(){this.Hr()}},{key:"eo",value:function(e){this.Yr(e)}},{key:"no",value:function(e){this.Xr(e)}}]),e}(),Tf=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e){var r;return(0,s.Z)(this,n),r=t.call(this,e),r.forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return(0,c.Z)(n,[{key:"co",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Xr;o.listenOnce(Wr.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Hr.NO_ERROR:var t=o.getResponseJson();oi("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Hr.TIMEOUT:oi("Connection",'RPC "'+e+'" timed out'),a(new pi(vi.DEADLINE_EXCEEDED,"Request time out"));break;case Hr.HTTP_ERROR:var n=o.getStatus();if(oi("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(vi).indexOf(t)>=0?t:vi.UNKNOWN}(r.status);a(new pi(u,r.message))}else a(new pi(vi.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new pi(vi.UNAVAILABLE,"Connection failed."));break;default:li()}}finally{oi("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"ho",value:function(e,t,n){var r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Kr(),a=zr(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Yr({})),this.uo(o.initMessageHeaders,t,n),(0,x.uI)()||(0,x.b$)()||(0,x.d)()||(0,x.w1)()||(0,x.Mn)()||(0,x.ru)()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");oi("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new Sf({jr:function(e){l?oi("Connection","Not sending because WebChannel is closed:",e):(c||(oi("Connection","Opening WebChannel transport."),s.open(),c=!0),oi("Connection","WebChannel sending:",e),s.send(e))},Wr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,$r.EventType.OPEN,(function(){l||oi("Connection","WebChannel transport opened.")})),h(s,$r.EventType.CLOSE,(function(){l||(l=!0,oi("Connection","WebChannel transport closed"),f.eo())})),h(s,$r.EventType.ERROR,(function(e){l||(l=!0,si("Connection","WebChannel transport errored:",e),f.eo(new pi(vi.UNAVAILABLE,"The operation could not be completed")))})),h(s,$r.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];fi(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){oi("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=bu[e];if(void 0!==t)return Tu(t)}(a),u=i.message;void 0===o&&(o=vi.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.eo(new pi(o,u)),s.close()}else oi("Connection","WebChannel received:",n),f.no(n)}})),h(a,Qr.STAT_EVENT,(function(e){e.stat===Jr.PROXY?oi("Connection","Detected buffering proxy"):e.stat===Jr.NOPROXY&&oi("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Zr()}),0),f}}]),n}(function(){function e(t){(0,s.Z)(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.so=n+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return(0,c.Z)(e,[{key:"ro",value:function(e,t,n,r,i){var a=this.oo(e,t);oi("RestConnection","Sending: ",a,n);var o={};return this.uo(o,r,i),this.co(e,a,o,n).then((function(e){return oi("RestConnection","Received: ",e),e}),(function(t){throw si("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ao",value:function(e,t,n,r,i,a){return this.ro(e,t,n,r,i)}},{key:"uo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+ni,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"oo",value:function(e,t){var n=If[e];return"".concat(this.so,"/v1/").concat(t,":").concat(n)}}]),e}());
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Af(){return"undefined"!=typeof window?window:null}function Zf(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cf(e){return new Xu(e,!0)}var Df=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;(0,s.Z)(this,e),this.js=t,this.timerId=n,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}return(0,c.Z)(e,[{key:"reset",value:function(){this.wo=0}},{key:"po",value:function(){this.wo=this._o}},{key:"Io",value:function(e){var t=this;this.cancel();var n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&oi("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.wo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.mo=this.js.enqueueAfterDelay(this.timerId,i,(function(){return t.yo=Date.now(),e()})),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}},{key:"Eo",value:function(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}},{key:"cancel",value:function(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}},{key:"To",value:function(){return(Math.random()-.5)*this.wo}}]),e}(),Of=function(){function e(t,n,r,i,a,o,u,c){(0,s.Z)(this,e),this.js=t,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new Df(t,n)}return(0,c.Z)(e,[{key:"Do",value:function(){return 1===this.state||5===this.state||this.Co()}},{key:"Co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.xo()}},{key:"stop",value:function(){var e=(0,g.Z)((0,y.Z)().mark((function e(){return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.t0=this.Do(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"No",value:function(){this.state=0,this.So.reset()}},{key:"ko",value:function(){var e=this;this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,(function(){return e.Oo()})))}},{key:"Mo",value:function(e){this.Fo(),this.stream.send(e)}},{key:"Oo",value:function(){var e=(0,g.Z)((0,y.Z)().mark((function e(){return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.Co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"Fo",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"$o",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"close",value:function(){var e=(0,g.Z)((0,y.Z)().mark((function e(t,n){return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==t?this.So.reset():n&&n.code===vi.RESOURCE_EXHAUSTED?(ui(n.toString()),ui("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===vi.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Jr(n);case 9:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"Bo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=(0,p.Z)(t,2),i=r[0],a=r[1];e.Po===n&&e.Uo(i,a)}),(function(n){t((function(){var t=new pi(vi.UNKNOWN,"Fetching auth token failed: "+n.message);return e.qo(t)}))}))}},{key:"Uo",value:function(e,t){var n=this,r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr((function(){r((function(){return n.state=2,n.Vo=n.js.enqueueAfterDelay(n.Ro,1e4,(function(){return n.Co()&&(n.state=3),Promise.resolve()})),n.listener.zr()}))})),this.stream.Jr((function(e){r((function(){return n.qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"xo",value:function(){var e=this;this.state=5,this.So.Io((0,g.Z)((0,y.Z)().mark((function t(){return(0,y.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"qo",value:function(e){return oi("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Lo",value:function(e){var t=this;return function(n){t.js.enqueueAndForget((function(){return t.Po===e?n():(oi("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Nf=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r,i,a,o,u){var c;return(0,s.Z)(this,n),c=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u),c.wt=o,c}return(0,c.Z)(n,[{key:"Ko",value:function(e,t){return this.bo.ho("Listen",e,t)}},{key:"onMessage",value:function(e){this.So.reset();var t=ps(this.wt,e),n=function(e){if(!("targetChange"in e))return Di.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Di.min():t.readTime?rs(t.readTime):Di.min()}(e);return this.listener.Go(t,n)}},{key:"Qo",value:function(e){var t={};t.database=ls(this.wt),t.addTarget=function(e,t){var n,r=t.target;return n=so(r)?{documents:ws(e,r)}:{query:ks(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=ts(e,t.resumeToken):t.snapshotVersion.compareTo(Di.min())>0&&(n.readTime=es(e,t.snapshotVersion.toTimestamp())),n}(this.wt,e);var n=xs(this.wt,e);n&&(t.labels=n),this.Mo(t)}},{key:"jo",value:function(e){var t={};t.database=ls(this.wt),t.removeTarget=e,this.Mo(t)}}]),n}(Of),Rf=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r,i,a,o,u){var c;return(0,s.Z)(this,n),c=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u),c.wt=o,c.Wo=!1,c}return(0,c.Z)(n,[{key:"zo",get:function(){return this.Wo}},{key:"start",value:function(){this.Wo=!1,this.lastStreamToken=void 0,d((0,f.Z)(n.prototype),"start",this).call(this)}},{key:"Bo",value:function(){this.Wo&&this.Ho([])}},{key:"Ko",value:function(e,t){return this.bo.ho("Write",e,t)}},{key:"onMessage",value:function(e){if(fi(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();var t=ms(e.writeResults,e.commitTime),n=rs(e.commitTime);return this.listener.Jo(n,t)}return fi(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}},{key:"Xo",value:function(){var e={};e.database=ls(this.wt),this.Mo(e)}},{key:"Ho",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return ys(t.wt,e)}))};this.Mo(n)}}]),n}(Of),Mf=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r,i,a){var o;return(0,s.Z)(this,n),o=t.call(this),o.authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.wt=a,o.Zo=!1,o}return(0,c.Z)(n,[{key:"tu",value:function(){if(this.Zo)throw new pi(vi.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ro",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=(0,p.Z)(i,2),o=a[0],u=a[1];return r.bo.ro(e,t,n,o,u)}))["catch"]((function(e){throw"FirebaseError"===e.name?(e.code===vi.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new pi(vi.UNKNOWN,e.toString())}))}},{key:"ao",value:function(e,t,n,r){var i=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=(0,p.Z)(a,2),u=o[0],s=o[1];return i.bo.ao(e,t,n,u,s,r)}))["catch"]((function(e){throw"FirebaseError"===e.name?(e.code===vi.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new pi(vi.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Zo=!0}}]),n}(function(){function e(){(0,s.Z)(this,e)}return(0,c.Z)(e)}()),Lf=function(){function e(t,n){(0,s.Z)(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}return(0,c.Z)(e,[{key:"iu",value:function(){var e=this;0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.nu=null,e.ou("Backend didn't respond within 10 seconds."),e.ru("Offline"),Promise.resolve()})))}},{key:"uu",value:function(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ru("Offline")))}},{key:"set",value:function(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}},{key:"ru",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"ou",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.su?(ui(t),this.su=!1):oi("OnlineStateTracker",t)}},{key:"cu",value:function(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}]),e}(),Pf=(0,c.Z)((function e(t,n,r,i,a){var o=this;(0,s.Z)(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br((function(e){r.enqueueAndForget((0,g.Z)((0,y.Z)().mark((function e(){return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.t0=Wf(o),!e.t0){e.next=5;break}return oi("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=(0,g.Z)((0,y.Z)().mark((function e(t){var n;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=di(t),n.lu.add(4),e.next=4,jf(n);case 4:return n._u.set("Unknown"),n.lu["delete"](4),e.next=8,Ff(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this._u=new Lf(r,i)}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ff(e){return Vf.apply(this,arguments)}function Vf(){return Vf=(0,g.Z)((0,y.Z)().mark((function e(t){var n,r,i;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!Wf(t)){e.next=18;break}n=(0,o.Z)(t.fu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Vf.apply(this,arguments)}function jf(e){return Uf.apply(this,arguments)}function Uf(){return Uf=(0,g.Z)((0,y.Z)().mark((function e(t){var n,r,i;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=(0,o.Z)(t.fu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Uf.apply(this,arguments)}function Bf(e,t){var n=di(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),Hf(n)?zf(n):Eh(n).Co()&&Gf(n,t))}function qf(e,t){var n=di(e),r=Eh(n);n.hu["delete"](t),r.Co()&&Kf(n,t),0===n.hu.size&&(r.Co()?r.ko():Wf(n)&&n._u.set("Unknown"))}function Gf(e,t){e.wu.Nt(t.targetId),Eh(e).Qo(t)}function Kf(e,t){e.wu.Nt(t),Eh(e).jo(t)}function zf(e){e.wu=new Wu({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},te:function(t){return e.hu.get(t)||null}}),Eh(e).start(),e._u.iu()}function Hf(e){return Wf(e)&&!Eh(e).Do()&&e.hu.size>0}function Wf(e){return 0===di(e).lu.size}function Qf(e){e.wu=void 0}function Jf(e){return Yf.apply(this,arguments)}function Yf(){return Yf=(0,g.Z)((0,y.Z)().mark((function e(t){return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.hu.forEach((function(e,n){Gf(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Yf.apply(this,arguments)}function $f(e,t){return Xf.apply(this,arguments)}function Xf(){return Xf=(0,g.Z)((0,y.Z)().mark((function e(t,n){return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:Qf(t),Hf(t)?(t._u.uu(n),zf(t)):t._u.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Xf.apply(this,arguments)}function eh(e,t,n){return th.apply(this,arguments)}function th(){return th=(0,g.Z)((0,y.Z)().mark((function e(t,n,r){var i;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t._u.set("Online"),!(n instanceof zu&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=(0,g.Z)((0,y.Z)().mark((function e(t,n){var r,i,a,u;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=n.cause,i=(0,o.Z)(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(u=a.value,e.t0=t.hu.has(u),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(u,r);case 10:t.hu["delete"](u),t.wu.removeTarget(u);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e["catch"](2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e["catch"](1),oi("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,nh(t,e.t0);case 11:e.next=29;break;case 13:if(n instanceof Gu?t.wu.Ut(n):n instanceof Ku?t.wu.zt(n):t.wu.Gt(n),r.isEqual(Di.min())){e.next=29;break}return e.prev=14,e.next=17,Yl(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.wu.Yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.hu.get(r);i&&e.hu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.hu.get(t);if(n){e.hu.set(t,n.withResumeToken(ka.EMPTY_BYTE_STRING,n.snapshotVersion)),Kf(e,t);var r=new lc(n.target,t,1,n.sequenceNumber);Gf(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 22:e.next=29;break;case 24:return e.prev=24,e.t2=e["catch"](14),oi("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,nh(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),th.apply(this,arguments)}function nh(e,t,n){return rh.apply(this,arguments)}function rh(){return rh=(0,g.Z)((0,y.Z)().mark((function e(t,n,r){return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(ta(n)){e.next=2;break}throw n;case 2:return t.lu.add(1),e.next=5,jf(t);case 5:t._u.set("Offline"),r||(r=function(){return Yl(t.localStore)}),t.asyncQueue.enqueueRetryable((0,g.Z)((0,y.Z)().mark((function e(){return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return oi("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.lu["delete"](1),e.next=6,Ff(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),rh.apply(this,arguments)}function ih(e,t){return t()["catch"]((function(n){return nh(e,n,t)}))}function ah(e){return oh.apply(this,arguments)}function oh(){return oh=(0,g.Z)((0,y.Z)().mark((function e(t){var n,r,i,a;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=di(t),r=_h(n),i=n.au.length>0?n.au[n.au.length-1].batchId:-1;case 2:if(!uh(n)){e.next=19;break}return e.prev=3,e.next=6,ef(n.localStore,i);case 6:if(a=e.sent,null!==a){e.next=10;break}return 0===n.au.length&&r.ko(),e.abrupt("break",19);case 10:i=a.batchId,sh(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e["catch"](3),e.next=17,nh(n,e.t0);case 17:e.next=2;break;case 19:ch(n)&&lh(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),oh.apply(this,arguments)}function uh(e){return Wf(e)&&e.au.length<10}function sh(e,t){e.au.push(t);var n=_h(e);n.Co()&&n.zo&&n.Ho(t.mutations)}function ch(e){return Wf(e)&&!_h(e).Do()&&e.au.length>0}function lh(e){_h(e).start()}function fh(e){return hh.apply(this,arguments)}function hh(){return hh=(0,g.Z)((0,y.Z)().mark((function e(t){return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:_h(t).Xo();case 1:case"end":return e.stop()}}),e)}))),hh.apply(this,arguments)}function dh(e){return vh.apply(this,arguments)}function vh(){return vh=(0,g.Z)((0,y.Z)().mark((function e(t){var n,r,i,a;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=_h(t),r=(0,o.Z)(t.au);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Ho(a.mutations)}catch(u){r.e(u)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),vh.apply(this,arguments)}function ph(e,t,n){return yh.apply(this,arguments)}function yh(){return yh=(0,g.Z)((0,y.Z)().mark((function e(t,n,r){var i,a;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.au.shift(),a=sc.from(i,n,r),e.next=3,ih(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,ah(t);case 5:case"end":return e.stop()}}),e)}))),yh.apply(this,arguments)}function gh(e,t){return mh.apply(this,arguments)}function mh(){return mh=(0,g.Z)((0,y.Z)().mark((function e(t,n){return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.t0=n&&_h(t).zo,!e.t0){e.next=4;break}return e.next=4,function(){var e=(0,g.Z)((0,y.Z)().mark((function e(t,n){var r,i;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=n.code,!Su(i)||i===vi.ABORTED){e.next=7;break}return r=t.au.shift(),_h(t).No(),e.next=5,ih(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,ah(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:ch(t)&&lh(t);case 5:case"end":return e.stop()}}),e)}))),mh.apply(this,arguments)}function wh(e,t){return kh.apply(this,arguments)}function kh(){return kh=(0,g.Z)((0,y.Z)().mark((function e(t,n){var r,i;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=di(t),r.asyncQueue.verifyOperationInProgress(),oi("RemoteStore","RemoteStore received new credentials"),i=Wf(r),r.lu.add(3),e.next=6,jf(r);case 6:return i&&r._u.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.lu["delete"](3),e.next=12,Ff(r);case 12:case"end":return e.stop()}}),e)}))),kh.apply(this,arguments)}function bh(e,t){return xh.apply(this,arguments)}function xh(){return xh=(0,g.Z)((0,y.Z)().mark((function e(t,n){var r;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=di(t),!n){e.next=7;break}return r.lu["delete"](2),e.next=5,Ff(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.lu.add(2),e.next=12,jf(r);case 12:r._u.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),xh.apply(this,arguments)}function Eh(e){return e.mu||(e.mu=function(e,t,n){var r=di(e);return r.tu(),new Nf(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}(e.datastore,e.asyncQueue,{zr:Jf.bind(null,e),Jr:$f.bind(null,e),Go:eh.bind(null,e)}),e.fu.push(function(){var t=(0,g.Z)((0,y.Z)().mark((function t(n){return(0,y.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.mu.No(),Hf(e)?zf(e):e._u.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.mu.stop();case 6:Qf(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.mu}function _h(e){return e.gu||(e.gu=function(e,t,n){var r=di(e);return r.tu(),new Rf(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:fh.bind(null,e),Jr:gh.bind(null,e),Yo:dh.bind(null,e),Jo:ph.bind(null,e)}),e.fu.push(function(){var t=(0,g.Z)((0,y.Z)().mark((function t(n){return(0,y.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.gu.No(),t.next=4,ah(e);case 4:t.next=9;break;case 6:return t.next=8,e.gu.stop();case 8:e.au.length>0&&(oi("RemoteStore","Stopping write stream with ".concat(e.au.length," pending writes")),e.au=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var Ih=function(){function e(t,n,r,i,a){(0,s.Z)(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise["catch"]((function(e){}))}return(0,c.Z)(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new pi(vi.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=Date.now()+r,u=new e(t,n,o,i,a);return u.start(r),u}}]),e}();function Sh(e,t){if(ui("AsyncQueue","".concat(t,": ").concat(e)),ta(e))return new pi(vi.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Th=function(){function e(t){(0,s.Z)(this,e),this.comparator=t?function(e,n){return t(e,n)||Li.comparator(e.key,n.key)}:function(e,t){return Li.comparator(e.key,t.key)},this.keyedMap=Ou(),this.sortedSet=new ha(this.comparator)}return(0,c.Z)(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this["delete"](e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Ah=function(){function e(){(0,s.Z)(this,e),this.yu=new ha(Li.comparator)}return(0,c.Z)(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.yu.get(t);n?0!==e.type&&3===n.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==n.type?this.yu=this.yu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.yu=this.yu.remove(t):1===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):li():this.yu=this.yu.insert(t,e)}},{key:"pu",value:function(){var e=[];return this.yu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Zh=function(){function e(t,n,r,i,a,o,u,c){(0,s.Z)(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=c}return(0,c.Z)(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Po(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,Th.emptySet(n),a,r,i,!0,!1)}}]),e}(),Ch=(0,c.Z)((function e(){(0,s.Z)(this,e),this.Iu=void 0,this.listeners=[]})),Dh=(0,c.Z)((function e(){(0,s.Z)(this,e),this.queries=new Au((function(e){return Fo(e)}),Po),this.onlineState="Unknown",this.Tu=new Set}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oh(e,t){return Nh.apply(this,arguments)}function Nh(){return Nh=(0,g.Z)((0,y.Z)().mark((function e(t,n){var r,i,a,o,u;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=di(t),i=n.query,a=!1,o=r.queries.get(i),o||(a=!0,o=new Ch),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Iu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e["catch"](3),u=Sh(e.t0,"Initialization of query '".concat(Vo(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Eu(r.onlineState),o.Iu&&n.Au(o.Iu)&&Fh(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Nh.apply(this,arguments)}function Rh(e,t){return Mh.apply(this,arguments)}function Mh(){return Mh=(0,g.Z)((0,y.Z)().mark((function e(t,n){var r,i,a,o,u;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=di(t),i=n.query,a=!1,o=r.queries.get(i),o&&(u=o.listeners.indexOf(n),u>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length)),!a){e.next=6;break}return e.abrupt("return",(r.queries["delete"](i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Mh.apply(this,arguments)}function Lh(e,t){var n,r=di(e),i=!1,a=(0,o.Z)(t);try{for(a.s();!(n=a.n()).done;){var u=n.value,s=u.query,c=r.queries.get(s);if(c){var l,f=(0,o.Z)(c.listeners);try{for(f.s();!(l=f.n()).done;){var h=l.value;h.Au(u)&&(i=!0)}}catch(d){f.e(d)}finally{f.f()}c.Iu=u}}}catch(d){a.e(d)}finally{a.f()}i&&Fh(r)}function Ph(e,t,n){var r=di(e),i=r.queries.get(t);if(i){var a,u=(0,o.Z)(i.listeners);try{for(u.s();!(a=u.n()).done;){var s=a.value;s.onError(n)}}catch(c){u.e(c)}finally{u.f()}}r.queries["delete"](t)}function Fh(e){e.Tu.forEach((function(e){e.next()}))}var Vh=function(){function e(t,n,r){(0,s.Z)(this,e),this.query=t,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}return(0,c.Z)(e,[{key:"Au",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=(0,o.Z)(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(u){r.e(u)}finally{r.f()}e=new Zh(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),a=!0):this.Vu(e,this.onlineState)&&(this.Su(e),a=!0),this.Pu=e,a}},{key:"onError",value:function(e){this.Ru.error(e)}},{key:"Eu",value:function(e){this.onlineState=e;var t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}},{key:"Vu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Du||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Su",value:function(e){e=Zh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}]),e}(),jh=function(){function e(t,n){(0,s.Z)(this,e),this.payload=t,this.byteLength=n}return(0,c.Z)(e,[{key:"Cu",value:function(){return"metadata"in this.payload}}]),e}(),Uh=function(){function e(t){(0,s.Z)(this,e),this.wt=t}return(0,c.Z)(e,[{key:"Wi",value:function(e){return us(this.wt,e)}},{key:"zi",value:function(e){return e.metadata.exists?ds(this.wt,e.document,!1):no.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}},{key:"Hi",value:function(e){return rs(e)}}]),e}(),Bh=function(){function e(t,n,r){(0,s.Z)(this,e),this.xu=t,this.localStore=n,this.wt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=qh(t)}return(0,c.Z)(e,[{key:"Nu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=Ni.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"ku",value:function(e){var t,n=new Map,r=new Uh(this.wt),i=(0,o.Z)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var u,s=r.Wi(a.metadata.name),c=(0,o.Z)(a.metadata.queries);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=(n.get(l)||Vu()).add(s);n.set(l,f)}}catch(h){c.e(h)}finally{c.f()}}}}catch(h){i.e(h)}finally{i.f()}return n}},{key:"complete",value:function(){var e=(0,g.Z)((0,y.Z)().mark((function e(){var t,n,r,i,a;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,cf(this.localStore,new Uh(this.wt),this.documents,this.xu.id);case 2:t=e.sent,n=this.ku(this.documents),r=(0,o.Z)(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,ff(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Ou:this.collectionGroups,Mu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));function t(){return e.apply(this,arguments)}return t}()}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gh=(0,c.Z)((function e(t){(0,s.Z)(this,e),this.key=t})),Kh=(0,c.Z)((function e(t){(0,s.Z)(this,e),this.key=t})),zh=function(){function e(t,n){(0,s.Z)(this,e),this.query=t,this.Fu=n,this.$u=null,this.current=!1,this.Bu=Vu(),this.mutatedKeys=Vu(),this.Lu=Bo(t),this.Uu=new Th(this.Lu)}return(0,c.Z)(e,[{key:"qu",get:function(){return this.Fu}},{key:"Ku",value:function(e,t){var n=this,r=t?t.Gu:new Ah,i=t?t.Uu:this.Uu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=jo(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),v=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),v=!0):n.Qu(l,f)||(r.track({type:2,doc:f}),v=!0,(s&&n.Lu(f,s)>0||c&&n.Lu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),v=!0):l&&!f&&(r.track({type:1,doc:l}),v=!0,(s||c)&&(u=!0)),v&&(f?(o=o.add(f),a=d?a.add(e):a["delete"](e)):(o=o["delete"](e),a=a["delete"](e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o["delete"](l.key),a=a["delete"](l.key),r.track({type:1,doc:l})}return{Uu:o,Gu:r,Oi:u,mutatedKeys:a}}},{key:"Qu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;var a=e.Gu.pu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return li()}};return n(e)-n(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e.type,t.type)||r.Lu(e.doc,t.doc)})),this.ju(n);var o=t?this.Wu():[],u=0===this.Bu.size&&this.current?1:0,s=u!==this.$u;return this.$u=u,0!==a.length||s?{snapshot:new Zh(this.query,e.Uu,i,a,e.mutatedKeys,0===u,s,!1),zu:o}:{zu:o}}},{key:"Eu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new Ah,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}},{key:"Hu",value:function(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}},{key:"ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Fu=t.Fu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Fu=t.Fu["delete"](e)})),this.current=e.current)}},{key:"Wu",value:function(){var e=this;if(!this.current)return[];var t=this.Bu;this.Bu=Vu(),this.Uu.forEach((function(t){e.Hu(t.key)&&(e.Bu=e.Bu.add(t.key))}));var n=[];return t.forEach((function(t){e.Bu.has(t)||n.push(new Kh(t))})),this.Bu.forEach((function(e){t.has(e)||n.push(new Gh(e))})),n}},{key:"Ju",value:function(e){this.Fu=e.ji,this.Bu=Vu();var t=this.Ku(e.documents);return this.applyChanges(t,!0)}},{key:"Yu",value:function(){return Zh.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}]),e}(),Hh=(0,c.Z)((function e(t,n,r){(0,s.Z)(this,e),this.query=t,this.targetId=n,this.view=r})),Wh=(0,c.Z)((function e(t){(0,s.Z)(this,e),this.key=t,this.Xu=!1})),Qh=function(){function e(t,n,r,i,a,o){(0,s.Z)(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Zu={},this.tc=new Au((function(e){return Fo(e)}),Po),this.ec=new Map,this.nc=new Set,this.sc=new ha(Li.comparator),this.ic=new Map,this.rc=new Al,this.oc={},this.uc=new Map,this.cc=il.Rn(),this.onlineState="Unknown",this.ac=void 0}return(0,c.Z)(e,[{key:"isPrimaryClient",get:function(){return!0===this.ac}}]),e}();function Jh(e,t){return Yh.apply(this,arguments)}function Yh(){return Yh=(0,g.Z)((0,y.Z)().mark((function e(t,n){var r,i,a,o,u,s;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=qd(t),o=r.tc.get(n),!o){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Yu(),e.next=15;break;case 6:return e.next=8,tf(r.localStore,Mo(n));case 8:return u=e.sent,r.isPrimaryClient&&Bf(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,$h(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Yh.apply(this,arguments)}function $h(e,t,n,r){return Xh.apply(this,arguments)}function Xh(){return Xh=(0,g.Z)((0,y.Z)().mark((function e(t,n,r,i){var a,o,u,s,c,l;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.hc=function(e,n,r){return function(){var e=(0,g.Z)((0,y.Z)().mark((function e(t,n,r,i){var a,o,u;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=n.view.Ku(r),e.t0=a.Oi,!e.t0){e.next=6;break}return e.next=5,af(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Ku(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(wd(t,n.targetId,u.zu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,af(t.localStore,n,!0);case 3:return a=e.sent,o=new zh(n,a.ji),u=o.Ku(a.documents),s=qu.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),wd(t,r,c.zu),l=new Hh(n,r,o),e.abrupt("return",(t.tc.set(n,l),t.ec.has(r)?t.ec.get(r).push(n):t.ec.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),Xh.apply(this,arguments)}function ed(e,t){return td.apply(this,arguments)}function td(){return td=(0,g.Z)((0,y.Z)().mark((function e(t,n){var r,i,a;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=di(t),i=r.tc.get(n),a=r.ec.get(i.targetId),!(a.length>1)){e.next=3;break}return e.abrupt("return",(r.ec.set(i.targetId,a.filter((function(e){return!Po(e,n)}))),void r.tc["delete"](n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,nf(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),qf(r.remoteStore,i.targetId),gd(r,i.targetId)}))["catch"](Wi);case 9:e.next=14;break;case 11:return gd(r,i.targetId),e.next=14,nf(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),td.apply(this,arguments)}function nd(e,t,n){return rd.apply(this,arguments)}function rd(){return rd=(0,g.Z)((0,y.Z)().mark((function e(t,n,r){var i,a,u;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=Gd(t),e.prev=1,e.next=4,function(e,t){var n,r,i=di(e),a=Ci.now(),u=t.reduce((function(e,t){return e.add(t.key)}),Vu());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=Cu(),c=Vu();return i.Ui.getEntries(e,u).next((function(e){s=e,s.forEach((function(e,t){t.isValidDocument()||(c=c.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var u,s=[],c=(0,o.Z)(t);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=vu(l,n.get(l.key).overlayedDocument);null!=f&&s.push(new gu(l.key,f,to(f.value.mapValue),su.exists(!0)))}}catch(h){c.e(h)}finally{c.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,c);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Nu(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.oc[e.currentUser.toKey()];r||(r=new ha(Ti)),r=r.insert(t,n),e.oc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,xd(i,a.changes);case 9:return e.next=11,ah(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e["catch"](1),u=Sh(e.t0,"Failed to persist write"),r.reject(u);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),rd.apply(this,arguments)}function id(e,t){return ad.apply(this,arguments)}function ad(){return ad=(0,g.Z)((0,y.Z)().mark((function e(t,n){var r,i;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=di(t),e.prev=1,e.next=4,$l(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ic.get(t);n&&(fi(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Xu=!0:e.modifiedDocuments.size>0?fi(n.Xu):e.removedDocuments.size>0&&(fi(n.Xu),n.Xu=!1))})),e.next=8,xd(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e["catch"](1),e.next=14,Wi(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),ad.apply(this,arguments)}function od(e,t,n){var r=di(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.tc.forEach((function(e,n){var r=n.view.Eu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=di(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=(0,o.Z)(n.listeners);try{for(a.s();!(i=a.n()).done;){var u=i.value;u.Eu(t)&&(r=!0)}}catch(s){a.e(s)}finally{a.f()}})),r&&Fh(n)}(r.eventManager,t),i.length&&r.Zu.Go(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function ud(e,t,n){return sd.apply(this,arguments)}function sd(){return sd=(0,g.Z)((0,y.Z)().mark((function e(t,n,r){var i,a,o,u,s,c;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=di(t),i.sharedClientState.updateQueryState(n,"rejected",r),a=i.ic.get(n),o=a&&a.key,!o){e.next=14;break}return u=new ha(Li.comparator),u=u.insert(o,no.newNoDocument(o,Di.min())),s=Vu().add(o),c=new Bu(Di.min(),new Map,new pa(Ti),u,s),e.next=9,id(i,c);case 9:i.sc=i.sc.remove(o),i.ic["delete"](n),bd(i),e.next=16;break;case 14:return e.next=16,nf(i.localStore,n,!1).then((function(){return gd(i,n,r)}))["catch"](Wi);case 16:case"end":return e.stop()}}),e)}))),sd.apply(this,arguments)}function cd(e,t){return ld.apply(this,arguments)}function ld(){return ld=(0,g.Z)((0,y.Z)().mark((function e(t,n){var r,i,a;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=di(t),i=n.batch.batchId,e.prev=1,e.next=4,Jl(r.localStore,n);case 4:return a=e.sent,yd(r,i,null),pd(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,xd(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e["catch"](1),e.next=16,Wi(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),ld.apply(this,arguments)}function fd(e,t,n){return hd.apply(this,arguments)}function hd(){return hd=(0,g.Z)((0,y.Z)().mark((function e(t,n,r){var i,a;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=di(t),e.prev=1,e.next=4,function(e,t){var n=di(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return fi(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,yd(i,n,r),pd(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,xd(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e["catch"](1),e.next=16,Wi(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),hd.apply(this,arguments)}function dd(e,t){return vd.apply(this,arguments)}function vd(){return vd=(0,g.Z)((0,y.Z)().mark((function e(t,n){var r,i,a,o;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=di(t),Wf(r.remoteStore)||oi("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=di(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(i=e.sent,-1!==i){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:a=r.uc.get(i)||[],a.push(n),r.uc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](2),o=Sh(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),vd.apply(this,arguments)}function pd(e,t){(e.uc.get(t)||[]).forEach((function(e){e.resolve()})),e.uc["delete"](t)}function yd(e,t,n){var r=di(e),i=r.oc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.oc[r.currentUser.toKey()]=i}}function gd(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=(0,o.Z)(e.ec.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.tc["delete"](a),n&&e.Zu.lc(a,n)}}catch(u){i.e(u)}finally{i.f()}e.ec["delete"](t),e.isPrimaryClient&&e.rc.us(t).forEach((function(t){e.rc.containsKey(t)||md(e,t)}))}function md(e,t){e.nc["delete"](t.path.canonicalString());var n=e.sc.get(t);null!==n&&(qf(e.remoteStore,n),e.sc=e.sc.remove(t),e.ic["delete"](n),bd(e))}function wd(e,t,n){var r,i=(0,o.Z)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Gh?(e.rc.addReference(a.key,t),kd(e,a)):a instanceof Kh?(oi("SyncEngine","Document no longer in limbo: "+a.key),e.rc.removeReference(a.key,t),e.rc.containsKey(a.key)||md(e,a.key)):li()}}catch(u){i.e(u)}finally{i.f()}}function kd(e,t){var n=t.key,r=n.path.canonicalString();e.sc.get(n)||e.nc.has(r)||(oi("SyncEngine","New document in limbo: "+n),e.nc.add(r),bd(e))}function bd(e){for(;e.nc.size>0&&e.sc.size<e.maxConcurrentLimboResolutions;){var t=e.nc.values().next().value;e.nc["delete"](t);var n=new Li(Ni.fromString(t)),r=e.cc.next();e.ic.set(r,new Wh(n)),e.sc=e.sc.insert(n,r),Bf(e.remoteStore,new lc(Mo(Zo(n.path)),r,2,sa.ot))}}function xd(e,t,n){return Ed.apply(this,arguments)}function Ed(){return Ed=(0,g.Z)((0,y.Z)().mark((function e(t,n,r){var i,a,u,s;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=di(t),a=[],u=[],s=[],e.t0=i.tc.isEmpty(),e.t0){e.next=9;break}return i.tc.forEach((function(e,t){s.push(i.hc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=Gl.Vi(t.targetId,e);u.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.Zu.Go(a),e.next=9,function(){var e=(0,g.Z)((0,y.Z)().mark((function e(t,n){var r,i,a,u,s,c,l,f;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=di(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Ji.forEach(n,(function(t){return Ji.forEach(t.Pi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Ji.forEach(t.vi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e["catch"](1),ta(e.t0)){e.next=10;break}throw e.t0;case 10:oi("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=(0,o.Z)(n);try{for(i.s();!(a=i.n()).done;)u=a.value,s=u.targetId,u.fromCache||(c=r.$i.get(s),l=c.snapshotVersion,f=c.withLastLimboFreeSnapshotVersion(l),r.$i=r.$i.insert(s,f))}catch(h){i.e(h)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,u);case 9:case"end":return e.stop()}}),e)}))),Ed.apply(this,arguments)}function _d(e,t){return Id.apply(this,arguments)}function Id(){return Id=(0,g.Z)((0,y.Z)().mark((function e(t,n){var r,i;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=di(t),r.currentUser.isEqual(n)){e.next=11;break}return oi("SyncEngine","User change. New user:",n.toKey()),e.next=5,Wl(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.uc.forEach((function(e){e.forEach((function(e){e.reject(new pi(vi.CANCELLED,t))}))})),e.uc.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,xd(r,i.Ki);case 11:case"end":return e.stop()}}),e)}))),Id.apply(this,arguments)}function Sd(e,t){var n=di(e),r=n.ic.get(t);if(r&&r.Xu)return Vu().add(r.key);var i=Vu(),a=n.ec.get(t);if(!a)return i;var u,s=(0,o.Z)(a);try{for(s.s();!(u=s.n()).done;){var c=u.value,l=n.tc.get(c);i=i.unionWith(l.view.qu)}}catch(f){s.e(f)}finally{s.f()}return i}function Td(e,t){return Ad.apply(this,arguments)}function Ad(){return Ad=(0,g.Z)((0,y.Z)().mark((function e(t,n){var r,i,a;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=di(t),e.next=3,af(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Ju(i),e.abrupt("return",(r.isPrimaryClient&&wd(r,n.targetId,a.zu),a));case 6:case"end":return e.stop()}}),e)}))),Ad.apply(this,arguments)}function Zd(e,t){return Cd.apply(this,arguments)}function Cd(){return Cd=(0,g.Z)((0,y.Z)().mark((function e(t,n){var r;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=di(t),e.abrupt("return",uf(r.localStore,n).then((function(e){return xd(r,e)})));case 2:case"end":return e.stop()}}),e)}))),Cd.apply(this,arguments)}function Dd(e,t,n,r){return Od.apply(this,arguments)}function Od(){return Od=(0,g.Z)((0,y.Z)().mark((function e(t,n,r,i){var a,o;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=di(t),e.next=3,function(e,t){var n=di(e),r=di(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.yn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):Ji.resolve(null)}))}))}(a.localStore,n);case 3:if(o=e.sent,null===o){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,ah(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(yd(a,n,i||null),pd(a,n),function(e,t){di(di(e).mutationQueue).In(t)}(a.localStore,n)):li();case 11:return e.next=13,xd(a,o);case 13:e.next=16;break;case 15:oi("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),Od.apply(this,arguments)}function Nd(e,t){return Rd.apply(this,arguments)}function Rd(){return Rd=(0,g.Z)((0,y.Z)().mark((function e(t,n){var r,i,a,u,s,c,l,f;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=di(t),qd(r),Gd(r),!0!==n||!0===r.ac){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,Md(r,i.toArray());case 5:return a=e.sent,r.ac=!0,e.next=9,bh(r.remoteStore,!0);case 9:u=(0,o.Z)(a);try{for(u.s();!(s=u.n()).done;)c=s.value,Bf(r.remoteStore,c)}catch(h){u.e(h)}finally{u.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ac){e.next=25;break}return l=[],f=Promise.resolve(),r.ec.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?l.push(t):f=f.then((function(){return gd(r,t),nf(r.localStore,t,!0)})),qf(r.remoteStore,t)})),e.next=19,f;case 19:return e.next=21,Md(r,l);case 21:return function(e){var t=di(e);t.ic.forEach((function(e,n){qf(t.remoteStore,n)})),t.rc.cs(),t.ic=new Map,t.sc=new ha(Li.comparator)}(r),r.ac=!1,e.next=25,bh(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),Rd.apply(this,arguments)}function Md(e,t,n){return Ld.apply(this,arguments)}function Ld(){return Ld=(0,g.Z)((0,y.Z)().mark((function e(t,n,r){var i,a,u,s,c,l,f,h,d,v,p,g,m,w;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=di(t),a=[],u=[],s=(0,o.Z)(n),e.prev=2,s.s();case 4:if((c=s.n()).done){e.next=45;break}if(l=c.value,f=void 0,h=i.ec.get(l),!h||0===h.length){e.next=34;break}return e.next=11,tf(i.localStore,Mo(h[0]));case 11:f=e.sent,d=(0,o.Z)(h),e.prev=13,d.s();case 15:if((v=d.n()).done){e.next=24;break}return p=v.value,g=i.tc.get(p),e.next=20,Td(i,g);case 20:m=e.sent,m.snapshot&&u.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e["catch"](13),d.e(e.t0);case 29:return e.prev=29,d.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,of(i.localStore,l);case 36:return w=e.sent,e.next=39,tf(i.localStore,w);case 39:return f=e.sent,e.next=42,$h(i,Pd(w),l,!1);case 42:a.push(f);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e["catch"](2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.Zu.Go(u),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),Ld.apply(this,arguments)}function Pd(e){return Ao(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Fd(e){var t=di(e);return di(di(t.localStore).persistence).Ri()}function Vd(e,t,n,r){return jd.apply(this,arguments)}function jd(){return jd=(0,g.Z)((0,y.Z)().mark((function e(t,n,r,i){var a,o,u,s;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=di(t),!a.ac){e.next=3;break}return e.abrupt("return",void oi("SyncEngine","Ignoring unexpected query state notification."));case 3:if(o=a.ec.get(n),!(o&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,uf(a.localStore,Uo(o[0]));case 10:return u=e.sent,s=Bu.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,xd(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,nf(a.localStore,n,!0);case 17:return gd(a,n,i),e.abrupt("break",20);case 19:li();case 20:case"end":return e.stop()}}),e)}))),jd.apply(this,arguments)}function Ud(e,t,n){return Bd.apply(this,arguments)}function Bd(){return Bd=(0,g.Z)((0,y.Z)().mark((function e(t,n,r){var i,a,u,s,c,l,f,h,d;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=qd(t),!i.ac){e.next=45;break}a=(0,o.Z)(n),e.prev=3,a.s();case 5:if((u=a.n()).done){e.next=21;break}if(s=u.value,!i.ec.has(s)){e.next=10;break}return oi("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,of(i.localStore,s);case 12:return c=e.sent,e.next=15,tf(i.localStore,c);case 15:return l=e.sent,e.next=18,$h(i,Pd(c),l.targetId,!1);case 18:Bf(i.remoteStore,l);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e["catch"](3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:f=(0,o.Z)(r),e.prev=30,d=(0,y.Z)().mark((function e(){var t;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=h.value,e.t0=i.ec.has(t),!e.t0){e.next=5;break}return e.next=5,nf(i.localStore,t,!1).then((function(){qf(i.remoteStore,t),gd(i,t)}))["catch"](Wi);case 5:case"end":return e.stop()}}),e)})),f.s();case 33:if((h=f.n()).done){e.next=37;break}return e.delegateYield(d(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e["catch"](30),f.e(e.t2);case 42:return e.prev=42,f.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),Bd.apply(this,arguments)}function qd(e){var t=di(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=id.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sd.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ud.bind(null,t),t.Zu.Go=Lh.bind(null,t.eventManager),t.Zu.lc=Ph.bind(null,t.eventManager),t}function Gd(e){var t=di(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=cd.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=fd.bind(null,t),t}function Kd(e,t,n){var r=di(e);(function(){var e=(0,g.Z)((0,y.Z)().mark((function e(t,n,r){var i,a,o,u,s;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=di(e),r=rs(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ds.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(qh(i)),a=new Bh(i,t.localStore,n.wt),e.next=15,n.fc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Nu(o);case 19:return u=e.sent,u&&r._updateProgress(u),e.next=23,n.fc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,xd(t,s.Mu,void 0);case 31:return e.next=33,function(e,t){var n=di(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ds.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Ou));case 37:return e.prev=37,e.t0=e["catch"](0),e.abrupt("return",(si("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var zd=function(){function e(){(0,s.Z)(this,e),this.synchronizeTabs=!1}return(0,c.Z)(e,[{key:"initialize",value:function(){var e=(0,g.Z)((0,y.Z)().mark((function e(t){return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.wt=Cf(t.databaseInfo.databaseId),this.sharedClientState=this.dc(t),this.persistence=this._c(t),e.next=5,this.persistence.start();case 5:this.localStore=this.wc(t),this.gcScheduler=this.mc(t,this.localStore),this.indexBackfillerScheduler=this.gc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"mc",value:function(e,t){return null}},{key:"gc",value:function(e,t){return null}},{key:"wc",value:function(e){return Hl(this.persistence,new Kl,e.initialUser,this.wt)}},{key:"_c",value:function(e){return new Rl(Ll.Ms,this.wt)}},{key:"dc",value:function(e){return new xf}},{key:"terminate",value:function(){var e=(0,g.Z)((0,y.Z)().mark((function e(){return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),Hd=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r,i){var a;return(0,s.Z)(this,n),a=t.call(this),a.yc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return(0,c.Z)(n,[{key:"initialize",value:function(){var e=(0,g.Z)((0,y.Z)().mark((function e(t){var r=this;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d((0,f.Z)(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.yc.initialize(this,t);case 4:return e.next=6,Gd(this.yc.syncEngine);case 6:return e.next=8,ah(this.yc.remoteStore);case 8:return e.next=10,this.persistence.ci((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"wc",value:function(e){return Hl(this.persistence,new Kl,e.initialUser,this.wt)}},{key:"mc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new fl(n,e.asyncQueue,t)}},{key:"gc",value:function(e,t){var n=new ua(t,this.persistence);return new oa(e.asyncQueue,n)}},{key:"_c",value:function(e){var t=ql(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Jc.withCacheSize(this.cacheSizeBytes):Jc.DEFAULT;return new jl(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Af(),Zf(),this.wt,this.sharedClientState,!!this.forceOwnership)}},{key:"dc",value:function(e){return new xf}}]),n}(zd),Wd=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r){var i;return(0,s.Z)(this,n),i=t.call(this,e,r,!1),i.yc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return(0,c.Z)(n,[{key:"initialize",value:function(){var e=(0,g.Z)((0,y.Z)().mark((function e(t){var r,i=this;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d((0,f.Z)(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.yc.syncEngine,e.t0=this.sharedClientState instanceof bf,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={kr:Dd.bind(null,r),Or:Vd.bind(null,r),Mr:Ud.bind(null,r),Ri:Fd.bind(null,r),Nr:Zd.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.ci(function(){var e=(0,g.Z)((0,y.Z)().mark((function e(t){return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Nd(i.yc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"dc",value:function(e){var t=Af();if(!bf.V(t))throw new pi(vi.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=ql(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new bf(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(Hd),Qd=function(){function e(){(0,s.Z)(this,e)}return(0,c.Z)(e,[{key:"initialize",value:function(){var e=(0,g.Z)((0,y.Z)().mark((function e(t,n){var r=this;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return od(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=_d.bind(null,this.syncEngine),e.next=12,bh(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"createEventManager",value:function(e){return new Dh}},{key:"createDatastore",value:function(e){var t,n=Cf(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Tf(t));return function(e,t,n,r){return new Mf(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return od(o.syncEngine,e,0)},a=_f.V()?new _f:new Ef,new Pf(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new Qh(e,t,n,r,i,a);return o&&(u.ac=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=(0,g.Z)((0,y.Z)().mark((function e(t){var n;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=di(t),oi("RemoteStore","RemoteStore shutting down."),n.lu.add(5),e.next=5,jf(n);case 5:n.du.shutdown(),n._u.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Jd(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return(0,g.Z)((0,y.Z)().mark((function r(){var i;return(0,y.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return(0,g.Z)((0,y.Z)().mark((function e(){return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yd=function(){function e(t){(0,s.Z)(this,e),this.observer=t,this.muted=!1}return(0,c.Z)(e,[{key:"next",value:function(e){this.observer.next&&this.Ic(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Tc",value:function(){this.muted=!0}},{key:"Ic",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),$d=function(){function e(t,n){var r=this;(0,s.Z)(this,e),this.Ec=t,this.wt=n,this.metadata=new yi,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then((function(e){e&&e.Cu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return(0,c.Z)(e,[{key:"close",value:function(){return this.Ec.cancel()}},{key:"getMetadata",value:function(){var e=(0,g.Z)((0,y.Z)().mark((function e(){return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"fc",value:function(){var e=(0,g.Z)((0,y.Z)().mark((function e(){return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Rc());case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"Rc",value:function(){var e=(0,g.Z)((0,y.Z)().mark((function e(){var t,n,r,i;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.bc();case 2:if(t=e.sent,null!==t){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ac.decode(t),r=Number(n),isNaN(r)&&this.Pc("length string (".concat(n,") is not valid number")),e.next=9,this.vc(r);case 9:return i=e.sent,e.abrupt("return",new jh(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"Vc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"bc",value:function(){var e=(0,g.Z)((0,y.Z)().mark((function e(){var t,n;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(this.Vc()<0)){e.next=7;break}return e.next=3,this.Sc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return t=this.Vc(),t<0&&this.Pc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"vc",value:function(){var e=(0,g.Z)((0,y.Z)().mark((function e(t){var n;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Sc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Pc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ac.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"Pc",value:function(e){throw this.Ec.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Sc",value:function(){var e=(0,g.Z)((0,y.Z)().mark((function e(){var t,n;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.Ec.read();case 2:return t=e.sent,t.done||(n=new Uint8Array(this.buffer.length+t.value.length),n.set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),Xd=function(){function e(t){(0,s.Z)(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return(0,c.Z)(e,[{key:"lookup",value:function(){var e=(0,g.Z)((0,y.Z)().mark((function e(t){var n,r=this;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new pi(vi.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=(0,g.Z)((0,y.Z)().mark((function e(t,n){var r,i,a,o,u,s;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=di(t),i=ls(r.wt)+"/documents",a={documents:n.map((function(e){return os(r.wt,e)}))},e.next=5,r.ao("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=vs(r.wt,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());fi(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Eu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=(0,g.Z)((0,y.Z)().mark((function e(){var t,n=this;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t["delete"](e.key.toString())})),t.forEach((function(e,t){var r=Li.fromPath(t);n.mutations.push(new _u(r,n.precondition(r)))})),e.next=7,function(){var e=(0,g.Z)((0,y.Z)().mark((function e(t,n){var r,i,a;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=di(t),i=ls(r.wt)+"/documents",a={writes:n.map((function(e){return ys(r.wt,e)}))},e.next=3,r.ro("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw li();t=Di.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new pi(vi.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?su.updateTime(t):su.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Di.min()))throw new pi(vi.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return su.updateTime(t)}return su.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),ev=function(){function e(t,n,r,i,a){(0,s.Z)(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Dc=r.maxAttempts,this.So=new Df(this.asyncQueue,"transaction_retry")}return(0,c.Z)(e,[{key:"run",value:function(){this.Dc-=1,this.Cc()}},{key:"Cc",value:function(){var e=this;this.So.Io((0,g.Z)((0,y.Z)().mark((function t(){var n,r;return(0,y.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=new Xd(e.datastore),r=e.xc(n),r&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)}))["catch"]((function(t){e.Nc(t)}))}))}))["catch"]((function(t){e.Nc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"xc",value:function(e){try{var t=this.updateFunction(e);return!Ca(t)&&t["catch"]&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Nc",value:function(e){var t=this;this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Cc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"kc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Su(t)}return!1}}]),e}(),tv=function(){function e(t,n,r,i){var a=this;(0,s.Z)(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ti.UNAUTHENTICATED,this.clientId=Si.I(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=(0,g.Z)((0,y.Z)().mark((function e(t){return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return oi("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return oi("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return(0,c.Z)(e,[{key:"getConfiguration",value:function(){var e=(0,g.Z)((0,y.Z)().mark((function e(){return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new pi(vi.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,g.Z)((0,y.Z)().mark((function n(){var r;return(0,y.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n["catch"](0),r=Sh(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv(e,t){return rv.apply(this,arguments)}function rv(){return rv=(0,g.Z)((0,y.Z)().mark((function e(t,n){var r,i;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),oi("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=(0,g.Z)((0,y.Z)().mark((function e(t){return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Wl(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),rv.apply(this,arguments)}function iv(e,t){return av.apply(this,arguments)}function av(){return av=(0,g.Z)((0,y.Z)().mark((function e(t,n){var r,i;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,ov(t);case 3:return r=e.sent,oi("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return wh(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return wh(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),av.apply(this,arguments)}function ov(e){return uv.apply(this,arguments)}function uv(){return uv=(0,g.Z)((0,y.Z)().mark((function e(t){return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return oi("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,nv(t,new zd);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),uv.apply(this,arguments)}function sv(e){return cv.apply(this,arguments)}function cv(){return cv=(0,g.Z)((0,y.Z)().mark((function e(t){return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return oi("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,iv(t,new Qd);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),cv.apply(this,arguments)}function lv(e){return ov(e).then((function(e){return e.persistence}))}function fv(e){return ov(e).then((function(e){return e.localStore}))}function hv(e){return sv(e).then((function(e){return e.remoteStore}))}function dv(e){return sv(e).then((function(e){return e.syncEngine}))}function vv(e){return pv.apply(this,arguments)}function pv(){return pv=(0,g.Z)((0,y.Z)().mark((function e(t){var n,r;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,sv(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Jh.bind(null,n.syncEngine),r.onUnlisten=ed.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),pv.apply(this,arguments)}function yv(e){return e.asyncQueue.enqueue((0,g.Z)((0,y.Z)().mark((function t(){var n,r;return(0,y.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,lv(e);case 2:return n=t.sent,t.next=5,hv(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=di(e);return t.lu["delete"](0),Ff(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}function gv(e){return e.asyncQueue.enqueue((0,g.Z)((0,y.Z)().mark((function t(){var n,r;return(0,y.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,lv(e);case 2:return n=t.sent,t.next=5,hv(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=(0,g.Z)((0,y.Z)().mark((function e(t){var n;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=di(t),n.lu.add(0),e.next=4,jf(n);case 4:n._u.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}function mv(e,t){var n=new yi;return e.asyncQueue.enqueueAndForget((0,g.Z)((0,y.Z)().mark((function r(){return(0,y.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.t0=function(){var e=(0,g.Z)((0,y.Z)().mark((function e(t,n,r){var i,a;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=di(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:i=e.sent,i.isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new pi(vi.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e["catch"](0),a=Sh(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,fv(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}function wv(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new yi;return e.asyncQueue.enqueueAndForget((0,g.Z)((0,y.Z)().mark((function i(){return(0,y.Z)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Yd({next:function(a){t.enqueueAndForget((function(){return Rh(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new pi(vi.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new pi(vi.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Vh(Zo(n.path),a,{includeMetadataChanges:!0,Du:!0});return Oh(e,o)},i.next=3,vv(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function kv(e,t){var n=new yi;return e.asyncQueue.enqueueAndForget((0,g.Z)((0,y.Z)().mark((function r(){return(0,y.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.t0=function(){var e=(0,g.Z)((0,y.Z)().mark((function e(t,n,r){var i,a,o,u,s;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,af(t,n,!0);case 3:i=e.sent,a=new zh(n,i.ji),o=a.Ku(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](0),s=Sh(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,fv(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}function bv(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new yi;return e.asyncQueue.enqueueAndForget((0,g.Z)((0,y.Z)().mark((function i(){return(0,y.Z)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Yd({next:function(n){t.enqueueAndForget((function(){return Rh(e,o)})),n.fromCache&&"server"===r.source?i.reject(new pi(vi.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Vh(n,a,{includeMetadataChanges:!0,Du:!0});return Oh(e,o)},i.next=3,vv(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function xv(e,t){var n=new Yd(t);return e.asyncQueue.enqueueAndForget((0,g.Z)((0,y.Z)().mark((function t(){return(0,y.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=function(e,t){di(e).Tu.add(t),t.next()},t.next=3,vv(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Tc(),e.asyncQueue.enqueueAndForget((0,g.Z)((0,y.Z)().mark((function t(){return(0,y.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=function(e,t){di(e).Tu["delete"](t)},t.next=3,vv(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}function Ev(e,t,n){var r=new yi;return e.asyncQueue.enqueueAndForget((0,g.Z)((0,y.Z)().mark((function i(){var a;return(0,y.Z)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,function(e){return sv(e).then((function(e){return e.datastore}))}(e);case 2:a=i.sent,new ev(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}function _v(e,t,n,r){var i=function(e,t){var n;return n="string"==typeof e?(new TextEncoder).encode(e):e,function(e,t){return new $d(e,t)}(function(e,t){if(e instanceof Uint8Array)return Jd(e,t);if(e instanceof ArrayBuffer)return Jd(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n,Cf(t));e.asyncQueue.enqueueAndForget((0,g.Z)((0,y.Z)().mark((function t(){return(0,y.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=Kd,t.next=3,dv(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}function Iv(e,t){return e.asyncQueue.enqueue((0,g.Z)((0,y.Z)().mark((function n(){return(0,y.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=di(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ds.getNamedQuery(e,t)}))},n.next=3,fv(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}var Sv=new Map;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(e,t,n){if(!n)throw new pi(vi.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Av(e,t,n,r){if(!0===t&&!0===r)throw new pi(vi.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Zv(e){if(!Li.isDocumentKey(e))throw new pi(vi.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Cv(e){if(Li.isDocumentKey(e))throw new pi(vi.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Dv(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==(0,u.Z)(e)){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":li()}function Ov(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new pi(vi.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Dv(e);throw new pi(vi.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function Nv(e,t){if(t<=0)throw new pi(vi.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rv=function(){function e(t){var n;if((0,s.Z)(this,e),void 0===t.host){if(void 0!==t.ssl)throw new pi(vi.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new pi(vi.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Av("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return(0,c.Z)(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Mv=function(){function e(t,n,r){(0,s.Z)(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rv({}),this._settingsFrozen=!1,t instanceof Za?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new pi(vi.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Za(e.options.projectId)}(t))}return(0,c.Z)(e,[{key:"app",get:function(){if(!this._app)throw new pi(vi.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new pi(vi.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rv(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new mi;switch(e.type){case"gapi":var t=e.client;return fi(!("object"!=(0,u.Z)(t)||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new xi(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new pi(vi.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Sv.get(e);t&&(oi("ComponentProvider","Removing Datastore"),Sv["delete"](e),t.terminate())}(this),Promise.resolve()}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Ov(e,Mv))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&si("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=ti.MOCK_USER;else{o=(0,x.Sg)(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new pi(vi.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ti(s)}e._authCredentials=new wi(new gi(o,u))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pv=function(){function e(t,n,r){(0,s.Z)(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return(0,c.Z)(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Vv(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Fv=function(){function e(t,n,r){(0,s.Z)(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return(0,c.Z)(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Vv=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r,i){var a;return(0,s.Z)(this,n),a=t.call(this,e,r,Zo(i)),a._path=i,a.type="collection",a}return(0,c.Z)(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Pv(this.firestore,null,new Li(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Fv);function jv(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,x.m9)(e),Tv("collection","path",t),e instanceof Mv){var a=Ni.fromString.apply(Ni,[t].concat(r));return Cv(a),new Vv(e,null,a)}if(!(e instanceof Pv||e instanceof Vv))throw new pi(vi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Ni.fromString.apply(Ni,[t].concat(r)));return Cv(o),new Vv(e.firestore,null,o)}function Uv(e,t){if(e=Ov(e,Mv),Tv("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new pi(vi.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Fv(e,null,function(e){return new To(Ni.emptyPath(),e)}(t))}function Bv(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,x.m9)(e),1===arguments.length&&(t=Si.I()),Tv("doc","path",t),e instanceof Mv){var a=Ni.fromString.apply(Ni,[t].concat(r));return Zv(a),new Pv(e,null,new Li(a))}if(!(e instanceof Pv||e instanceof Vv))throw new pi(vi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Ni.fromString.apply(Ni,[t].concat(r)));return Zv(o),new Pv(e.firestore,e instanceof Vv?e.converter:null,new Li(o))}function qv(e,t){return e=(0,x.m9)(e),t=(0,x.m9)(t),(e instanceof Pv||e instanceof Vv)&&(t instanceof Pv||t instanceof Vv)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Gv(e,t){return e=(0,x.m9)(e),t=(0,x.m9)(t),e instanceof Fv&&t instanceof Fv&&e.firestore===t.firestore&&Po(e._query,t._query)&&e.converter===t.converter
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var Kv=function(){function e(){var t=this;(0,s.Z)(this,e),this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new Df(this,"async_queue_retry"),this.Kc=function(){var e=Zf();e&&oi("AsyncQueue","Visibility state changed to "+e.visibilityState),t.So.Eo()};var n=Zf();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Kc)}return(0,c.Z)(e,[{key:"isShuttingDown",get:function(){return this.Fc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Gc(),this.Qc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;var t=Zf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Gc(),this.Fc)return new Promise((function(){}));var n=new yi;return this.Qc((function(){return t.Fc&&t.Uc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Mc.push(e),t.jc()}))}},{key:"jc",value:function(){var e=(0,g.Z)((0,y.Z)().mark((function e(){var t=this;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0===this.Mc.length){e.next=14;break}return e.prev=1,e.next=4,this.Mc[0]();case 4:this.Mc.shift(),this.So.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e["catch"](1),ta(e.t0)){e.next=12;break}throw e.t0;case 12:oi("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Mc.length>0&&this.So.Io((function(){return t.jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"Qc",value:function(e){var t=this,n=this.Oc.then((function(){return t.Lc=!0,e()["catch"]((function(e){t.Bc=e,t.Lc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e);throw ui("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Lc=!1,e}))}));return this.Oc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Gc(),this.qc.indexOf(e)>-1&&(t=0);var i=Ih.createAndSchedule(this,e,t,n,(function(e){return r.Wc(e)}));return this.$c.push(i),i}},{key:"Gc",value:function(){this.Bc&&li()}},{key:"verifyOperationInProgress",value:function(){}},{key:"zc",value:function(){var e=(0,g.Z)((0,y.Z)().mark((function e(){var t;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.Oc,e.next=3,t;case 3:if(t!==this.Oc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"Hc",value:function(e){var t,n=(0,o.Z)(this.$c);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.timerId===e)return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Jc",value:function(e){var t=this;return this.zc().then((function(){t.$c.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=(0,o.Z)(t.$c);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.zc()}))}},{key:"Yc",value:function(e){this.qc.push(e)}},{key:"Wc",value:function(e){var t=this.$c.indexOf(e);this.$c.splice(t,1)}}]),e}();function zv(e){return function(e,t){if("object"!=(0,u.Z)(e)||null===e)return!1;var n,r=e,i=(0,o.Z)(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(s){i.e(s)}finally{i.f()}return!1}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,["next","error","complete"])}var Hv=function(){function e(){(0,s.Z)(this,e),this._progressObserver={},this._taskCompletionResolver=new yi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return(0,c.Z)(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise["catch"](e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),Wv=-1,Qv=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r,i){var a;return(0,s.Z)(this,n),a=t.call(this,e,r,i),a.type="firestore",a._queue=new Kv,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return(0,c.Z)(n,[{key:"_terminate",value:function(){return this._firestoreClient||Yv(this),this._firestoreClient.terminate()}}]),n}(Mv);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(e){return e._firestoreClient||Yv(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Yv(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Aa(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new tv(e._authCredentials,e._appCheckCredentials,e._queue,r)}function $v(e,t){up(e=Ov(e,Qv));var n=Jv(e),r=e._freezeSettings(),i=new Qd;return ep(n,i,new Hd(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}function Xv(e){up(e=Ov(e,Qv));var t=Jv(e),n=e._freezeSettings(),r=new Qd;return ep(t,r,new Wd(r,n.cacheSizeBytes))}function ep(e,t,n){var r=new yi;return e.asyncQueue.enqueue((0,g.Z)((0,y.Z)().mark((function i(){var a;return(0,y.Z)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,nv(e,n);case 3:return i.next=5,iv(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i["catch"](0),a=i.t0,function(e){return"FirebaseError"===e.name?e.code===vi.FAILED_PRECONDITION||e.code===vi.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a)){i.next=13;break}throw a;case 13:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function tp(e){if(e._initialized&&!e._terminated)throw new pi(vi.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new yi;return e._queue.enqueueAndForgetEvenWhileRestricted((0,g.Z)((0,y.Z)().mark((function n(){return(0,y.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=(0,g.Z)((0,y.Z)().mark((function e(t){var n;return(0,y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if($i.V()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,$i["delete"](n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(ql(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n["catch"](0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}function np(e){return function(e){var t=new yi;return e.asyncQueue.enqueueAndForget((0,g.Z)((0,y.Z)().mark((function n(){return(0,y.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.t0=dd,n.next=3,dv(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(Jv(e=Ov(e,Qv)))}function rp(e){return yv(Jv(e=Ov(e,Qv)))}function ip(e){return gv(Jv(e=Ov(e,Qv)))}function ap(e,t){var n=Jv(e=Ov(e,Qv)),r=new Hv;return _v(n,e._databaseId,t,r),r}function op(e,t){return Iv(Jv(e=Ov(e,Qv)),t).then((function(t){return t?new Fv(e,null,t.query):null}))}function up(e){if(e._initialized||e._terminated)throw new pi(vi.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sp=function(){function e(){(0,s.Z)(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new pi(vi.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mi(n)}return(0,c.Z)(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var cp=function(){function e(t){(0,s.Z)(this,e),this._byteString=t}return(0,c.Z)(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(ka.fromBase64String(t))}catch(t){throw new pi(vi.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(ka.fromUint8Array(t))}}]),e}(),lp=(0,c.Z)((function e(t){(0,s.Z)(this,e),this._methodName=t})),fp=function(){function e(t,n){if((0,s.Z)(this,e),!isFinite(t)||t<-90||t>90)throw new pi(vi.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new pi(vi.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return(0,c.Z)(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Ti(this._lat,e._lat)||Ti(this._long,e._long)}}]),e}(),hp=/^__.*__$/,dp=function(){function e(t,n,r){(0,s.Z)(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return(0,c.Z)(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new gu(e,this.data,this.fieldMask,t,this.fieldTransforms):new yu(e,this.data,t,this.fieldTransforms)}}]),e}(),vp=function(){function e(t,n,r){(0,s.Z)(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return(0,c.Z)(e,[{key:"toMutation",value:function(e,t){return new gu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw li()}}var yp=function(){function e(t,n,r,i,a,o){(0,s.Z)(this,e),this.settings=t,this.databaseId=n,this.wt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Xc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return(0,c.Z)(e,[{key:"path",get:function(){return this.settings.path}},{key:"Zc",get:function(){return this.settings.Zc}},{key:"ta",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ea",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.sa(e),r}},{key:"ia",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.Xc(),r}},{key:"ra",value:function(e){return this.ta({path:void 0,na:!0})}},{key:"oa",value:function(e){return Lp(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Xc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.sa(this.path.get(e))}},{key:"sa",value:function(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(pp(this.Zc)&&hp.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}]),e}(),gp=function(){function e(t,n,r){(0,s.Z)(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.wt=r||Cf(t)}return(0,c.Z)(e,[{key:"aa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new yp({Zc:e,methodName:t,ca:n,path:Mi.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}]),e}();function mp(e){var t=e._freezeSettings(),n=Cf(e._databaseId);return new gp(e._databaseId,!!t.ignoreUndefinedProperties,n)}function wp(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},u=e.aa(a.merge||a.mergeFields?2:0,t,n,i);Op("Data must be an object, but it was:",u,r);var s,c,l=Cp(r,u);if(a.merge)s=new ma(u.fieldMask),c=u.fieldTransforms;else if(a.mergeFields){var f,h=[],d=(0,o.Z)(a.mergeFields);try{for(d.s();!(f=d.n()).done;){var v=f.value,p=Np(t,v,n);if(!u.contains(p))throw new pi(vi.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));Pp(h,p)||h.push(p)}}catch(y){d.e(y)}finally{d.f()}s=new ma(h),c=u.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,c=u.fieldTransforms;return new dp(new eo(l),s,c)}var kp=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,s.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Zc)throw 1===e.Zc?e.oa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.oa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(lp);function bp(e,t,n){return new yp({Zc:3,ca:t.settings.ca,methodName:e._methodName,na:n},t.databaseId,t.wt,t.ignoreUndefinedProperties)}var xp=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,s.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"_toFieldTransform",value:function(e){return new au(e.path,new Yo)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(lp),Ep=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r){var i;return(0,s.Z)(this,n),i=t.call(this,e),i.ha=r,i}return(0,c.Z)(n,[{key:"_toFieldTransform",value:function(e){var t=bp(this,e,!0),n=this.ha.map((function(e){return Zp(e,t)})),r=new $o(n);return new au(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(lp),_p=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r){var i;return(0,s.Z)(this,n),i=t.call(this,e),i.ha=r,i}return(0,c.Z)(n,[{key:"_toFieldTransform",value:function(e){var t=bp(this,e,!0),n=this.ha.map((function(e){return Zp(e,t)})),r=new eu(n);return new au(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(lp),Ip=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r){var i;return(0,s.Z)(this,n),i=t.call(this,e),i.la=r,i}return(0,c.Z)(n,[{key:"_toFieldTransform",value:function(e){var t=new nu(e.wt,zo(e.wt,this.la));return new au(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(lp);function Sp(e,t,n,r){var i=e.aa(1,t,n);Op("Data must be an object, but it was:",i,r);var a=[],o=eo.empty();la(r,(function(e,r){var u=Mp(t,e,n);r=(0,x.m9)(r);var s=i.ia(u);if(r instanceof kp)a.push(u);else{var c=Zp(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new ma(a);return new vp(o,u,i.fieldTransforms)}function Tp(e,t,n,r,i,a){var o=e.aa(1,t,n),u=[Np(t,r,n)],s=[i];if(a.length%2!=0)throw new pi(vi.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(Np(t,a[c])),s.push(a[c+1]);for(var l=[],f=eo.empty(),h=u.length-1;h>=0;--h)if(!Pp(l,u[h])){var d=u[h],v=s[h];v=(0,x.m9)(v);var p=o.ia(d);if(v instanceof kp)l.push(d);else{var y=Zp(v,p);null!=y&&(l.push(d),f.set(d,y))}}var g=new ma(l);return new vp(f,g,o.fieldTransforms)}function Ap(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Zp(n,e.aa(r?4:3,t))}function Zp(e,t){if(Dp(e=(0,x.m9)(e)))return Op("Unsupported field value:",t,e),Cp(e,t);if(e instanceof lp)return function(e,t){if(!pp(t.Zc))throw t.oa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.oa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.na&&4!==t.Zc)throw t.oa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=(0,o.Z)(e);try{for(a.s();!(n=a.n()).done;){var u=n.value,s=Zp(u,t.ra(i));null==s&&(s={nullValue:"NULL_VALUE"}),r.push(s),i++}}catch(c){a.e(c)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=(0,x.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return zo(t.wt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Ci.fromDate(e);return{timestampValue:es(t.wt,n)}}if(e instanceof Ci){var r=new Ci(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:es(t.wt,r)}}if(e instanceof fp)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof cp)return{bytesValue:ts(t.wt,e._byteString)};if(e instanceof Pv){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.oa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:is(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.oa("Unsupported field value: ".concat(Dv(e)))}(e,t)}function Cp(e,t){var n={};return fa(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):la(e,(function(e,r){var i=Zp(r,t.ea(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Dp(e){return!("object"!=(0,u.Z)(e)||null===e||e instanceof Array||e instanceof Date||e instanceof Ci||e instanceof fp||e instanceof cp||e instanceof Pv||e instanceof lp)}function Op(e,t,n){if(!Dp(n)||!function(e){return"object"==(0,u.Z)(e)&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Dv(n);throw"an object"===r?t.oa(e+" a custom object"):t.oa(e+" "+r)}}function Np(e,t,n){if((t=(0,x.m9)(t))instanceof sp)return t._internalPath;if("string"==typeof t)return Mp(e,t);throw Lp("Field path arguments must be of type string or ",e,!1,void 0,n)}var Rp=new RegExp("[~\\*/\\[\\]]");function Mp(e,t,n){if(t.search(Rp)>=0)throw Lp("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return(0,r.Z)(sp,(0,m.Z)(t.split(".")))._internalPath}catch(i){throw Lp("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Lp(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new pi(vi.INVALID_ARGUMENT,u+e+s)}function Pp(e,t){return e.some((function(e){return e.isEqual(t)}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fp=function(){function e(t,n,r,i,a){(0,s.Z)(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return(0,c.Z)(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Pv(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Vp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(jp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Vp=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,s.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"data",value:function(){return d((0,f.Z)(n.prototype),"data",this).call(this)}}]),n}(Fp);function jp(e,t){return"string"==typeof t?Mp(e,t):t instanceof sp?t._internalPath:t._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Up=function(){function e(t,n){(0,s.Z)(this,e),this.hasPendingWrites=t,this.fromCache=n}return(0,c.Z)(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Bp=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r,i,a,o,u){var c;return(0,s.Z)(this,n),c=t.call(this,e,r,i,a,u),c._firestore=e,c._firestoreImpl=e,c.metadata=o,c}return(0,c.Z)(n,[{key:"exists",value:function(){return d((0,f.Z)(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new qp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(jp("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Fp),qp=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,s.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d((0,f.Z)(n.prototype),"data",this).call(this,e)}}]),n}(Bp),Gp=function(){function e(t,n,r,i){(0,s.Z)(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Up(i.hasPendingWrites,i.fromCache),this.query=r}return(0,c.Z)(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new qp(n._firestore,n._userDataWriter,r.key,r,new Up(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pi(vi.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new qp(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Up(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new qp(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Up(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r["delete"](t.doc.key)),1!==t.type&&(r=r.add(t.doc),a=r.indexOf(t.doc.key)),{type:Kp(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function Kp(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return li()}}function zp(e,t){return e instanceof Bp&&t instanceof Bp?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Gp&&t instanceof Gp&&e._firestore===t._firestore&&Gv(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new pi(vi.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Wp=(0,c.Z)((function e(){(0,s.Z)(this,e)}));function Qp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var Jp=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r,i){var a;return(0,s.Z)(this,n),a=t.call(this),a.fa=e,a.da=r,a._a=i,a.type="where",a}return(0,c.Z)(n,[{key:"_apply",value:function(e){var t=mp(e.firestore),n=function(e,t,n,r,i,a,u){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new pi(vi.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){fy(u,a);var c,l=[],f=(0,o.Z)(u);try{for(f.s();!(c=f.n()).done;){var h=c.value;l.push(ly(r,e,h))}}catch(v){f.e(v)}finally{f.f()}s={arrayValue:{values:l}}}else s=ly(r,e,u)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||fy(u,a),s=Ap(n,t,u,"in"===a||"not-in"===a);var d=ho.create(i,a,s);return function(e,t){if(t.ht()){var n=Oo(e);if(null!==n&&!n.isEqual(t.field))throw new pi(vi.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Do(e);null!==r&&hy(e,t.field,r)}var i=function(e,t){var n,r=(0,o.Z)(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(v){r.e(v)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new pi(vi.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new pi(vi.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,d),d}(e._query,"where",t,e.firestore._databaseId,this.fa,this.da,this._a);return new Fv(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new To(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(Wp);function Yp(e,t,n){var r=t,i=jp("where",e);return new Jp(i,r,n)}var $p=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r){var i;return(0,s.Z)(this,n),i=t.call(this),i.fa=e,i.wa=r,i.type="orderBy",i}return(0,c.Z)(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new pi(vi.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new pi(vi.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Eo(t,n);return function(e,t){if(null===Do(e)){var n=Oo(e);null!==n&&hy(e,n,t.field)}}(e,r),r}(e._query,this.fa,this.wa);return new Fv(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new To(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(Wp);function Xp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=t,r=jp("orderBy",e);return new $p(r,n)}var ey=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r,i){var a;return(0,s.Z)(this,n),a=t.call(this),a.type=e,a.ma=r,a.ga=i,a}return(0,c.Z)(n,[{key:"_apply",value:function(e){return new Fv(e.firestore,e.converter,Lo(e._query,this.ma,this.ga))}}]),n}(Wp);function ty(e){return Nv("limit",e),new ey("limit",e,"F")}function ny(e){return Nv("limitToLast",e),new ey("limitToLast",e,"L")}var ry=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r,i){var a;return(0,s.Z)(this,n),a=t.call(this),a.type=e,a.ya=r,a.pa=i,a}return(0,c.Z)(n,[{key:"_apply",value:function(e){var t=cy(e,this.type,this.ya,this.pa);return new Fv(e.firestore,e.converter,function(e,t){return new To(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(Wp);function iy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ry("startAt",t,!0)}function ay(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ry("startAfter",t,!1)}var oy=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r,i){var a;return(0,s.Z)(this,n),a=t.call(this),a.type=e,a.ya=r,a.pa=i,a}return(0,c.Z)(n,[{key:"_apply",value:function(e){var t=cy(e,this.type,this.ya,this.pa);return new Fv(e.firestore,e.converter,function(e,t){return new To(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(Wp);function uy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new oy("endBefore",t,!1)}function sy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new oy("endAt",t,!0)}function cy(e,t,n,r){if(n[0]=(0,x.m9)(n[0]),n[0]instanceof Fp)return function(e,t,n,r,i){if(!r)throw new pi(vi.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,u=[],s=(0,o.Z)(Ro(e));try{for(s.s();!(a=s.n()).done;){var c=a.value;if(c.field.isKeyField())u.push(Ba(t,r.key));else{var l=r.data.field(c.field);if(Ia(l))throw new pi(vi.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===l){var f=c.field.canonicalString();throw new pi(vi.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(f,"' (used as the orderBy) does not exist."))}u.push(l)}}}catch(h){s.e(h)}finally{s.f()}return new xo(u,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=mp(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new pi(vi.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],c=0;c<i.length;c++){var l=i[c];if(o[c].field.isKeyField()){if("string"!=typeof l)throw new pi(vi.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat((0,u.Z)(l)));if(!No(e)&&-1!==l.indexOf("/"))throw new pi(vi.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(l,"' contains a slash."));var f=e.path.child(Ni.fromString(l));if(!Li.isDocumentKey(f))throw new pi(vi.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(f,"' is not because it contains an odd number of segments."));var h=new Li(f);s.push(Ba(t,h))}else{var d=Ap(n,r,l);s.push(d)}}return new xo(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function ly(e,t,n){if("string"==typeof(n=(0,x.m9)(n))){if(""===n)throw new pi(vi.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!No(t)&&-1!==n.indexOf("/"))throw new pi(vi.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Ni.fromString(n));if(!Li.isDocumentKey(r))throw new pi(vi.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Ba(e,new Li(r))}if(n instanceof Pv)return Ba(e,n._key);throw new pi(vi.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Dv(n),"."))}function fy(e,t){if(!Array.isArray(e)||0===e.length)throw new pi(vi.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new pi(vi.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function hy(e,t,n){if(!n.isEqual(t))throw new pi(vi.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dy={maxAttempts:5},vy=function(){function e(){(0,s.Z)(this,e)}return(0,c.Z)(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Ma(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ea(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_a(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw li()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return la(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new fp(Ea(e.latitude),Ea(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Sa(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ta(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=xa(e);return new Ci(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Ni.fromString(e);fi(Ds(n));var r=new Za(n.get(1),n.get(3)),i=new Li(n.popFirst(5));return r.isEqual(t)||ui("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function py(e,t,n){var r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}var yy=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e){var r;return(0,s.Z)(this,n),r=t.call(this),r.firestore=e,r}return(0,c.Z)(n,[{key:"convertBytes",value:function(e){return new cp(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Pv(this.firestore,null,t)}}]),n}(vy),gy=function(){function e(t,n){(0,s.Z)(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=mp(t)}return(0,c.Z)(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=my(e,this._firestore),i=py(r.converter,t,n),a=wp(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,su.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=my(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=(0,x.m9)(t))||t instanceof sp?Tp(this._dataReader,"WriteBatch.update",i._key,t,n,o):Sp(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,su.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=my(e,this._firestore);return this._mutations=this._mutations.concat(new Eu(t._key,su.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new pi(vi.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(e,t){if((e=(0,x.m9)(e)).firestore!==t)throw new pi(vi.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(e){e=Ov(e,Pv);var t=Ov(e.firestore,Qv);return wv(Jv(t),e._key).then((function(n){return Ny(t,e,n)}))}var ky=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e){var r;return(0,s.Z)(this,n),r=t.call(this),r.firestore=e,r}return(0,c.Z)(n,[{key:"convertBytes",value:function(e){return new cp(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Pv(this.firestore,null,t)}}]),n}(vy);function by(e){e=Ov(e,Pv);var t=Ov(e.firestore,Qv),n=Jv(t),r=new ky(t);return mv(n,e._key).then((function(n){return new Bp(t,r,e._key,n,new Up(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function xy(e){e=Ov(e,Pv);var t=Ov(e.firestore,Qv);return wv(Jv(t),e._key,{source:"server"}).then((function(n){return Ny(t,e,n)}))}function Ey(e){e=Ov(e,Fv);var t=Ov(e.firestore,Qv),n=Jv(t),r=new ky(t);return Hp(e._query),bv(n,e._query).then((function(n){return new Gp(t,r,e,n)}))}function _y(e){e=Ov(e,Fv);var t=Ov(e.firestore,Qv),n=Jv(t),r=new ky(t);return kv(n,e._query).then((function(n){return new Gp(t,r,e,n)}))}function Iy(e){e=Ov(e,Fv);var t=Ov(e.firestore,Qv),n=Jv(t),r=new ky(t);return bv(n,e._query,{source:"server"}).then((function(n){return new Gp(t,r,e,n)}))}function Sy(e,t,n){e=Ov(e,Pv);var r=Ov(e.firestore,Qv),i=py(e.converter,t,n);return Oy(r,[wp(mp(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,su.none())])}function Ty(e,t,n){e=Ov(e,Pv);for(var r,i=Ov(e.firestore,Qv),a=mp(i),o=arguments.length,u=new Array(o>3?o-3:0),s=3;s<o;s++)u[s-3]=arguments[s];return r="string"==typeof(t=(0,x.m9)(t))||t instanceof sp?Tp(a,"updateDoc",e._key,t,n,u):Sp(a,"updateDoc",e._key,t),Oy(i,[r.toMutation(e._key,su.exists(!0))])}function Ay(e){return Oy(Ov(e.firestore,Qv),[new Eu(e._key,su.none())])}function Zy(e,t){var n=Ov(e.firestore,Qv),r=Bv(e),i=py(e.converter,t);return Oy(n,[wp(mp(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,su.exists(!1))]).then((function(){return r}))}function Cy(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=(0,x.m9)(e);var s={includeMetadataChanges:!1},c=0;"object"!=(0,u.Z)(n[c])||zv(n[c])||(s=n[c],c++);var l,f,h,d={includeMetadataChanges:s.includeMetadataChanges};if(zv(n[c])){var v=n[c];n[c]=null===(i=v.next)||void 0===i?void 0:i.bind(v),n[c+1]=null===(a=v.error)||void 0===a?void 0:a.bind(v),n[c+2]=null===(o=v.complete)||void 0===o?void 0:o.bind(v)}if(e instanceof Pv)f=Ov(e.firestore,Qv),h=Zo(e._key.path),l={next:function(t){n[c]&&n[c](Ny(f,e,t))},error:n[c+1],complete:n[c+2]};else{var p=Ov(e,Fv);f=Ov(p.firestore,Qv),h=p._query;var m=new ky(f);l={next:function(e){n[c]&&n[c](new Gp(f,m,p,e))},error:n[c+1],complete:n[c+2]},Hp(e._query)}return function(e,t,n,r){var i=new Yd(r),a=new Vh(t,i,n);return e.asyncQueue.enqueueAndForget((0,g.Z)((0,y.Z)().mark((function t(){return(0,y.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=Oh,t.next=3,vv(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Tc(),e.asyncQueue.enqueueAndForget((0,g.Z)((0,y.Z)().mark((function t(){return(0,y.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=Rh,t.next=3,vv(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Jv(f),h,d,l)}function Dy(e,t){return xv(Jv(e=Ov(e,Qv)),zv(t)?t:{next:t})}function Oy(e,t){return function(e,t){var n=new yi;return e.asyncQueue.enqueueAndForget((0,g.Z)((0,y.Z)().mark((function r(){return(0,y.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.t0=nd,r.next=3,dv(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Jv(e),t)}function Ny(e,t,n){var r=n.docs.get(t._key),i=new ky(e);return new Bp(e,i,t._key,r,new Up(n.hasPendingWrites,n.fromCache),t.converter)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ry=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r){var i;return(0,s.Z)(this,n),i=t.call(this,e,r),i._firestore=e,i}return(0,c.Z)(n,[{key:"get",value:function(e){var t=this,r=my(e,this._firestore),i=new ky(this._firestore);return d((0,f.Z)(n.prototype),"get",this).call(this,e).then((function(e){return new Bp(t._firestore,i,r._key,e._document,new Up(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){(0,s.Z)(this,e),this._firestore=t,this._transaction=n,this._dataReader=mp(t)}return(0,c.Z)(e,[{key:"get",value:function(e){var t=this,n=my(e,this._firestore),r=new yy(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return li();var i=e[0];if(i.isFoundDocument())return new Fp(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Fp(t._firestore,r,n._key,null,n.converter);throw li()}))}},{key:"set",value:function(e,t,n){var r=my(e,this._firestore),i=py(r.converter,t,n),a=wp(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=my(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=(0,x.m9)(t))||t instanceof sp?Tp(this._dataReader,"Transaction.update",i._key,t,n,o):Sp(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=my(e,this._firestore);return this._transaction["delete"](t._key),this}}]),e}());function My(e,t,n){e=Ov(e,Qv);var r=Object.assign(Object.assign({},dy),n);return function(e){if(e.maxAttempts<1)throw new pi(vi.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),Ev(Jv(e),(function(n){return t(new Ry(e,n))}),r)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(){return new kp("deleteField")}function Py(){return new xp("serverTimestamp")}function Fy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Ep("arrayUnion",t)}function Vy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new _p("arrayRemove",t)}function jy(e){return new Ip("increment",e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){ni=e}(w.SDK_VERSION),(0,w._registerComponent)(new k.wA("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new Qv(i,new ki(e.getProvider("auth-internal")),new _i(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),(0,w.registerVersion)(ei,"3.4.12",e),(0,w.registerVersion)(ei,"3.4.12","esm2017")}();var Uy="@firebase/firestore-compat",By="0.1.21";
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function qy(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new pi("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(){if("undefined"===typeof Uint8Array)throw new pi("unimplemented","Uint8Arrays are not available in this environment.")}function Ky(){if(!wa())throw new pi("unimplemented","Blobs are unavailable in Firestore in this environment.")}var zy=function(){function e(t){(0,s.Z)(this,e),this._delegate=t}return(0,c.Z)(e,[{key:"toBase64",value:function(){return Ky(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return Gy(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return Ky(),new e(cp.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return Gy(),new e(cp.fromUint8Array(t))}}]),e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hy(e){return Wy(e,["next","error","complete"])}function Wy(e,t){if("object"!==(0,u.Z)(e)||null===e)return!1;var n,r=e,i=(0,o.Z)(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(s){i.e(s)}finally{i.f()}return!1}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qy=function(){function e(){(0,s.Z)(this,e)}return(0,c.Z)(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return $v(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return Xv(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return tp(e._delegate)}}]),e}(),Jy=function(){function e(t,n,r){var i=this;(0,s.Z)(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Za||(this._appCompat=t)}return(0,c.Z)(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||si("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Lv(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return rp(this._delegate)}},{key:"disableNetwork",value:function(){return ip(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,Av("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return np(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return Dy(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new pi("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new fg(this,jv(this._delegate,e))}catch(t){throw rg(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new ng(this,Bv(this._delegate,e))}catch(t){throw rg(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new sg(this,Uv(this._delegate,e))}catch(t){throw rg(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return My(this._delegate,(function(n){return e(new Xy(t,n))}))}},{key:"batch",value:function(){var e=this;return Jv(this._delegate),new eg(new gy(this._delegate,(function(t){return Oy(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return ap(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return op(this._delegate,e).then((function(e){return e?new sg(t,e):null}))}}]),e}(),Yy=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e){var r;return(0,s.Z)(this,n),r=t.call(this),r.firestore=e,r}return(0,c.Z)(n,[{key:"convertBytes",value:function(e){return new zy(new cp(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return ng.forKey(t,this.firestore,null)}}]),n}(vy);function $y(e){ai(e)}var Xy=function(){function e(t,n){(0,s.Z)(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new Yy(t)}return(0,c.Z)(e,[{key:"get",value:function(e){var t=this,n=hg(e);return this._delegate.get(n).then((function(e){return new og(t._firestore,new Bp(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=hg(e);return n?(qy("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=hg(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=hg(e);return this._delegate["delete"](t),this}}]),e}(),eg=function(){function e(t){(0,s.Z)(this,e),this._delegate=t}return(0,c.Z)(e,[{key:"set",value:function(e,t,n){var r=hg(e);return n?(qy("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=hg(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=hg(e);return this._delegate["delete"](t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),tg=function(){function e(t,n,r){(0,s.Z)(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return(0,c.Z)(e,[{key:"fromFirestore",value:function(e,t){var n=new qp(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ug(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new Yy(t),n),i.set(n,a)),a}}]),e}();tg.INSTANCES=new WeakMap;var ng=function(){function e(t,n){(0,s.Z)(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Yy(t)}return(0,c.Z)(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new fg(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new fg(this.firestore,jv(this._delegate,e))}catch(t){throw rg(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return e=(0,x.m9)(e),e instanceof Pv&&qv(this._delegate,e)}},{key:"set",value:function(e,t){t=qy("DocumentReference.set",t);try{return t?Sy(this._delegate,e,t):Sy(this._delegate,e)}catch(n){throw rg(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?Ty(this._delegate,e):Ty.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw rg(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return Ay(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=ig(n),a=ag(n,(function(t){return new og(e.firestore,new Bp(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Cy(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?by(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?xy(this._delegate):wy(this._delegate),t.then((function(e){return new og(n.firestore,new Bp(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(tg.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new pi("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new Pv(n._delegate,r,new Li(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new Pv(n._delegate,r,t))}}]),e}();function rg(e,t,n){return e.message=e.message.replace(t,n),e}function ig(e){var t,n=(0,o.Z)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===(0,u.Z)(r)&&!Hy(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function ag(e,t){var n,r,i;return i=Hy(e[0])?e[0]:Hy(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:function(e){i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var og=function(){function e(t,n){(0,s.Z)(this,e),this._firestore=t,this._delegate=n}return(0,c.Z)(e,[{key:"ref",get:function(){return new ng(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return zp(this._delegate,e._delegate)}}]),e}(),ug=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,s.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return hi(void 0!==t,"Document in a QueryDocumentSnapshot should exist"),t}}]),n}(og),sg=function(){function e(t,n){(0,s.Z)(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Yy(t)}return(0,c.Z)(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,Qp(this._delegate,Yp(t,n,r)))}catch(i){throw rg(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,Qp(this._delegate,Xp(t,n)))}catch(r){throw rg(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,Qp(this._delegate,ty(t)))}catch(n){throw rg(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,Qp(this._delegate,ny(t)))}catch(n){throw rg(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,Qp(this._delegate,iy.apply(void 0,arguments)))}catch(t){throw rg(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,Qp(this._delegate,ay.apply(void 0,arguments)))}catch(t){throw rg(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,Qp(this._delegate,uy.apply(void 0,arguments)))}catch(t){throw rg(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,Qp(this._delegate,sy.apply(void 0,arguments)))}catch(t){throw rg(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return Gv(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?_y(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?Iy(this._delegate):Ey(this._delegate),t.then((function(e){return new lg(n.firestore,new Gp(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=ig(n),a=ag(n,(function(t){return new lg(e.firestore,new Gp(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Cy(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(tg.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),cg=function(){function e(t,n){(0,s.Z)(this,e),this._firestore=t,this._delegate=n}return(0,c.Z)(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new ug(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),lg=function(){function e(t,n){(0,s.Z)(this,e),this._firestore=t,this._delegate=n}return(0,c.Z)(e,[{key:"query",get:function(){return new sg(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new ug(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new cg(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new ug(n._firestore,r))}))}},{key:"isEqual",value:function(e){return zp(this._delegate,e._delegate)}}]),e}(),fg=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r){var i;return(0,s.Z)(this,n),i=t.call(this,e,r),i.firestore=e,i._delegate=r,i}return(0,c.Z)(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new ng(this.firestore,e):null}},{key:"doc",value:function(e){try{return new ng(this.firestore,void 0===e?Bv(this._delegate):Bv(this._delegate,e))}catch(t){throw rg(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return Zy(this._delegate,e).then((function(e){return new ng(t.firestore,e)}))}},{key:"isEqual",value:function(e){return qv(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(tg.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(sg);function hg(e){return Ov(e,Pv)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dg=function(){function e(){(0,s.Z)(this,e);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];this._delegate=(0,r.Z)(sp,n)}return(0,c.Z)(e,[{key:"isEqual",value:function(e){return e=(0,x.m9)(e),e instanceof sp&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Mi.keyField().canonicalString())}}]),e}(),vg=function(){function e(t){(0,s.Z)(this,e),this._delegate=t}return(0,c.Z)(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=Py();return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=Ly();return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=Fy.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=Vy.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=jy(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),pg={Firestore:Jy,GeoPoint:fp,Timestamp:Ci,Blob:zy,Transaction:Xy,WriteBatch:eg,DocumentReference:ng,DocumentSnapshot:og,Query:sg,QueryDocumentSnapshot:ug,QuerySnapshot:lg,CollectionReference:fg,FieldPath:dg,FieldValue:vg,setLogLevel:$y,CACHE_SIZE_UNLIMITED:Wv};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(e,t){e.INTERNAL.registerComponent(new k.wA("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},pg)))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(e){yg(e,(function(e,t){return new Jy(e,t,new Qy)})),e.registerVersion(Uy,By)}gg(l.Z)},89:(e,t,n)=>{"use strict";var r=n(2)["default"],i=n(4548)["default"];n(9070),t.Z=function(e,t){var n,a=e.__vccOpts||e,o=i(t);try{for(o.s();!(n=o.n()).done;){var u=r(n.value,2),s=u[0],c=u[1];a[s]=c}}catch(l){o.e(l)}finally{o.f()}return a}},302:(e,t,n)=>{"use strict";n.d(t,{PO:()=>J,p7:()=>st});var r,i=n(6084),a=n(2482),o=n(6347),u=n(3336),s=(n(2526),n(1817),n(1539),n(3680),n(3706),n(2703),n(9753),n(1249),n(7042),n(1038),n(8783),n(2222),n(4916),n(5306),n(2772),n(6755),n(7941),n(6541),n(3123),n(9600),n(1532),n(3948),n(4765),n(6699),n(2023),n(9554),n(561),n(4812),n(9070),n(7852),n(8862),n(1703),n(6647),n(4603),n(8450),n(8386),n(9714),n(4723),n(8309),n(7601),n(189),n(4747),n(7327),n(9826),n(5827),n(5212),n(3710),n(4553),n(5069),n(3396)),c=n(4870),l="function"===typeof Symbol&&"symbol"===(0,u.Z)(Symbol.toStringTag),f=function(e){return l?Symbol(e):"_vr_"+e},h=f("rvlm"),d=f("rvd"),v=f("r"),p=f("rl"),y=f("rvl"),g="undefined"!==typeof window;function m(e){return e.__esModule||l&&"Module"===e[Symbol.toStringTag]}var w=Object.assign;function k(e,t){var n={};for(var r in t){var i=t[r];n[r]=Array.isArray(i)?i.map(e):e(i)}return n}var b=function(){};var x,E,_=/\/$/,I=function(e){return e.replace(_,"")};function S(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",i={},a="",o="",u=t.indexOf("?"),s=t.indexOf("#",u>-1?u:0);return u>-1&&(n=t.slice(0,u),a=t.slice(u+1,s>-1?s:t.length),i=e(a)),s>-1&&(n=n||t.slice(0,s),o=t.slice(s,t.length)),n=R(null!=n?n:t,r),{fullPath:n+(a&&"?")+a+o,path:n,query:i,hash:o}}function T(e,t){var n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function A(e,t){return t&&e.toLowerCase().startsWith(t.toLowerCase())?e.slice(t.length)||"/":e}function Z(e,t,n){var r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&C(t.matched[r],n.matched[i])&&D(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function C(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function D(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(!O(e[n],t[n]))return!1;return!0}function O(e,t){return Array.isArray(e)?N(e,t):Array.isArray(t)?N(t,e):e===t}function N(e,t){return Array.isArray(t)?e.length===t.length&&e.every((function(e,n){return e===t[n]})):1===e.length&&e[0]===t}function R(e,t){if(e.startsWith("/"))return e;if(!e)return t;var n,r,i=t.split("/"),a=e.split("/"),o=i.length-1;for(n=0;n<a.length;n++)if(r=a[n],1!==o&&"."!==r){if(".."!==r)break;o--}return i.slice(0,o).join("/")+"/"+a.slice(n-(n===a.length?1:0)).join("/")}(function(e){e["pop"]="pop",e["push"]="push"})(x||(x={})),function(e){e["back"]="back",e["forward"]="forward",e["unknown"]=""}(E||(E={}));function M(e){if(!e)if(g){var t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),I(e)}var L=/^[^#]+#/;function P(e,t){return e.replace(L,"#")+t}function F(e,t){var n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}var V=function(){return{left:window.pageXOffset,top:window.pageYOffset}};function j(e){var t;if("el"in e){var n=e.el,r="string"===typeof n&&n.startsWith("#"),i="string"===typeof n?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=F(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.pageXOffset,null!=t.top?t.top:window.pageYOffset)}function U(e,t){var n=history.state?history.state.position-t:-1;return n+e}var B=new Map;function q(e,t){B.set(e,t)}function G(e){var t=B.get(e);return B["delete"](e),t}var K=function(){return location.protocol+"//"+location.host};function z(e,t){var n=t.pathname,r=t.search,i=t.hash,a=e.indexOf("#");if(a>-1){var o=i.includes(e.slice(a))?e.slice(a).length:1,u=i.slice(o);return"/"!==u[0]&&(u="/"+u),A(u,"")}var s=A(n,e);return s+r+i}function H(e,t,n,r){var i=[],a=[],u=null,s=function(a){var o=a.state,s=z(e,location),c=n.value,l=t.value,f=0;if(o){if(n.value=s,t.value=o,u&&u===c)return void(u=null);f=l?o.position-l.position:0}else r(s);i.forEach((function(e){e(n.value,c,{delta:f,type:x.pop,direction:f?f>0?E.forward:E.back:E.unknown})}))};function c(){u=n.value}function l(e){i.push(e);var t=function(){var t=i.indexOf(e);t>-1&&i.splice(t,1)};return a.push(t),t}function f(){var e=window,t=e.history;t.state&&t.replaceState(w({},t.state,{scroll:V()}),"")}function h(){var e,t=(0,o.Z)(a);try{for(t.s();!(e=t.n()).done;){var n=e.value;n()}}catch(r){t.e(r)}finally{t.f()}a=[],window.removeEventListener("popstate",s),window.removeEventListener("beforeunload",f)}return window.addEventListener("popstate",s),window.addEventListener("beforeunload",f),{pauseListeners:c,listen:l,destroy:h}}function W(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?V():null}}function Q(e){var t=window,n=t.history,r=t.location,i={value:z(e,r)},a={value:n.state};function o(t,i,o){var u=e.indexOf("#"),s=u>-1?(r.host&&document.querySelector("base")?e:e.slice(u))+t:K()+e+t;try{n[o?"replaceState":"pushState"](i,"",s),a.value=i}catch(c){console.error(c),r[o?"replace":"assign"](s)}}function u(e,t){var r=w({},n.state,W(a.value.back,e,a.value.forward,!0),t,{position:a.value.position});o(e,r,!0),i.value=e}function s(e,t){var r=w({},a.value,n.state,{forward:e,scroll:V()});o(r.current,r,!0);var u=w({},W(i.value,e,null),{position:r.position+1},t);o(e,u,!1),i.value=e}return a.value||o(i.value,{back:null,current:i.value,forward:null,position:n.length-1,replaced:!0,scroll:null},!0),{location:i,state:a,push:s,replace:u}}function J(e){e=M(e);var t=Q(e),n=H(e,t.state,t.location,t.replace);function r(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t||n.pauseListeners(),history.go(e)}var i=w({location:"",base:e,go:r,createHref:P.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:function(){return t.location.value}}),Object.defineProperty(i,"state",{enumerable:!0,get:function(){return t.state.value}}),i}function Y(e){return"string"===typeof e||e&&"object"===(0,u.Z)(e)}function $(e){return"string"===typeof e||"symbol"===(0,u.Z)(e)}var X,ee={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},te=f("nf");(function(e){e[e["aborted"]=4]="aborted",e[e["cancelled"]=8]="cancelled",e[e["duplicated"]=16]="duplicated"})(X||(X={}));r={},(0,a.Z)(r,1,(function(e){var t=e.location,n=e.currentLocation;return"No match for\n ".concat(JSON.stringify(t)).concat(n?"\nwhile being at\n"+JSON.stringify(n):"")})),(0,a.Z)(r,2,(function(e){var t=e.from,n=e.to;return'Redirected from "'.concat(t.fullPath,'" to "').concat(ae(n),'" via a navigation guard.')})),(0,a.Z)(r,4,(function(e){var t=e.from,n=e.to;return'Navigation aborted from "'.concat(t.fullPath,'" to "').concat(n.fullPath,'" via a navigation guard.')})),(0,a.Z)(r,8,(function(e){var t=e.from,n=e.to;return'Navigation cancelled from "'.concat(t.fullPath,'" to "').concat(n.fullPath,'" with a new navigation.')})),(0,a.Z)(r,16,(function(e){var t=e.from;e.to;return'Avoided redundant navigation to current location: "'.concat(t.fullPath,'".')}));function ne(e,t){return w(new Error,(0,a.Z)({type:e},te,!0),t)}function re(e,t){return e instanceof Error&&te in e&&(null==t||!!(e.type&t))}var ie=["params","query","hash"];function ae(e){if("string"===typeof e)return e;if("path"in e)return e.path;var t,n={},r=(0,o.Z)(ie);try{for(r.s();!(t=r.n()).done;){var i=t.value;i in e&&(n[i]=e[i])}}catch(a){r.e(a)}finally{r.f()}return JSON.stringify(n,null,2)}var oe="[^/]+?",ue={sensitive:!1,strict:!1,start:!0,end:!0},se=/[.+*?^${}()[\]/\\]/g;function ce(e,t){var n,r=w({},ue,t),i=[],a=r.start?"^":"",u=[],s=(0,o.Z)(e);try{for(s.s();!(n=s.n()).done;){var c=n.value,l=c.length?[]:[90];r.strict&&!c.length&&(a+="/");for(var f=0;f<c.length;f++){var h=c[f],d=40+(r.sensitive?.25:0);if(0===h.type)f||(a+="/"),a+=h.value.replace(se,"\\$&"),d+=40;else if(1===h.type){var v=h.value,p=h.repeatable,y=h.optional,g=h.regexp;u.push({name:v,repeatable:p,optional:y});var m=g||oe;if(m!==oe){d+=10;try{new RegExp("(".concat(m,")"))}catch(I){throw new Error('Invalid custom RegExp for param "'.concat(v,'" (').concat(m,"): ")+I.message)}}var k=p?"((?:".concat(m,")(?:/(?:").concat(m,"))*)"):"(".concat(m,")");f||(k=y&&c.length<2?"(?:/".concat(k,")"):"/"+k),y&&(k+="?"),a+=k,d+=20,y&&(d+=-8),p&&(d+=-20),".*"===m&&(d+=-50)}l.push(d)}i.push(l)}}catch(I){s.e(I)}finally{s.f()}if(r.strict&&r.end){var b=i.length-1;i[b][i[b].length-1]+=.7000000000000001}r.strict||(a+="/?"),r.end?a+="$":r.strict&&(a+="(?:/|$)");var x=new RegExp(a,r.sensitive?"":"i");function E(e){var t=e.match(x),n={};if(!t)return null;for(var r=1;r<t.length;r++){var i=t[r]||"",a=u[r-1];n[a.name]=i&&a.repeatable?i.split("/"):i}return n}function _(t){var n,r="",i=!1,a=(0,o.Z)(e);try{for(a.s();!(n=a.n()).done;){var u=n.value;i&&r.endsWith("/")||(r+="/"),i=!1;var s,c=(0,o.Z)(u);try{for(c.s();!(s=c.n()).done;){var l=s.value;if(0===l.type)r+=l.value;else if(1===l.type){var f=l.value,h=l.repeatable,d=l.optional,v=f in t?t[f]:"";if(Array.isArray(v)&&!h)throw new Error('Provided param "'.concat(f,'" is an array but it is not repeatable (* or + modifiers)'));var p=Array.isArray(v)?v.join("/"):v;if(!p){if(!d)throw new Error('Missing required param "'.concat(f,'"'));u.length<2&&e.length>1&&(r.endsWith("/")?r=r.slice(0,-1):i=!0)}r+=p}}}catch(I){c.e(I)}finally{c.f()}}}catch(I){a.e(I)}finally{a.f()}return r}return{re:x,score:i,keys:u,parse:E,stringify:_}}function le(e,t){var n=0;while(n<e.length&&n<t.length){var r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}function fe(e,t){var n=0,r=e.score,i=t.score;while(n<r.length&&n<i.length){var a=le(r[n],i[n]);if(a)return a;n++}return i.length-r.length}var he={type:0,value:""},de=/[a-zA-Z0-9_]/;function ve(e){if(!e)return[[]];if("/"===e)return[[he]];if(!e.startsWith("/"))throw new Error('Invalid path "'.concat(e,'"'));function t(e){throw new Error("ERR (".concat(r,')/"').concat(c,'": ').concat(e))}var n,r=0,i=r,a=[];function o(){n&&a.push(n),n=[]}var u,s=0,c="",l="";function f(){c&&(0===r?n.push({type:0,value:c}):1===r||2===r||3===r?(n.length>1&&("*"===u||"+"===u)&&t("A repeatable param (".concat(c,") must be alone in its segment. eg: '/:ids+.")),n.push({type:1,value:c,regexp:l,repeatable:"*"===u||"+"===u,optional:"*"===u||"?"===u})):t("Invalid state to consume buffer"),c="")}function h(){c+=u}while(s<e.length)if(u=e[s++],"\\"!==u||2===r)switch(r){case 0:"/"===u?(c&&f(),o()):":"===u?(f(),r=1):h();break;case 4:h(),r=i;break;case 1:"("===u?r=2:de.test(u)?h():(f(),r=0,"*"!==u&&"?"!==u&&"+"!==u&&s--);break;case 2:")"===u?"\\"==l[l.length-1]?l=l.slice(0,-1)+u:r=3:l+=u;break;case 3:f(),r=0,"*"!==u&&"?"!==u&&"+"!==u&&s--,l="";break;default:t("Unknown state");break}else i=r,r=4;return 2===r&&t('Unfinished custom RegExp for param "'.concat(c,'"')),f(),o(),a}function pe(e,t,n){var r=ce(ve(e.path),n),i=w(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf===!t.record.aliasOf&&t.children.push(i),i}function ye(e,t){var n=[],r=new Map;function i(e){return r.get(e)}function a(e,n,r){var i=!r,s=me(e);s.aliasOf=r&&r.record;var l,f,h=xe(t,e),d=[s];if("alias"in e){var v,p="string"===typeof e.alias?[e.alias]:e.alias,y=(0,o.Z)(p);try{for(y.s();!(v=y.n()).done;){var g=v.value;d.push(w({},s,{components:r?r.record.components:s.components,path:g,aliasOf:r?r.record:s}))}}catch(A){y.e(A)}finally{y.f()}}for(var m=0,k=d;m<k.length;m++){var x=k[m],E=x.path;if(n&&"/"!==E[0]){var _=n.record.path,I="/"===_[_.length-1]?"":"/";x.path=n.record.path+(E&&I+E)}if(l=pe(x,n,h),r?r.alias.push(l):(f=f||l,f!==l&&f.alias.push(l),i&&e.name&&!ke(l)&&u(e.name)),"children"in s)for(var S=s.children,T=0;T<S.length;T++)a(S[T],l,r&&r.children[T]);r=r||l,c(l)}return f?function(){u(f)}:b}function u(e){if($(e)){var t=r.get(e);t&&(r["delete"](e),n.splice(n.indexOf(t),1),t.children.forEach(u),t.alias.forEach(u))}else{var i=n.indexOf(e);i>-1&&(n.splice(i,1),e.record.name&&r["delete"](e.record.name),e.children.forEach(u),e.alias.forEach(u))}}function s(){return n}function c(e){var t=0;while(t<n.length&&fe(e,n[t])>=0&&(e.record.path!==n[t].record.path||!Ee(e,n[t])))t++;n.splice(t,0,e),e.record.name&&!ke(e)&&r.set(e.record.name,e)}function l(e,t){var i,a,o,u={};if("name"in e&&e.name){if(i=r.get(e.name),!i)throw ne(1,{location:e});o=i.record.name,u=w(ge(t.params,i.keys.filter((function(e){return!e.optional})).map((function(e){return e.name}))),e.params),a=i.stringify(u)}else if("path"in e)a=e.path,i=n.find((function(e){return e.re.test(a)})),i&&(u=i.parse(a),o=i.record.name);else{if(i=t.name?r.get(t.name):n.find((function(e){return e.re.test(t.path)})),!i)throw ne(1,{location:e,currentLocation:t});o=i.record.name,u=w({},t.params,e.params),a=i.stringify(u)}var s=[],c=i;while(c)s.unshift(c.record),c=c.parent;return{name:o,path:a,params:u,matched:s,meta:be(s)}}return t=xe({strict:!1,end:!0,sensitive:!1},t),e.forEach((function(e){return a(e)})),{addRoute:a,resolve:l,removeRoute:u,getRoutes:s,getRecordMatcher:i}}function ge(e,t){var n,r={},i=(0,o.Z)(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;a in e&&(r[a]=e[a])}}catch(u){i.e(u)}finally{i.f()}return r}function me(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:we(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||{}:{default:e.component}}}function we(e){var t={},n=e.props||!1;if("component"in e)t["default"]=n;else for(var r in e.components)t[r]="boolean"===typeof n?n:n[r];return t}function ke(e){while(e){if(e.record.aliasOf)return!0;e=e.parent}return!1}function be(e){return e.reduce((function(e,t){return w(e,t.meta)}),{})}function xe(e,t){var n={};for(var r in e)n[r]=r in t?t[r]:e[r];return n}function Ee(e,t){return t.children.some((function(t){return t===e||Ee(e,t)}))}var _e=/#/g,Ie=/&/g,Se=/\//g,Te=/=/g,Ae=/\?/g,Ze=/\+/g,Ce=/%5B/g,De=/%5D/g,Oe=/%5E/g,Ne=/%60/g,Re=/%7B/g,Me=/%7C/g,Le=/%7D/g,Pe=/%20/g;function Fe(e){return encodeURI(""+e).replace(Me,"|").replace(Ce,"[").replace(De,"]")}function Ve(e){return Fe(e).replace(Re,"{").replace(Le,"}").replace(Oe,"^")}function je(e){return Fe(e).replace(Ze,"%2B").replace(Pe,"+").replace(_e,"%23").replace(Ie,"%26").replace(Ne,"`").replace(Re,"{").replace(Le,"}").replace(Oe,"^")}function Ue(e){return je(e).replace(Te,"%3D")}function Be(e){return Fe(e).replace(_e,"%23").replace(Ae,"%3F")}function qe(e){return null==e?"":Be(e).replace(Se,"%2F")}function Ge(e){try{return decodeURIComponent(""+e)}catch(t){}return""+e}function Ke(e){var t={};if(""===e||"?"===e)return t;for(var n="?"===e[0],r=(n?e.slice(1):e).split("&"),i=0;i<r.length;++i){var a=r[i].replace(Ze," "),o=a.indexOf("="),u=Ge(o<0?a:a.slice(0,o)),s=o<0?null:Ge(a.slice(o+1));if(u in t){var c=t[u];Array.isArray(c)||(c=t[u]=[c]),c.push(s)}else t[u]=s}return t}function ze(e){var t="",n=function(n){var i=e[n];if(n=Ue(n),null==i)return void 0!==i&&(t+=(t.length?"&":"")+n),r=n,"continue";var a=Array.isArray(i)?i.map((function(e){return e&&je(e)})):[i&&je(i)];a.forEach((function(e){void 0!==e&&(t+=(t.length?"&":"")+n,null!=e&&(t+="="+e))})),r=n};for(var r in e)n(r);return t}function He(e){var t={};for(var n in e){var r=e[n];void 0!==r&&(t[n]=Array.isArray(r)?r.map((function(e){return null==e?null:""+e})):null==r?r:""+r)}return t}function We(){var e=[];function t(t){return e.push(t),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function n(){e=[]}return{add:t,list:function(){return e},reset:n}}function Qe(e,t,n,r,i){var a=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return function(){return new Promise((function(o,u){var s=function(e){!1===e?u(ne(4,{from:n,to:t})):e instanceof Error?u(e):Y(e)?u(ne(2,{from:t,to:e})):(a&&r.enterCallbacks[i]===a&&"function"===typeof e&&a.push(e),o())},c=e.call(r&&r.instances[i],t,n,s),l=Promise.resolve(c);e.length<3&&(l=l.then(s)),l["catch"]((function(e){return u(e)}))}))}}function Je(e,t,n,r){var i,a=[],u=(0,o.Z)(e);try{var s=function(){var e=i.value,o=function(i){var o=e.components[i];if("beforeRouteEnter"!==t&&!e.instances[i])return"continue";if(Ye(o)){var u=o.__vccOpts||o,s=u[t];s&&a.push(Qe(s,n,r,e,i))}else{var c=o();0,a.push((function(){return c.then((function(a){if(!a)return Promise.reject(new Error("Couldn't resolve component \"".concat(i,'" at "').concat(e.path,'"')));var o=m(a)?a["default"]:a;e.components[i]=o;var u=o.__vccOpts||o,s=u[t];return s&&Qe(s,n,r,e,i)()}))}))}};for(var u in e.components)o(u)};for(u.s();!(i=u.n()).done;)s()}catch(c){u.e(c)}finally{u.f()}return a}function Ye(e){return"object"===(0,u.Z)(e)||"displayName"in e||"props"in e||"__vccOpts"in e}function $e(e){var t=(0,s.f3)(v),n=(0,s.f3)(p),r=(0,s.Fl)((function(){return t.resolve((0,c.SU)(e.to))})),i=(0,s.Fl)((function(){var e=r.value.matched,t=e.length,i=e[t-1],a=n.matched;if(!i||!a.length)return-1;var o=a.findIndex(C.bind(null,i));if(o>-1)return o;var u=rt(e[t-2]);return t>1&&rt(i)===u&&a[a.length-1].path!==u?a.findIndex(C.bind(null,e[t-2])):o})),a=(0,s.Fl)((function(){return i.value>-1&&nt(n.params,r.value.params)})),o=(0,s.Fl)((function(){return i.value>-1&&i.value===n.matched.length-1&&D(n.params,r.value.params)}));function u(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return tt(n)?t[(0,c.SU)(e.replace)?"replace":"push"]((0,c.SU)(e.to))["catch"](b):Promise.resolve()}return{route:r,href:(0,s.Fl)((function(){return r.value.href})),isActive:a,isExactActive:o,navigate:u}}var Xe=(0,s.aZ)({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:$e,setup:function(e,t){var n=t.slots,r=(0,c.qj)($e(e)),i=(0,s.f3)(v),o=i.options,u=(0,s.Fl)((function(){var t;return t={},(0,a.Z)(t,it(e.activeClass,o.linkActiveClass,"router-link-active"),r.isActive),(0,a.Z)(t,it(e.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active"),r.isExactActive),t}));return function(){var t=n["default"]&&n["default"](r);return e.custom?t:(0,s.h)("a",{"aria-current":r.isExactActive?e.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:u.value},t)}}}),et=Xe;function tt(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&(void 0===e.button||0===e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){var t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function nt(e,t){var n=function(n){var r=t[n],i=e[n];if("string"===typeof r){if(r!==i)return{v:!1}}else if(!Array.isArray(i)||i.length!==r.length||r.some((function(e,t){return e!==i[t]})))return{v:!1}};for(var r in t){var i=n(r);if("object"===(0,u.Z)(i))return i.v}return!0}function rt(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}var it=function(e,t,n){return null!=e?e:null!=t?t:n},at=(0,s.aZ)({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup:function(e,t){var n=t.attrs,r=t.slots,a=(0,s.f3)(y),o=(0,s.Fl)((function(){return e.route||a.value})),u=(0,s.f3)(d,0),l=(0,s.Fl)((function(){return o.value.matched[u]}));(0,s.JJ)(d,u+1),(0,s.JJ)(h,l),(0,s.JJ)(y,o);var f=(0,c.iH)();return(0,s.YP)((function(){return[f.value,l.value,e.name]}),(function(e,t){var n=(0,i.Z)(e,3),r=n[0],a=n[1],o=n[2],u=(0,i.Z)(t,3),s=u[0],c=u[1];u[2];a&&(a.instances[o]=r,c&&c!==a&&r&&r===s&&(a.leaveGuards.size||(a.leaveGuards=c.leaveGuards),a.updateGuards.size||(a.updateGuards=c.updateGuards))),!r||!a||c&&C(a,c)&&s||(a.enterCallbacks[o]||[]).forEach((function(e){return e(r)}))}),{flush:"post"}),function(){var t=o.value,i=l.value,a=i&&i.components[e.name],u=e.name;if(!a)return ot(r["default"],{Component:a,route:t});var c=i.props[e.name],h=c?!0===c?t.params:"function"===typeof c?c(t):c:null,d=function(e){e.component.isUnmounted&&(i.instances[u]=null)},v=(0,s.h)(a,w({},h,n,{onVnodeUnmounted:d,ref:f}));return ot(r["default"],{Component:v,route:t})||v}}});function ot(e,t){if(!e)return null;var n=e(t);return 1===n.length?n[0]:n}var ut=at;function st(e){var t=ye(e.routes,e),n=e.parseQuery||Ke,r=e.stringifyQuery||ze,a=e.history;var u=We(),l=We(),f=We(),h=(0,c.XI)(ee),d=ee;g&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");var m,E=k.bind(null,(function(e){return""+e})),_=k.bind(null,qe),I=k.bind(null,Ge);function A(e,n){var r,i;return $(e)?(r=t.getRecordMatcher(e),i=n):i=e,t.addRoute(i,r)}function C(e){var n=t.getRecordMatcher(e);n&&t.removeRoute(n)}function D(){return t.getRoutes().map((function(e){return e.record}))}function O(e){return!!t.getRecordMatcher(e)}function N(e,i){if(i=w({},i||h.value),"string"===typeof e){var o=S(n,e,i.path),u=t.resolve({path:o.path},i),s=a.createHref(o.fullPath);return w(o,u,{params:I(u.params),hash:Ge(o.hash),redirectedFrom:void 0,href:s})}var c;if("path"in e)c=w({},e,{path:S(n,e.path,i.path).path});else{var l=w({},e.params);for(var f in l)null==l[f]&&delete l[f];c=w({},e,{params:_(e.params)}),i.params=_(i.params)}var d=t.resolve(c,i),v=e.hash||"";d.params=E(I(d.params));var p=T(r,w({},e,{hash:Ve(v),path:d.path})),y=a.createHref(p);return w({fullPath:p,hash:v,query:r===ze?He(e.query):e.query||{}},d,{redirectedFrom:void 0,href:y})}function R(e){return"string"===typeof e?S(n,e,h.value.path):w({},e)}function M(e,t){if(d!==e)return ne(8,{from:t,to:e})}function L(e){return B(e)}function P(e){return L(w(R(e),{replace:!0}))}function F(e){var t=e.matched[e.matched.length-1];if(t&&t.redirect){var n=t.redirect,r="function"===typeof n?n(e):n;return"string"===typeof r&&(r=r.includes("?")||r.includes("#")?r=R(r):{path:r},r.params={}),w({query:e.query,hash:e.hash,params:e.params},r)}}function B(e,t){var n=d=N(e),i=h.value,a=e.state,o=e.force,u=!0===e.replace,s=F(n);if(s)return B(w(R(s),{state:a,force:o,replace:u}),t||n);var c,l=n;return l.redirectedFrom=t,!o&&Z(r,i,n)&&(c=ne(16,{to:l,from:i}),oe(i,i,!0,!1)),(c?Promise.resolve(c):z(l,i))["catch"]((function(e){return re(e)?re(e,2)?e:ae(e):te(e,l,i)})).then((function(e){if(e){if(re(e,2))return B(w(R(e.to),{state:a,force:o,replace:u}),t||l)}else e=W(l,i,!0,u,a);return H(l,i,e),e}))}function K(e,t){var n=M(e,t);return n?Promise.reject(n):Promise.resolve()}function z(e,t){var n,r=lt(e,t),a=(0,i.Z)(r,3),s=a[0],c=a[1],f=a[2];n=Je(s.reverse(),"beforeRouteLeave",e,t);var h,d=(0,o.Z)(s);try{for(d.s();!(h=d.n()).done;){var v=h.value;v.leaveGuards.forEach((function(r){n.push(Qe(r,e,t))}))}}catch(y){d.e(y)}finally{d.f()}var p=K.bind(null,e,t);return n.push(p),ct(n).then((function(){n=[];var r,i=(0,o.Z)(u.list());try{for(i.s();!(r=i.n()).done;){var a=r.value;n.push(Qe(a,e,t))}}catch(y){i.e(y)}finally{i.f()}return n.push(p),ct(n)})).then((function(){n=Je(c,"beforeRouteUpdate",e,t);var r,i=(0,o.Z)(c);try{for(i.s();!(r=i.n()).done;){var a=r.value;a.updateGuards.forEach((function(r){n.push(Qe(r,e,t))}))}}catch(y){i.e(y)}finally{i.f()}return n.push(p),ct(n)})).then((function(){n=[];var r,i=(0,o.Z)(e.matched);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.beforeEnter&&!t.matched.includes(a))if(Array.isArray(a.beforeEnter)){var u,s=(0,o.Z)(a.beforeEnter);try{for(s.s();!(u=s.n()).done;){var c=u.value;n.push(Qe(c,e,t))}}catch(y){s.e(y)}finally{s.f()}}else n.push(Qe(a.beforeEnter,e,t))}}catch(y){i.e(y)}finally{i.f()}return n.push(p),ct(n)})).then((function(){return e.matched.forEach((function(e){return e.enterCallbacks={}})),n=Je(f,"beforeRouteEnter",e,t),n.push(p),ct(n)})).then((function(){n=[];var r,i=(0,o.Z)(l.list());try{for(i.s();!(r=i.n()).done;){var a=r.value;n.push(Qe(a,e,t))}}catch(y){i.e(y)}finally{i.f()}return n.push(p),ct(n)}))["catch"]((function(e){return re(e,8)?e:Promise.reject(e)}))}function H(e,t,n){var r,i=(0,o.Z)(f.list());try{for(i.s();!(r=i.n()).done;){var a=r.value;a(e,t,n)}}catch(u){i.e(u)}finally{i.f()}}function W(e,t,n,r,i){var o=M(e,t);if(o)return o;var u=t===ee,s=g?history.state:{};n&&(r||u?a.replace(e.fullPath,w({scroll:u&&s&&s.scroll},i)):a.push(e.fullPath,i)),h.value=e,oe(e,t,n,u),ae()}function Q(){m||(m=a.listen((function(e,t,n){var r=N(e),i=F(r);if(i)B(w(i,{replace:!0}),r)["catch"](b);else{d=r;var o=h.value;g&&q(U(o.fullPath,n.delta),V()),z(r,o)["catch"]((function(e){return re(e,12)?e:re(e,2)?(B(e.to,r).then((function(e){re(e,20)&&!n.delta&&n.type===x.pop&&a.go(-1,!1)}))["catch"](b),Promise.reject()):(n.delta&&a.go(-n.delta,!1),te(e,r,o))})).then((function(e){e=e||W(r,o,!1),e&&(n.delta?a.go(-n.delta,!1):n.type===x.pop&&re(e,20)&&a.go(-1,!1)),H(r,o,e)}))["catch"](b)}})))}var J,Y=We(),X=We();function te(e,t,n){ae(e);var r=X.list();return r.length?r.forEach((function(r){return r(e,t,n)})):console.error(e),Promise.reject(e)}function ie(){return J&&h.value!==ee?Promise.resolve():new Promise((function(e,t){Y.add([e,t])}))}function ae(e){return J||(J=!e,Q(),Y.list().forEach((function(t){var n=(0,i.Z)(t,2),r=n[0],a=n[1];return e?a(e):r()})),Y.reset()),e}function oe(t,n,r,i){var a=e.scrollBehavior;if(!g||!a)return Promise.resolve();var o=!r&&G(U(t.fullPath,0))||(i||!r)&&history.state&&history.state.scroll||null;return(0,s.Y3)().then((function(){return a(t,n,o)})).then((function(e){return e&&j(e)}))["catch"]((function(e){return te(e,t,n)}))}var ue,se=function(e){return a.go(e)},ce=new Set,le={currentRoute:h,addRoute:A,removeRoute:C,hasRoute:O,getRoutes:D,resolve:N,options:e,push:L,replace:P,go:se,back:function(){return se(-1)},forward:function(){return se(1)},beforeEach:u.add,beforeResolve:l.add,afterEach:f.add,onError:X.add,isReady:ie,install:function(e){var t=this;e.component("RouterLink",et),e.component("RouterView",ut),e.config.globalProperties.$router=t,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:function(){return(0,c.SU)(h)}}),g&&!ue&&h.value===ee&&(ue=!0,L(a.location)["catch"]((function(e){0})));var n={},r=function(e){n[e]=(0,s.Fl)((function(){return h.value[e]}))};for(var i in ee)r(i);e.provide(v,t),e.provide(p,(0,c.qj)(n)),e.provide(y,h);var o=e.unmount;ce.add(e),e.unmount=function(){ce["delete"](e),ce.size<1&&(d=ee,m&&m(),m=null,h.value=ee,ue=!1,J=!1),o()}}};return le}function ct(e){return e.reduce((function(e,t){return e.then((function(){return t()}))}),Promise.resolve())}function lt(e,t){for(var n=[],r=[],i=[],a=Math.max(t.matched.length,e.matched.length),o=function(a){var o=t.matched[a];o&&(e.matched.find((function(e){return C(e,o)}))?r.push(o):n.push(o));var u=e.matched[a];u&&(t.matched.find((function(e){return C(e,u)}))||i.push(u))},u=0;u<a;u++)o(u);return[n,r,i]}},2415:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(3336),i=(n(1539),n(2526),n(1817),n(9753),n(1249),n(2222),n(7941),n(7327),n(9554),n(4747),n(1703),n(6647),n(5827),n(8862),n(4916),n(7601),n(7042),n(3123),function(e){return function(e){return!!e&&"object"==(0,r.Z)(e)}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===a}(e)}(e)}),a="function"==typeof Symbol&&Symbol["for"]?Symbol["for"]("react.element"):60103;function o(e,t){return!1!==t.clone&&t.isMergeableObject(e)?l(Array.isArray(e)?[]:{},e,t):e}function u(e,t,n){return e.concat(t).map((function(e){return o(e,n)}))}function s(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function c(e,t){try{return t in e}catch(e){return!1}}function l(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||u,n.isMergeableObject=n.isMergeableObject||i,n.cloneUnlessOtherwiseSpecified=o;var r=Array.isArray(t);return r===Array.isArray(e)?r?n.arrayMerge(e,t,n):function(e,t,n){var r={};return n.isMergeableObject(e)&&s(e).forEach((function(t){r[t]=o(e[t],n)})),s(t).forEach((function(i){(function(e,t){return c(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,i)||(r[i]=c(e,i)&&n.isMergeableObject(t[i])?function(e,t){if(!t.customMerge)return l;var n=t.customMerge(e);return"function"==typeof n?n:l}(i,n)(e[i],t[i],n):o(t[i],n))})),r}(e,t,n):o(t,n)}l.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return l(e,n,t)}),{})};var f=l;function h(e){var t=(e=e||{}).storage||window&&window.localStorage,n=e.key||"vuex";function i(e,t){var n=t.getItem(e);try{return"string"==typeof n?JSON.parse(n):"object"==(0,r.Z)(n)?n:void 0}catch(e){}}function a(){return!0}function o(e,t,n){return n.setItem(e,JSON.stringify(t))}function u(e,t){return Array.isArray(t)?t.reduce((function(t,n){return function(e,t,n,r){return!/^(__proto__|constructor|prototype)$/.test(t)&&((t=t.split?t.split("."):t.slice(0)).slice(0,-1).reduce((function(e,t){return e[t]=e[t]||{}}),e)[t.pop()]=n),e}(t,n,(r=e,void 0===(r=((i=n).split?i.split("."):i).reduce((function(e,t){return e&&e[t]}),r))?void 0:r));var r,i}),{}):e}function s(e){return function(t){return e.subscribe(t)}}(e.assertStorage||function(){t.setItem("@@",1),t.removeItem("@@")})(t);var c,l=function(){return(e.getState||i)(n,t)};return e.fetchBeforeUse&&(c=l()),function(i){e.fetchBeforeUse||(c=l()),"object"==(0,r.Z)(c)&&null!==c&&(i.replaceState(e.overwrite?c:f(i.state,c,{arrayMerge:e.arrayMerger||function(e,t){return t},clone:!1})),(e.rehydrated||function(){})(i)),(e.subscriber||s)(i)((function(r,i){(e.filter||a)(r)&&(e.setState||o)(n,(e.reducer||u)(i,e.paths),t)}))}}const d=h},65:(e,t,n)=>{"use strict";n.d(t,{MT:()=>ue});var r=n(3336),i=(n(7327),n(1539),n(9753),n(9554),n(4747),n(7941),n(1703),n(6647),n(2772),n(561),n(8011),n(9070),n(9600),n(7042),n(2222),n(3321),n(5827),n(4916),n(3123),n(3843),n(3710),n(1249),n(6699),n(2023),n(7852),n(8862),n(8783),n(3948),n(4812),n(9714),n(3396)),a=n(4870);function o(){return u().__VUE_DEVTOOLS_GLOBAL_HOOK__}function u(){return"undefined"!==typeof navigator&&"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{}}var s,c,l="function"===typeof Proxy,f="devtools-plugin:setup",h="plugin:settings:set",d=n(124),v=n(9584),p=n(6347),y=n(8534),g=n(3087),m=n(2833);function w(){var e;return void 0!==s||("undefined"!==typeof window&&window.performance?(s=!0,c=window.performance):"undefined"!==typeof n.g&&(null===(e=n.g.perf_hooks)||void 0===e?void 0:e.performance)?(s=!0,c=n.g.perf_hooks.performance):s=!1),s}function k(){return w()?c.now():Date.now()}var b=function(){function e(t,n){var r=this;(0,g.Z)(this,e),this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=n;var i={};if(t.settings)for(var a in t.settings){var o=t.settings[a];i[a]=o.defaultValue}var u="__vue-devtools-plugin-settings__".concat(t.id),s=Object.assign({},i);try{var c=localStorage.getItem(u),l=JSON.parse(c);Object.assign(s,l)}catch(f){}this.fallbacks={getSettings:function(){return s},setSettings:function(e){try{localStorage.setItem(u,JSON.stringify(e))}catch(f){}s=e},now:function(){return k()}},n&&n.on(h,(function(e,t){e===r.plugin.id&&r.fallbacks.setSettings(t)})),this.proxiedOn=new Proxy({},{get:function(e,t){return r.target?r.target.on[t]:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];r.onQueue.push({method:t,args:n})}}}),this.proxiedTarget=new Proxy({},{get:function(e,t){return r.target?r.target[t]:"on"===t?r.proxiedOn:Object.keys(r.fallbacks).includes(t)?function(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r.targetQueue.push({method:t,args:i,resolve:function(){}}),(e=r.fallbacks)[t].apply(e,i)}:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return new Promise((function(e){r.targetQueue.push({method:t,args:n,resolve:e})}))}}})}return(0,m.Z)(e,[{key:"setRealTarget",value:function(){var e=(0,y.Z)((0,d.Z)().mark((function e(t){var n,r,i,a,o,u,s,c;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.target=t,n=(0,p.Z)(this.onQueue);try{for(n.s();!(r=n.n()).done;)a=r.value,(i=this.target.on)[a.method].apply(i,(0,v.Z)(a.args))}catch(l){n.e(l)}finally{n.f()}o=(0,p.Z)(this.targetQueue),e.prev=4,o.s();case 6:if((u=o.n()).done){e.next=15;break}return c=u.value,e.t0=c,e.next=11,(s=this.target)[c.method].apply(s,(0,v.Z)(c.args));case 11:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1);case 13:e.next=6;break;case 15:e.next=20;break;case 17:e.prev=17,e.t2=e["catch"](4),o.e(e.t2);case 20:return e.prev=20,o.f(),e.finish(20);case 23:case"end":return e.stop()}}),e,this,[[4,17,20,23]])})));function t(t){return e.apply(this,arguments)}return t}()}]),e}();function x(e,t){var n=e,r=u(),i=o(),a=l&&n.enableEarlyProxy;if(!i||!r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&a){var s=a?new b(n,i):null,c=r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[];c.push({pluginDescriptor:n,setupFn:t,proxy:s}),s&&t(s.proxiedTarget)}else i.emit(f,e,t)}
/*!
 * vuex v4.0.2
 * (c) 2021 Evan You
 * @license MIT
 */
var E="store";function _(e,t){Object.keys(e).forEach((function(n){return t(e[n],n)}))}function I(e){return null!==e&&"object"===(0,r.Z)(e)}function S(e){return e&&"function"===typeof e.then}function T(e,t){return function(){return e(t)}}function A(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function Z(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;D(e,n,[],e._modules.root,!0),C(e,n,t)}function C(e,t,n){var r=e._state;e.getters={},e._makeLocalGettersCache=Object.create(null);var i=e._wrappedGetters,o={};_(i,(function(t,n){o[n]=T(t,e),Object.defineProperty(e.getters,n,{get:function(){return o[n]()},enumerable:!0})})),e._state=(0,a.qj)({data:t}),e.strict&&P(e),r&&n&&e._withCommit((function(){r.data=null}))}function D(e,t,n,r,i){var a=!n.length,o=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[o],e._modulesNamespaceMap[o]=r),!a&&!i){var u=F(t,n.slice(0,-1)),s=n[n.length-1];e._withCommit((function(){u[s]=r.state}))}var c=r.context=O(e,o,n);r.forEachMutation((function(t,n){var r=o+n;R(e,r,t,c)})),r.forEachAction((function(t,n){var r=t.root?n:o+n,i=t.handler||t;M(e,r,i,c)})),r.forEachGetter((function(t,n){var r=o+n;L(e,r,t,c)})),r.forEachChild((function(r,a){D(e,t,n.concat(a),r,i)}))}function O(e,t,n){var r=""===t,i={dispatch:r?e.dispatch:function(n,r,i){var a=V(n,r,i),o=a.payload,u=a.options,s=a.type;return u&&u.root||(s=t+s),e.dispatch(s,o)},commit:r?e.commit:function(n,r,i){var a=V(n,r,i),o=a.payload,u=a.options,s=a.type;u&&u.root||(s=t+s),e.commit(s,o,u)}};return Object.defineProperties(i,{getters:{get:r?function(){return e.getters}:function(){return N(e,t)}},state:{get:function(){return F(e.state,n)}}}),i}function N(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach((function(i){if(i.slice(0,r)===t){var a=i.slice(r);Object.defineProperty(n,a,{get:function(){return e.getters[i]},enumerable:!0})}})),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function R(e,t,n,r){var i=e._mutations[t]||(e._mutations[t]=[]);i.push((function(t){n.call(e,r.state,t)}))}function M(e,t,n,r){var i=e._actions[t]||(e._actions[t]=[]);i.push((function(t){var i=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},t);return S(i)||(i=Promise.resolve(i)),e._devtoolHook?i["catch"]((function(t){throw e._devtoolHook.emit("vuex:error",t),t})):i}))}function L(e,t,n,r){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(e){return n(r.state,r.getters,e.state,e.getters)})}function P(e){(0,i.YP)((function(){return e._state.data}),(function(){0}),{deep:!0,flush:"sync"})}function F(e,t){return t.reduce((function(e,t){return e[t]}),e)}function V(e,t,n){return I(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var j="vuex bindings",U="vuex:mutations",B="vuex:actions",q="vuex",G=0;function K(e,t){x({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[j]},(function(n){n.addTimelineLayer({id:U,label:"Vuex Mutations",color:z}),n.addTimelineLayer({id:B,label:"Vuex Actions",color:z}),n.addInspector({id:q,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree((function(n){if(n.app===e&&n.inspectorId===q)if(n.filter){var r=[];$(r,t._modules.root,n.filter,""),n.rootNodes=r}else n.rootNodes=[Y(t._modules.root,"")]})),n.on.getInspectorState((function(n){if(n.app===e&&n.inspectorId===q){var r=n.nodeId;N(t,r),n.state=X(te(t._modules,r),"root"===r?t.getters:t._makeLocalGettersCache,r)}})),n.on.editInspectorState((function(n){if(n.app===e&&n.inspectorId===q){var r=n.nodeId,i=n.path;"root"!==r&&(i=r.split("/").filter(Boolean).concat(i)),t._withCommit((function(){n.set(t._state.data,i,n.state.value)}))}})),t.subscribe((function(e,t){var r={};e.payload&&(r.payload=e.payload),r.state=t,n.notifyComponentUpdate(),n.sendInspectorTree(q),n.sendInspectorState(q),n.addTimelineEvent({layerId:U,event:{time:Date.now(),title:e.type,data:r}})})),t.subscribeAction({before:function(e,t){var r={};e.payload&&(r.payload=e.payload),e._id=G++,e._time=Date.now(),r.state=t,n.addTimelineEvent({layerId:B,event:{time:e._time,title:e.type,groupId:e._id,subtitle:"start",data:r}})},after:function(e,t){var r={},i=Date.now()-e._time;r.duration={_custom:{type:"duration",display:i+"ms",tooltip:"Action duration",value:i}},e.payload&&(r.payload=e.payload),r.state=t,n.addTimelineEvent({layerId:B,event:{time:Date.now(),title:e.type,groupId:e._id,subtitle:"end",data:r}})}})}))}var z=8702998,H=6710886,W=16777215,Q={label:"namespaced",textColor:W,backgroundColor:H};function J(e){return e&&"root"!==e?e.split("/").slice(-2,-1)[0]:"Root"}function Y(e,t){return{id:t||"root",label:J(t),tags:e.namespaced?[Q]:[],children:Object.keys(e._children).map((function(n){return Y(e._children[n],t+n+"/")}))}}function $(e,t,n,r){r.includes(n)&&e.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:t.namespaced?[Q]:[]}),Object.keys(t._children).forEach((function(i){$(e,t._children[i],n,r+i+"/")}))}function X(e,t,n){t="root"===n?t:t[n];var r=Object.keys(t),i={state:Object.keys(e.state).map((function(t){return{key:t,editable:!0,value:e.state[t]}}))};if(r.length){var a=ee(t);i.getters=Object.keys(a).map((function(e){return{key:e.endsWith("/")?J(e):e,editable:!1,value:ne((function(){return a[e]}))}}))}return i}function ee(e){var t={};return Object.keys(e).forEach((function(n){var r=n.split("/");if(r.length>1){var i=t,a=r.pop();r.forEach((function(e){i[e]||(i[e]={_custom:{value:{},display:e,tooltip:"Module",abstract:!0}}),i=i[e]._custom.value})),i[a]=ne((function(){return e[n]}))}else t[n]=ne((function(){return e[n]}))})),t}function te(e,t){var n=t.split("/").filter((function(e){return e}));return n.reduce((function(e,r,i){var a=e[r];if(!a)throw new Error('Missing module "'+r+'" for path "'+t+'".');return i===n.length-1?a:a._children}),"root"===t?e:e.root._children)}function ne(e){try{return e()}catch(t){return t}}var re=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var n=e.state;this.state=("function"===typeof n?n():n)||{}},ie={namespaced:{configurable:!0}};ie.namespaced.get=function(){return!!this._rawModule.namespaced},re.prototype.addChild=function(e,t){this._children[e]=t},re.prototype.removeChild=function(e){delete this._children[e]},re.prototype.getChild=function(e){return this._children[e]},re.prototype.hasChild=function(e){return e in this._children},re.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},re.prototype.forEachChild=function(e){_(this._children,e)},re.prototype.forEachGetter=function(e){this._rawModule.getters&&_(this._rawModule.getters,e)},re.prototype.forEachAction=function(e){this._rawModule.actions&&_(this._rawModule.actions,e)},re.prototype.forEachMutation=function(e){this._rawModule.mutations&&_(this._rawModule.mutations,e)},Object.defineProperties(re.prototype,ie);var ae=function(e){this.register([],e,!1)};function oe(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return void 0;oe(e.concat(r),t.getChild(r),n.modules[r])}}ae.prototype.get=function(e){return e.reduce((function(e,t){return e.getChild(t)}),this.root)},ae.prototype.getNamespace=function(e){var t=this.root;return e.reduce((function(e,n){return t=t.getChild(n),e+(t.namespaced?n+"/":"")}),"")},ae.prototype.update=function(e){oe([],this.root,e)},ae.prototype.register=function(e,t,n){var r=this;void 0===n&&(n=!0);var i=new re(t,n);if(0===e.length)this.root=i;else{var a=this.get(e.slice(0,-1));a.addChild(e[e.length-1],i)}t.modules&&_(t.modules,(function(t,i){r.register(e.concat(i),t,n)}))},ae.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1],r=t.getChild(n);r&&r.runtime&&t.removeChild(n)},ae.prototype.isRegistered=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1];return!!t&&t.hasChild(n)};function ue(e){return new se(e)}var se=function(e){var t=this;void 0===e&&(e={});var n=e.plugins;void 0===n&&(n=[]);var r=e.strict;void 0===r&&(r=!1);var i=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new ae(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._devtools=i;var a=this,o=this,u=o.dispatch,s=o.commit;this.dispatch=function(e,t){return u.call(a,e,t)},this.commit=function(e,t,n){return s.call(a,e,t,n)},this.strict=r;var c=this._modules.root.state;D(this,c,[],this._modules.root),C(this,c),n.forEach((function(e){return e(t)}))},ce={state:{configurable:!0}};se.prototype.install=function(e,t){e.provide(t||E,this),e.config.globalProperties.$store=this;var n=void 0!==this._devtools&&this._devtools;n&&K(e,this)},ce.state.get=function(){return this._state.data},ce.state.set=function(e){0},se.prototype.commit=function(e,t,n){var r=this,i=V(e,t,n),a=i.type,o=i.payload,u=(i.options,{type:a,payload:o}),s=this._mutations[a];s&&(this._withCommit((function(){s.forEach((function(e){e(o)}))})),this._subscribers.slice().forEach((function(e){return e(u,r.state)})))},se.prototype.dispatch=function(e,t){var n=this,r=V(e,t),i=r.type,a=r.payload,o={type:i,payload:a},u=this._actions[i];if(u){try{this._actionSubscribers.slice().filter((function(e){return e.before})).forEach((function(e){return e.before(o,n.state)}))}catch(c){0}var s=u.length>1?Promise.all(u.map((function(e){return e(a)}))):u[0](a);return new Promise((function(e,t){s.then((function(t){try{n._actionSubscribers.filter((function(e){return e.after})).forEach((function(e){return e.after(o,n.state)}))}catch(c){0}e(t)}),(function(e){try{n._actionSubscribers.filter((function(e){return e.error})).forEach((function(t){return t.error(o,n.state,e)}))}catch(c){0}t(e)}))}))}},se.prototype.subscribe=function(e,t){return A(e,this._subscribers,t)},se.prototype.subscribeAction=function(e,t){var n="function"===typeof e?{before:e}:e;return A(n,this._actionSubscribers,t)},se.prototype.watch=function(e,t,n){var r=this;return(0,i.YP)((function(){return e(r.state,r.getters)}),t,Object.assign({},n))},se.prototype.replaceState=function(e){var t=this;this._withCommit((function(){t._state.data=e}))},se.prototype.registerModule=function(e,t,n){void 0===n&&(n={}),"string"===typeof e&&(e=[e]),this._modules.register(e,t),D(this,this.state,e,this._modules.get(e),n.preserveState),C(this,this.state)},se.prototype.unregisterModule=function(e){var t=this;"string"===typeof e&&(e=[e]),this._modules.unregister(e),this._withCommit((function(){var n=F(t.state,e.slice(0,-1));delete n[e[e.length-1]]})),Z(this)},se.prototype.hasModule=function(e){return"string"===typeof e&&(e=[e]),this._modules.isRegistered(e)},se.prototype.hotUpdate=function(e){this._modules.update(e),Z(this,!0)},se.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(se.prototype,ce);he((function(e,t){var n={};return le(t).forEach((function(t){var r=t.key,i=t.val;n[r]=function(){var t=this.$store.state,n=this.$store.getters;if(e){var r=de(this.$store,"mapState",e);if(!r)return;t=r.context.state,n=r.context.getters}return"function"===typeof i?i.call(this,t,n):t[i]},n[r].vuex=!0})),n})),he((function(e,t){var n={};return le(t).forEach((function(t){var r=t.key,i=t.val;n[r]=function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];var r=this.$store.commit;if(e){var a=de(this.$store,"mapMutations",e);if(!a)return;r=a.context.commit}return"function"===typeof i?i.apply(this,[r].concat(t)):r.apply(this.$store,[i].concat(t))}})),n})),he((function(e,t){var n={};return le(t).forEach((function(t){var r=t.key,i=t.val;i=e+i,n[r]=function(){if(!e||de(this.$store,"mapGetters",e))return this.$store.getters[i]},n[r].vuex=!0})),n})),he((function(e,t){var n={};return le(t).forEach((function(t){var r=t.key,i=t.val;n[r]=function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];var r=this.$store.dispatch;if(e){var a=de(this.$store,"mapActions",e);if(!a)return;r=a.context.dispatch}return"function"===typeof i?i.apply(this,[r].concat(t)):r.apply(this.$store,[i].concat(t))}})),n}));function le(e){return fe(e)?Array.isArray(e)?e.map((function(e){return{key:e,val:e}})):Object.keys(e).map((function(t){return{key:t,val:e[t]}})):[]}function fe(e){return Array.isArray(e)||I(e)}function he(e){return function(t,n){return"string"!==typeof t?(n=t,t=""):"/"!==t.charAt(t.length-1)&&(t+="/"),e(t,n)}}function de(e,t,n){var r=e._modulesNamespaceMap[n];return r}},9227:(e,t,n)=>{"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:()=>r})},2417:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});n(1703),n(6647);function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},8534:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});n(1539);function r(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function u(e){r(o,i,a,u,s,"next",e)}function s(e){r(o,i,a,u,s,"throw",e)}u(void 0)}))}}},3087:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});n(1703),n(6647);function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},5507:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});n(4812),n(2419),n(1539),n(1299);var r=n(3967),i=n(7814);function a(e,t,n){return a=(0,i.Z)()?Reflect.construct.bind():function(e,t,n){var i=[null];i.push.apply(i,t);var a=Function.bind.apply(e,i),o=new a;return n&&(0,r.Z)(o,n.prototype),o},a.apply(null,arguments)}},2833:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});n(9070);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},6347:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});n(2526),n(1817),n(1539),n(2165),n(8783),n(3948),n(9753),n(1703),n(6647);var r=n(2780);function i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==n["return"]||n["return"]()}finally{if(s)throw o}}}}},7946:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});n(2419),n(1539),n(1299);var r=n(2040),i=n(7814),a=(n(1703),n(6647),n(3336)),o=n(2417);function u(e,t){if(t&&("object"===(0,a.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,o.Z)(e)}function s(e){var t=(0,i.Z)();return function(){var n,i=(0,r.Z)(e);if(t){var a=(0,r.Z)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return u(this,n)}}},2482:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});n(9070);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},2040:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});n(8304),n(4812),n(489);function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}},9110:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});n(1703),n(6647),n(8011),n(9070);var r=n(3967);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}},7814:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});n(1539),n(1299),n(2419);function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}},124:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});n(2526),n(1817),n(1539),n(2165),n(8783),n(3948),n(2443),n(3680),n(3706),n(2703),n(9070),n(8011),n(1703),n(6647),n(489),n(9554),n(4747),n(8309),n(8304),n(5069),n(7042);var r=n(3336);function i(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(A){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),o=new I(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return T()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=x(o,n);if(u){if(u===h)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=f(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===h)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=l;var h={};function d(){}function v(){}function p(){}var y={};c(y,o,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(S([])));m&&m!==t&&n.call(m,o)&&(y=m);var w=p.prototype=d.prototype=Object.create(y);function k(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(a,o,u,s){var c=f(e[a],e,o);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==(0,r.Z)(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,u,s)}),(function(e){i("throw",e,u,s)})):t.resolve(h).then((function(e){l.value=e,u(l)}),(function(e){return i("throw",e,u,s)}))}s(c.arg)}var a;this._invoke=function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator["return"]&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var r=f(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,h;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return v.prototype=p,c(w,"constructor",p),c(p,"constructor",v),v.displayName=c(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},k(b.prototype),c(b.prototype,u,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(l(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(w),c(w,s,"Generator"),c(w,o,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=S,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}},3967:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});n(8304),n(4812);function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}},6084:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});n(9753);function r(e){if(Array.isArray(e))return e}n(2526),n(1817),n(1539),n(2165),n(8783),n(3948);function i(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(a.push(r.value),t&&a.length===t)break}catch(s){u=!0,i=s}finally{try{o||null==n["return"]||n["return"]()}finally{if(u)throw i}}return a}}var a=n(2780);n(1703),n(6647);function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){return r(e)||i(e,t)||(0,a.Z)(e,t)||o()}},9584:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});n(9753);var r=n(9227);function i(e){if(Array.isArray(e))return(0,r.Z)(e)}n(2526),n(1817),n(1539),n(2165),n(8783),n(3948),n(1038);function a(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}var o=n(2780);n(1703),n(6647);function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e){return i(e)||a(e)||(0,o.Z)(e)||u()}},3336:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});n(2526),n(1817),n(1539),n(2165),n(8783),n(3948);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}},2780:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});n(7042),n(1539),n(8309),n(1038),n(8783),n(4916),n(7601);var r=n(9227);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}},2661:(e,t,n)=>{"use strict";n.d(t,{Z:()=>x});var r,i=n(2482),a=n(3087),o=n(2833),u=(n(8309),n(1539),n(9070),n(1249),n(7941),n(4916),n(5306),n(4812),n(2772),n(5287)),s=n(7142),c=n(2866),l=n(5168),f=function(){function e(t,n){var r=this;(0,a.Z)(this,e),this._delegate=t,this.firebase=n,(0,c._addComponent)(t,new s.wA("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return(0,o.Z)(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),(0,c.deleteApp)(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c._DEFAULT_ENTRY_NAME;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c._DEFAULT_ENTRY_NAME;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){(0,c._addComponent)(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){(0,c._addOrOverwriteComponent)(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),h=(r={},(0,i.Z)(r,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,i.Z)(r,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),r),d=new u.LL("app-compat","Firebase",h);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function v(e){var t={},n={__esModule:!0,initializeApp:a,app:i,registerVersion:c.registerVersion,setLogLevel:c.setLogLevel,onLog:c.onLog,apps:null,SDK_VERSION:c.SDK_VERSION,INTERNAL:{registerComponent:s,removeApp:r,useAsService:l,modularAPIs:c}};function r(e){delete t[e]}function i(e){if(e=e||c._DEFAULT_ENTRY_NAME,!(0,u.r3)(t,e))throw d.create("no-app",{appName:e});return t[e]}function a(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=c.initializeApp(r,i);if((0,u.r3)(t,a.name))return t[a.name];var o=new e(a,n);return t[a.name]=o,o}function o(){return Object.keys(t).map((function(e){return t[e]}))}function s(t){var r=t.name,a=r.replace("-compat","");if(c._registerComponent(t)&&"PUBLIC"===t.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw d.create("invalid-app-argument",{appName:r});return e[a]()};void 0!==t.serviceProps&&(0,u.ZB)(o,t.serviceProps),n[a]=o,e.prototype[a]=function(){for(var e=this._getService.bind(this,r),n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e.apply(this,t.multipleInstances?i:[])}}return"PUBLIC"===t.type?n[a]:null}function l(e,t){if("serverAuth"===t)return null;var n=t;return n}return n["default"]=n,Object.defineProperty(n,"apps",{get:o}),i["App"]=e,n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p(){var e=v(f);function t(t){(0,u.ZB)(e,t)}return e.INTERNAL=Object.assign(Object.assign({},e.INTERNAL),{createFirebaseNamespace:p,extendNamespace:t,createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),e}var y=p(),g=new l.Yd("@firebase/app-compat"),m="@firebase/app-compat",w="0.1.29";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function k(e){(0,c.registerVersion)(m,w,e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if((0,u.jU)()&&void 0!==self.firebase){g.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var b=self.firebase.SDK_VERSION;b&&b.indexOf("LITE")>=0&&g.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var x=y;k()},2866:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FirebaseError:()=>d.ZR,SDK_VERSION:()=>Ce,_DEFAULT_ENTRY_NAME:()=>ge,_addComponent:()=>be,_addOrOverwriteComponent:()=>xe,_apps:()=>we,_clearComponents:()=>Se,_components:()=>ke,_getProvider:()=>_e,_registerComponent:()=>Ee,_removeServiceInstance:()=>Ie,deleteApp:()=>Re,getApp:()=>Oe,getApps:()=>Ne,initializeApp:()=>De,onLog:()=>Pe,registerVersion:()=>Le,setLogLevel:()=>Fe});var r=n(9584),i=n(124),a=n(8534),o=n(3336),u=n(6347),s=n(2482),c=n(3087),l=n(2833),f=(n(9600),n(7327),n(1539),n(1249),n(2222),n(1532),n(8783),n(3948),n(8309),n(1038),n(4916),n(4723),n(5212),n(3710),n(3843),n(8862),n(8733),n(7042),n(9826),n(7142)),h=n(5168),d=n(5287);n(7941),n(2526),n(5003),n(9554),n(4747),n(9337),n(3321),n(9070);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(5306),n(6699),n(4129),n(6647),n(7714),n(2801),n(1174),n(2707),n(2023);var y,g,m=function(e,t){return t.some((function(t){return e instanceof t}))};function w(){return y||(y=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function k(){return g||(g=[IDBCursor.prototype.advance,IDBCursor.prototype["continue"],IDBCursor.prototype.continuePrimaryKey])}var b=new WeakMap,x=new WeakMap,E=new WeakMap,_=new WeakMap,I=new WeakMap;function S(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(O(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&b.set(t,e)}))["catch"]((function(){})),I.set(t,e),t}function T(e){if(!x.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));x.set(e,t)}}var A={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return x.get(e);if("objectStoreNames"===t)return e.objectStoreNames||E.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return O(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Z(e){A=e(A)}function C(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?k().includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(N(this),n),O(b.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return O(e.apply(N(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[N(this),t].concat(r));return E.set(a,t.sort?t.sort():[t]),O(a)}}function D(e){return"function"===typeof e?C(e):(e instanceof IDBTransaction&&T(e),m(e,w())?new Proxy(e,A):e)}function O(e){if(e instanceof IDBRequest)return S(e);if(_.has(e))return _.get(e);var t=D(e);return t!==e&&(_.set(e,t),I.set(t,e)),t}var N=function(e){return I.get(e)};function R(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=O(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(O(u.result),e.oldVersion,e.newVersion,O(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))}))["catch"]((function(){})),s}var M,L,P=["get","getKey","getAll","getAllKeys","count"],F=["put","add","delete","clear"],V=new Map;function j(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(V.get(t))return V.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,o=F.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(o||P.includes(n))){var u=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t){var a,u,s,c,l,f,h=arguments;return(0,i.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(u=this.transaction(t,o?"readwrite":"readonly"),s=u.store,c=h.length,l=new Array(c>1?c-1:0),f=1;f<c;f++)l[f-1]=h[f];return r&&(s=s.index(l.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,l),o&&u.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return V.set(t,u),u}}}Z((function(e){return p(p({},e),{},{get:function(t,n,r){return j(t,n)||e.get(t,n,r)},has:function(t,n){return!!j(t,n)||e.has(t,n)}})}));
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var U=function(){function e(t){(0,c.Z)(this,e),this.container=t}return(0,l.Z)(e,[{key:"getPlatformInfoString",value:function(){var e=this.container.getProviders();return e.map((function(e){if(B(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();function B(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}var q="@firebase/app",G="0.7.28",K=new h.Yd("@firebase/app"),z="@firebase/app-compat",H="@firebase/analytics-compat",W="@firebase/analytics",Q="@firebase/app-check-compat",J="@firebase/app-check",Y="@firebase/auth",$="@firebase/auth-compat",X="@firebase/database",ee="@firebase/database-compat",te="@firebase/functions",ne="@firebase/functions-compat",re="@firebase/installations",ie="@firebase/installations-compat",ae="@firebase/messaging",oe="@firebase/messaging-compat",ue="@firebase/performance",se="@firebase/performance-compat",ce="@firebase/remote-config",le="@firebase/remote-config-compat",fe="@firebase/storage",he="@firebase/storage-compat",de="@firebase/firestore",ve="@firebase/firestore-compat",pe="firebase",ye="9.9.0",ge="[DEFAULT]",me=(M={},(0,s.Z)(M,q,"fire-core"),(0,s.Z)(M,z,"fire-core-compat"),(0,s.Z)(M,W,"fire-analytics"),(0,s.Z)(M,H,"fire-analytics-compat"),(0,s.Z)(M,J,"fire-app-check"),(0,s.Z)(M,Q,"fire-app-check-compat"),(0,s.Z)(M,Y,"fire-auth"),(0,s.Z)(M,$,"fire-auth-compat"),(0,s.Z)(M,X,"fire-rtdb"),(0,s.Z)(M,ee,"fire-rtdb-compat"),(0,s.Z)(M,te,"fire-fn"),(0,s.Z)(M,ne,"fire-fn-compat"),(0,s.Z)(M,re,"fire-iid"),(0,s.Z)(M,ie,"fire-iid-compat"),(0,s.Z)(M,ae,"fire-fcm"),(0,s.Z)(M,oe,"fire-fcm-compat"),(0,s.Z)(M,ue,"fire-perf"),(0,s.Z)(M,se,"fire-perf-compat"),(0,s.Z)(M,ce,"fire-rc"),(0,s.Z)(M,le,"fire-rc-compat"),(0,s.Z)(M,fe,"fire-gcs"),(0,s.Z)(M,he,"fire-gcs-compat"),(0,s.Z)(M,de,"fire-fst"),(0,s.Z)(M,ve,"fire-fst-compat"),(0,s.Z)(M,"fire-js","fire-js"),(0,s.Z)(M,pe,"fire-js-all"),M),we=new Map,ke=new Map;function be(e,t){try{e.container.addComponent(t)}catch(n){K.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function xe(e,t){e.container.addOrOverwriteComponent(t)}function Ee(e){var t=e.name;if(ke.has(t))return K.debug("There were multiple attempts to register component ".concat(t,".")),!1;ke.set(t,e);var n,r=(0,u.Z)(we.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;be(i,e)}}catch(a){r.e(a)}finally{r.f()}return!0}function _e(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ie(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ge;_e(e,t).clearInstance(n)}function Se(){ke.clear()}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te=(L={},(0,s.Z)(L,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,s.Z)(L,"bad-app-name","Illegal App name: '{$appName}"),(0,s.Z)(L,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),(0,s.Z)(L,"app-deleted","Firebase App named '{$appName}' already deleted"),(0,s.Z)(L,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),(0,s.Z)(L,"invalid-log-argument","First argument to `onLog` must be null or a function."),(0,s.Z)(L,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),(0,s.Z)(L,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),(0,s.Z)(L,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),(0,s.Z)(L,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),L),Ae=new d.LL("app","Firebase",Te),Ze=function(){function e(t,n,r){var i=this;(0,c.Z)(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new f.wA("app",(function(){return i}),"PUBLIC"))}return(0,l.Z)(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Ae.create("app-deleted",{appName:this._name})}}]),e}(),Ce=ye;function De(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==(0,o.Z)(t)){var n=t;t={name:n}}var r=Object.assign({name:ge,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Ae.create("bad-app-name",{appName:String(i)});var a=we.get(i);if(a){if((0,d.vZ)(e,a.options)&&(0,d.vZ)(r,a.config))return a;throw Ae.create("duplicate-app",{appName:i})}var s,c=new f.H0(i),l=(0,u.Z)(ke.values());try{for(l.s();!(s=l.n()).done;){var h=s.value;c.addComponent(h)}}catch(p){l.e(p)}finally{l.f()}var v=new Ze(e,r,c);return we.set(i,v),v}function Oe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=we.get(e);if(!t)throw Ae.create("no-app",{appName:e});return t}function Ne(){return Array.from(we.values())}function Re(e){return Me.apply(this,arguments)}function Me(){return Me=(0,a.Z)((0,i.Z)().mark((function e(t){var n;return(0,i.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.name,!we.has(n)){e.next=6;break}return we["delete"](n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e["delete"]()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),Me.apply(this,arguments)}function Le(e,t,n){var r,i=null!==(r=me[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void K.warn(u.join(" "))}Ee(new f.wA("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Pe(e,t){if(null!==e&&"function"!==typeof e)throw Ae.create("invalid-log-argument");(0,h.Am)(e,t)}function Fe(e){(0,h.Ub)(e)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve="firebase-heartbeat-database",je=1,Ue="firebase-heartbeat-store",Be=null;function qe(){return Be||(Be=R(Ve,je,{upgrade:function(e,t){switch(t){case 0:e.createObjectStore(Ue)}}})["catch"]((function(e){throw Ae.create("storage-open",{originalErrorMessage:e.message})}))),Be}function Ge(e){return Ke.apply(this,arguments)}function Ke(){return Ke=(0,a.Z)((0,i.Z)().mark((function e(t){var n,r;return(0,i.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,qe();case 3:return r=e.sent,e.abrupt("return",r.transaction(Ue).objectStore(Ue).get(We(t)));case 7:throw e.prev=7,e.t0=e["catch"](0),Ae.create("storage-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Ke.apply(this,arguments)}function ze(e,t){return He.apply(this,arguments)}function He(){return He=(0,a.Z)((0,i.Z)().mark((function e(t,n){var r,a,o,u;return(0,i.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,qe();case 3:return a=e.sent,o=a.transaction(Ue,"readwrite"),u=o.objectStore(Ue),e.next=8,u.put(n,We(t));case 8:return e.abrupt("return",o.done);case 11:throw e.prev=11,e.t0=e["catch"](0),Ae.create("storage-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),He.apply(this,arguments)}function We(e){return"".concat(e.name,"!").concat(e.options.appId)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe=1024,Je=2592e6,Ye=function(){function e(t){var n=this;(0,c.Z)(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new et(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return(0,l.Z)(e,[{key:"triggerHeartbeat",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(){var t,n,r;return(0,i.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=$e(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf(),n=Date.now();return n-t<=Je})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getHeartbeatsHeader",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(){var t,n,r,a,o;return(0,i.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=$e(),n=Xe(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,a=n.unsentEntries,o=(0,d.L)(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(a.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=a,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",o);case 18:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}();function $e(){var e=new Date;return e.toISOString().substring(0,10)}function Xe(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qe,r=[],i=e.slice(),a=(0,u.Z)(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),tt(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),tt(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var s=o();if("break"===s)break}}catch(c){a.e(c)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var et=function(){function e(t){(0,c.Z)(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return(0,l.Z)(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if((0,d.hl)()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",(0,d.eu)().then((function(){return!0}))["catch"]((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"read",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(){var t,n;return(0,i.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(t=e.sent,t){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Ge(this.app);case 9:return n=e.sent,e.abrupt("return",n||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"overwrite",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t){var n,r,a;return(0,i.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(r=e.sent,r){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return a=e.sent,e.abrupt("return",ze(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:a.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"add",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t){var n,a,o;return(0,i.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(a=e.sent,a){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return o=e.sent,e.abrupt("return",ze(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:o.lastSentHeartbeatDate,heartbeats:[].concat((0,r.Z)(o.heartbeats),(0,r.Z)(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}();function tt(e){return(0,d.L)(JSON.stringify({version:2,heartbeats:e})).length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nt(e){Ee(new f.wA("platform-logger",(function(e){return new U(e)}),"PRIVATE")),Ee(new f.wA("heartbeat",(function(e){return new Ye(e)}),"PRIVATE")),Le(q,G,e),Le(q,G,"esm2017"),Le("fire-js","")}nt("")},7142:(e,t,n)=>{"use strict";n.d(t,{H0:()=>y,wA:()=>f});var r=n(124),i=n(9584),a=n(8534),o=n(6084),u=n(6347),s=n(3087),c=n(2833),l=(n(8309),n(1532),n(1539),n(8783),n(3948),n(1703),n(6647),n(2222),n(1038),n(1249),n(7327),n(189),n(5287)),f=function(){function e(t,n,r){(0,s.Z)(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return(0,c.Z)(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),h="[DEFAULT]",d=function(){function e(t,n){(0,s.Z)(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return(0,c.Z)(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new l.BH;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(p(e))try{this.getOrInitializeService({instanceIdentifier:h})}catch(l){}var t,n=(0,u.Z)(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=(0,o.Z)(t.value,2),i=r[0],a=r[1],s=this.normalizeInstanceIdentifier(i);try{var c=this.getOrInitializeService({instanceIdentifier:s});a.resolve(c)}catch(l){}}}catch(f){n.e(f)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;this.instancesDeferred["delete"](e),this.instancesOptions["delete"](e),this.instances["delete"](e)}},{key:"delete",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat((0,i.Z)(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL["delete"]()}))),(0,i.Z)(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),s=(0,u.Z)(this.instancesDeferred.entries());try{for(s.s();!(i=s.n()).done;){var c=(0,o.Z)(i.value,2),l=c[0],f=c[1],h=this.normalizeInstanceIdentifier(l);r===h&&f.resolve(a)}}catch(d){s.e(d)}finally{s.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i["delete"](e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=(0,u.Z)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(s){i.e(s)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:v(t),options:r}),this.instances.set(t,i),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(a){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;return this.component?this.component.multipleInstances?e:h:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();function v(e){return e===h?void 0:e}function p(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var y=function(){function e(t){(0,s.Z)(this,e),this.name=t,this.providers=new Map}return(0,c.Z)(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){var t=this.getProvider(e.name);t.isComponentSet()&&this.providers["delete"](e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new d(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}()},5168:(e,t,n)=>{"use strict";n.d(t,{Am:()=>y,Ub:()=>p,Yd:()=>v,in:()=>i});var r,i,a=n(6347),o=n(3087),u=n(2833),s=n(2482),c=(n(8733),n(3710),n(2222),n(8309),n(1703),n(6647),n(9554),n(1539),n(9600),n(7327),n(1249),n(9714),n(8862),[]);(function(e){e[e["DEBUG"]=0]="DEBUG",e[e["VERBOSE"]=1]="VERBOSE",e[e["INFO"]=2]="INFO",e[e["WARN"]=3]="WARN",e[e["ERROR"]=4]="ERROR",e[e["SILENT"]=5]="SILENT"})(i||(i={}));var l={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},f=i.INFO,h=(r={},(0,s.Z)(r,i.DEBUG,"log"),(0,s.Z)(r,i.VERBOSE,"log"),(0,s.Z)(r,i.INFO,"info"),(0,s.Z)(r,i.WARN,"warn"),(0,s.Z)(r,i.ERROR,"error"),r),d=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=h[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},v=function(){function e(t){(0,o.Z)(this,e),this.name=t,this._logLevel=f,this._logHandler=d,this._userLogHandler=null,c.push(this)}return(0,u.Z)(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in i))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?l[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,i.DEBUG].concat(t)),this._logHandler.apply(this,[this,i.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,i.VERBOSE].concat(t)),this._logHandler.apply(this,[this,i.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,i.INFO].concat(t)),this._logHandler.apply(this,[this,i.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,i.WARN].concat(t)),this._logHandler.apply(this,[this,i.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,i.ERROR].concat(t)),this._logHandler.apply(this,[this,i.ERROR].concat(t))}}]),e}();function p(e){c.forEach((function(t){t.setLogLevel(e)}))}function y(e,t){var n,r=(0,a.Z)(c);try{var o=function(){var r=n.value,a=null;t&&t.level&&(a=l[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),u=2;u<r;u++)o[u-2]=arguments[u];var s=o.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==a&&void 0!==a?a:t.logLevel)&&e({level:i[n].toLowerCase(),message:s,args:o,type:t.name})}};for(r.s();!(n=r.n()).done;)o()}catch(u){r.e(u)}finally{r.f()}}}}]);
//# sourceMappingURL=chunk-vendors.a48d17cb.js.map